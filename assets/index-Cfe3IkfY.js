var vE=Object.defineProperty;var EE=(l,t,n)=>t in l?vE(l,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):l[t]=n;var f0=(l,t,n)=>EE(l,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var ef={exports:{}},dr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function xE(){if(d0)return dr;d0=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:l,type:s,key:c,ref:r!==void 0?r:null,props:o}}return dr.Fragment=t,dr.jsx=n,dr.jsxs=n,dr}var g0;function SE(){return g0||(g0=1,ef.exports=xE()),ef.exports}var Q=SE(),nf={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function TE(){if(_0)return Et;_0=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function T(C,X,k){this.props=C,this.context=X,this.refs=w,this.updater=k||x}T.prototype.isReactComponent={},T.prototype.setState=function(C,X){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,X,"setState")},T.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function b(){}b.prototype=T.prototype;function D(C,X,k){this.props=C,this.context=X,this.refs=w,this.updater=k||x}var G=D.prototype=new b;G.constructor=D,S(G,T.prototype),G.isPureReactComponent=!0;var I=Array.isArray,O={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function K(C,X,k,et,$,at){return k=at.ref,{$$typeof:l,type:C,key:X,ref:k!==void 0?k:null,props:at}}function Z(C,X){return K(C.type,X,void 0,void 0,void 0,C.props)}function U(C){return typeof C=="object"&&C!==null&&C.$$typeof===l}function V(C){var X={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(k){return X[k]})}var st=/\/+/g;function lt(C,X){return typeof C=="object"&&C!==null&&C.key!=null?V(""+C.key):X.toString(36)}function ot(){}function tt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(ot,ot):(C.status="pending",C.then(function(X){C.status==="pending"&&(C.status="fulfilled",C.value=X)},function(X){C.status==="pending"&&(C.status="rejected",C.reason=X)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function gt(C,X,k,et,$){var at=typeof C;(at==="undefined"||at==="boolean")&&(C=null);var ct=!1;if(C===null)ct=!0;else switch(at){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(C.$$typeof){case l:case t:ct=!0;break;case m:return ct=C._init,gt(ct(C._payload),X,k,et,$)}}if(ct)return $=$(C),ct=et===""?"."+lt(C,0):et,I($)?(k="",ct!=null&&(k=ct.replace(st,"$&/")+"/"),gt($,X,k,"",function(Xt){return Xt})):$!=null&&(U($)&&($=Z($,k+($.key==null||C&&C.key===$.key?"":(""+$.key).replace(st,"$&/")+"/")+ct)),X.push($)),1;ct=0;var Ut=et===""?".":et+":";if(I(C))for(var mt=0;mt<C.length;mt++)et=C[mt],at=Ut+lt(et,mt),ct+=gt(et,X,k,at,$);else if(mt=v(C),typeof mt=="function")for(C=mt.call(C),mt=0;!(et=C.next()).done;)et=et.value,at=Ut+lt(et,mt++),ct+=gt(et,X,k,at,$);else if(at==="object"){if(typeof C.then=="function")return gt(tt(C),X,k,et,$);throw X=String(C),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ct}function Y(C,X,k){if(C==null)return C;var et=[],$=0;return gt(C,et,"","",function(at){return X.call(k,at,$++)}),et}function J(C){if(C._status===-1){var X=C._result;X=X(),X.then(function(k){(C._status===0||C._status===-1)&&(C._status=1,C._result=k)},function(k){(C._status===0||C._status===-1)&&(C._status=2,C._result=k)}),C._status===-1&&(C._status=0,C._result=X)}if(C._status===1)return C._result.default;throw C._result}var W=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function nt(){}return Et.Children={map:Y,forEach:function(C,X,k){Y(C,function(){X.apply(this,arguments)},k)},count:function(C){var X=0;return Y(C,function(){X++}),X},toArray:function(C){return Y(C,function(X){return X})||[]},only:function(C){if(!U(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Et.Component=T,Et.Fragment=n,Et.Profiler=r,Et.PureComponent=D,Et.StrictMode=s,Et.Suspense=d,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Et.act=function(){throw Error("act(...) is not supported in production builds of React.")},Et.cache=function(C){return function(){return C.apply(null,arguments)}},Et.cloneElement=function(C,X,k){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var et=S({},C.props),$=C.key,at=void 0;if(X!=null)for(ct in X.ref!==void 0&&(at=void 0),X.key!==void 0&&($=""+X.key),X)!q.call(X,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&X.ref===void 0||(et[ct]=X[ct]);var ct=arguments.length-2;if(ct===1)et.children=k;else if(1<ct){for(var Ut=Array(ct),mt=0;mt<ct;mt++)Ut[mt]=arguments[mt+2];et.children=Ut}return K(C.type,$,void 0,void 0,at,et)},Et.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:o,_context:C},C},Et.createElement=function(C,X,k){var et,$={},at=null;if(X!=null)for(et in X.key!==void 0&&(at=""+X.key),X)q.call(X,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&($[et]=X[et]);var ct=arguments.length-2;if(ct===1)$.children=k;else if(1<ct){for(var Ut=Array(ct),mt=0;mt<ct;mt++)Ut[mt]=arguments[mt+2];$.children=Ut}if(C&&C.defaultProps)for(et in ct=C.defaultProps,ct)$[et]===void 0&&($[et]=ct[et]);return K(C,at,void 0,void 0,null,$)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(C){return{$$typeof:h,render:C}},Et.isValidElement=U,Et.lazy=function(C){return{$$typeof:m,_payload:{_status:-1,_result:C},_init:J}},Et.memo=function(C,X){return{$$typeof:_,type:C,compare:X===void 0?null:X}},Et.startTransition=function(C){var X=O.T,k={};O.T=k;try{var et=C(),$=O.S;$!==null&&$(k,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(nt,W)}catch(at){W(at)}finally{O.T=X}},Et.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Et.use=function(C){return O.H.use(C)},Et.useActionState=function(C,X,k){return O.H.useActionState(C,X,k)},Et.useCallback=function(C,X){return O.H.useCallback(C,X)},Et.useContext=function(C){return O.H.useContext(C)},Et.useDebugValue=function(){},Et.useDeferredValue=function(C,X){return O.H.useDeferredValue(C,X)},Et.useEffect=function(C,X){return O.H.useEffect(C,X)},Et.useId=function(){return O.H.useId()},Et.useImperativeHandle=function(C,X,k){return O.H.useImperativeHandle(C,X,k)},Et.useInsertionEffect=function(C,X){return O.H.useInsertionEffect(C,X)},Et.useLayoutEffect=function(C,X){return O.H.useLayoutEffect(C,X)},Et.useMemo=function(C,X){return O.H.useMemo(C,X)},Et.useOptimistic=function(C,X){return O.H.useOptimistic(C,X)},Et.useReducer=function(C,X,k){return O.H.useReducer(C,X,k)},Et.useRef=function(C){return O.H.useRef(C)},Et.useState=function(C){return O.H.useState(C)},Et.useSyncExternalStore=function(C,X,k){return O.H.useSyncExternalStore(C,X,k)},Et.useTransition=function(){return O.H.useTransition()},Et.version="19.0.0",Et}var m0;function $f(){return m0||(m0=1,nf.exports=TE()),nf.exports}var wt=$f(),sf={exports:{}},gr={},lf={exports:{}},af={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function RE(){return y0||(y0=1,function(l){function t(Y,J){var W=Y.length;Y.push(J);t:for(;0<W;){var nt=W-1>>>1,C=Y[nt];if(0<r(C,J))Y[nt]=J,Y[W]=C,W=nt;else break t}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var J=Y[0],W=Y.pop();if(W!==J){Y[0]=W;t:for(var nt=0,C=Y.length,X=C>>>1;nt<X;){var k=2*(nt+1)-1,et=Y[k],$=k+1,at=Y[$];if(0>r(et,W))$<C&&0>r(at,et)?(Y[nt]=at,Y[$]=W,nt=$):(Y[nt]=et,Y[k]=W,nt=k);else if($<C&&0>r(at,W))Y[nt]=at,Y[$]=W,nt=$;else break t}}return J}function r(Y,J){var W=Y.sortIndex-J.sortIndex;return W!==0?W:Y.id-J.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;l.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();l.unstable_now=function(){return c.now()-h}}var d=[],_=[],m=1,y=null,v=3,x=!1,S=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function G(Y){for(var J=n(_);J!==null;){if(J.callback===null)s(_);else if(J.startTime<=Y)s(_),J.sortIndex=J.expirationTime,t(d,J);else break;J=n(_)}}function I(Y){if(w=!1,G(Y),!S)if(n(d)!==null)S=!0,tt();else{var J=n(_);J!==null&&gt(I,J.startTime-Y)}}var O=!1,q=-1,K=5,Z=-1;function U(){return!(l.unstable_now()-Z<K)}function V(){if(O){var Y=l.unstable_now();Z=Y;var J=!0;try{t:{S=!1,w&&(w=!1,b(q),q=-1),x=!0;var W=v;try{e:{for(G(Y),y=n(d);y!==null&&!(y.expirationTime>Y&&U());){var nt=y.callback;if(typeof nt=="function"){y.callback=null,v=y.priorityLevel;var C=nt(y.expirationTime<=Y);if(Y=l.unstable_now(),typeof C=="function"){y.callback=C,G(Y),J=!0;break e}y===n(d)&&s(d),G(Y)}else s(d);y=n(d)}if(y!==null)J=!0;else{var X=n(_);X!==null&&gt(I,X.startTime-Y),J=!1}}break t}finally{y=null,v=W,x=!1}J=void 0}}finally{J?st():O=!1}}}var st;if(typeof D=="function")st=function(){D(V)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,ot=lt.port2;lt.port1.onmessage=V,st=function(){ot.postMessage(null)}}else st=function(){T(V,0)};function tt(){O||(O=!0,st())}function gt(Y,J){q=T(function(){Y(l.unstable_now())},J)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(Y){Y.callback=null},l.unstable_continueExecution=function(){S||x||(S=!0,tt())},l.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<Y?Math.floor(1e3/Y):5},l.unstable_getCurrentPriorityLevel=function(){return v},l.unstable_getFirstCallbackNode=function(){return n(d)},l.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var W=v;v=J;try{return Y()}finally{v=W}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(Y,J){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var W=v;v=Y;try{return J()}finally{v=W}},l.unstable_scheduleCallback=function(Y,J,W){var nt=l.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?nt+W:nt):W=nt,Y){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=W+C,Y={id:m++,callback:J,priorityLevel:Y,startTime:W,expirationTime:C,sortIndex:-1},W>nt?(Y.sortIndex=W,t(_,Y),n(d)===null&&Y===n(_)&&(w?(b(q),q=-1):w=!0,gt(I,W-nt))):(Y.sortIndex=C,t(d,Y),S||x||(S=!0,tt())),Y},l.unstable_shouldYield=U,l.unstable_wrapCallback=function(Y){var J=v;return function(){var W=v;v=J;try{return Y.apply(this,arguments)}finally{v=W}}}}(af)),af}var p0;function CE(){return p0||(p0=1,lf.exports=RE()),lf.exports}var rf={exports:{}},Ae={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function wE(){if(v0)return Ae;v0=1;var l=$f();function t(d){var _="https://react.dev/errors/"+d;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)_+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,_,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:d,containerInfo:_,implementation:m}}var c=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,_){if(d==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ae.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ae.createPortal=function(d,_){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return o(d,_,null,m)},Ae.flushSync=function(d){var _=c.T,m=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=_,s.p=m,s.d.f()}},Ae.preconnect=function(d,_){typeof d=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(d,_))},Ae.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Ae.preinit=function(d,_){if(typeof d=="string"&&_&&typeof _.as=="string"){var m=_.as,y=h(m,_.crossOrigin),v=typeof _.integrity=="string"?_.integrity:void 0,x=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;m==="style"?s.d.S(d,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:x}):m==="script"&&s.d.X(d,{crossOrigin:y,integrity:v,fetchPriority:x,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ae.preinitModule=function(d,_){if(typeof d=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var m=h(_.as,_.crossOrigin);s.d.M(d,{crossOrigin:m,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(d)},Ae.preload=function(d,_){if(typeof d=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var m=_.as,y=h(m,_.crossOrigin);s.d.L(d,m,{crossOrigin:y,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ae.preloadModule=function(d,_){if(typeof d=="string")if(_){var m=h(_.as,_.crossOrigin);s.d.m(d,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:m,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(d)},Ae.requestFormReset=function(d){s.d.r(d)},Ae.unstable_batchedUpdates=function(d,_){return d(_)},Ae.useFormState=function(d,_,m){return c.H.useFormState(d,_,m)},Ae.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ae.version="19.0.0",Ae}var E0;function bE(){if(E0)return rf.exports;E0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),rf.exports=wE(),rf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function AE(){if(x0)return gr;x0=1;var l=CE(),t=$f(),n=bE();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var o=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),I=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var K=Symbol.for("react.client.reference");function Z(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===K?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case d:return"Fragment";case h:return"Portal";case m:return"Profiler";case _:return"StrictMode";case w:return"Suspense";case T:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case x:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case S:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case b:return i=e.displayName||null,i!==null?i:Z(e.type)||"Memo";case D:i=e._payload,e=e._init;try{return Z(e(i))}catch{}}return null}var U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=Object.assign,st,lt;function ot(e){if(st===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);st=i&&i[1]||"",lt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+st+e+lt}var tt=!1;function gt(e,i){if(!e||tt)return"";tt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(F){var N=F}Reflect.construct(e,[],P)}else{try{P.call()}catch(F){N=F}e.call(P.prototype)}}else{try{throw Error()}catch(F){N=F}(P=e())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(F){if(F&&N&&typeof F.stack=="string")return[F.stack,N.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),p=g[0],E=g[1];if(p&&E){var R=p.split(`
`),M=E.split(`
`);for(f=u=0;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;for(;f<M.length&&!M[f].includes("DetermineComponentFrameRoot");)f++;if(u===R.length||f===M.length)for(u=R.length-1,f=M.length-1;1<=u&&0<=f&&R[u]!==M[f];)f--;for(;1<=u&&0<=f;u--,f--)if(R[u]!==M[f]){if(u!==1||f!==1)do if(u--,f--,0>f||R[u]!==M[f]){var B=`
`+R[u].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=u&&0<=f);break}}}finally{tt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ot(a):""}function Y(e){switch(e.tag){case 26:case 27:case 5:return ot(e.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return e=gt(e.type,!1),e;case 11:return e=gt(e.type.render,!1),e;case 1:return e=gt(e.type,!0),e;default:return""}}function J(e){try{var i="";do i+=Y(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function W(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function nt(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function C(e){if(W(e)!==e)throw Error(s(188))}function X(e){var i=e.alternate;if(!i){if(i=W(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,u=i;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return C(f),e;if(g===u)return C(f),i;g=g.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=g;else{for(var p=!1,E=f.child;E;){if(E===a){p=!0,a=f,u=g;break}if(E===u){p=!0,u=f,a=g;break}E=E.sibling}if(!p){for(E=g.child;E;){if(E===a){p=!0,a=g,u=f;break}if(E===u){p=!0,u=g,a=f;break}E=E.sibling}if(!p)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function k(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=k(e),i!==null)return i;e=e.sibling}return null}var et=Array.isArray,$=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},ct=[],Ut=-1;function mt(e){return{current:e}}function Xt(e){0>Ut||(e.current=ct[Ut],ct[Ut]=null,Ut--)}function vt(e,i){Ut++,ct[Ut]=e.current,e.current=i}var Le=mt(null),kn=mt(null),We=mt(null),Qe=mt(null);function Yn(e,i){switch(vt(We,i),vt(kn,e),vt(Le,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Fm(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=Fm(e),i=Bm(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Xt(Le),vt(Le,i)}function pe(){Xt(Le),Xt(kn),Xt(We)}function Ye(e){e.memoizedState!==null&&vt(Qe,e);var i=Le.current,a=Bm(i,e.type);i!==a&&(vt(kn,e),vt(Le,a))}function Cn(e){kn.current===e&&(Xt(Le),Xt(kn)),Qe.current===e&&(Xt(Qe),or._currentValue=at)}var wn=Object.prototype.hasOwnProperty,Xn=l.unstable_scheduleCallback,ti=l.unstable_cancelCallback,bn=l.unstable_shouldYield,ei=l.unstable_requestPaint,jt=l.unstable_now,ma=l.unstable_getCurrentPriorityLevel,_s=l.unstable_ImmediatePriority,ms=l.unstable_UserBlockingPriority,nl=l.unstable_NormalPriority,Pr=l.unstable_LowPriority,ya=l.unstable_IdlePriority,pa=l.log,Ku=l.unstable_setDisableYieldValue,ys=null,Te=null;function Vr(e){if(Te&&typeof Te.onCommitFiberRoot=="function")try{Te.onCommitFiberRoot(ys,e,void 0,(e.current.flags&128)===128)}catch{}}function ln(e){if(typeof pa=="function"&&Ku(e),Te&&typeof Te.setStrictMode=="function")try{Te.setStrictMode(ys,e)}catch{}}var Re=Math.clz32?Math.clz32:ps,Wu=Math.log,va=Math.LN2;function ps(e){return e>>>=0,e===0?32:31-(Wu(e)/va|0)|0}var Fn=128,Bn=4194304;function jn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vs(e,i){var a=e.pendingLanes;if(a===0)return 0;var u=0,f=e.suspendedLanes,g=e.pingedLanes,p=e.warmLanes;e=e.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~f,a!==0?u=jn(a):(g&=E,g!==0?u=jn(g):e||(p=E&~p,p!==0&&(u=jn(p))))):(E=a&~f,E!==0?u=jn(E):g!==0?u=jn(g):e||(p=a&~p,p!==0&&(u=jn(p)))),u===0?0:i!==0&&i!==u&&(i&f)===0&&(f=u&-u,p=i&-i,f>=p||f===32&&(p&4194176)!==0)?i:u}function ue(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function ni(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ie(){var e=Fn;return Fn<<=1,(Fn&4194176)===0&&(Fn=128),e}function Je(){var e=Bn;return Bn<<=1,(Bn&62914560)===0&&(Bn=4194304),e}function Ce(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ze(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function An(e,i,a,u,f,g){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,M=e.hiddenUpdates;for(a=p&~a;0<a;){var B=31-Re(a),P=1<<B;E[B]=0,R[B]=-1;var N=M[B];if(N!==null)for(M[B]=null,B=0;B<N.length;B++){var F=N[B];F!==null&&(F.lane&=-536870913)}a&=~P}u!==0&&Pt(e,u,0),g!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=g&~(p&~i))}function Pt(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var u=31-Re(i);e.entangledLanes|=i,e.entanglements[u]=e.entanglements[u]|1073741824|a&4194218}function ce(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var u=31-Re(a),f=1<<u;f&i|e[u]&i&&(e[u]|=i),a&=~f}}function an(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Kr(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:a0(e.type))}function up(e,i){var a=$.p;try{return $.p=e,i()}finally{$.p=a}}var Li=Math.random().toString(36).slice(2),we="__reactFiber$"+Li,Xe="__reactProps$"+Li,il="__reactContainer$"+Li,Qu="__reactEvents$"+Li,cp="__reactListeners$"+Li,hp="__reactHandles$"+Li,Yd="__reactResources$"+Li,Ea="__reactMarker$"+Li;function Ju(e){delete e[we],delete e[Xe],delete e[Qu],delete e[cp],delete e[hp]}function Es(e){var i=e[we];if(i)return i;for(var a=e.parentNode;a;){if(i=a[il]||a[we]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Zm(e);e!==null;){if(a=e[we])return a;e=Zm(e)}return i}e=a,a=e.parentNode}return null}function sl(e){if(e=e[we]||e[il]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function xa(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function ll(e){var i=e[Yd];return i||(i=e[Yd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function he(e){e[Ea]=!0}var Xd=new Set,Fd={};function xs(e,i){al(e,i),al(e+"Capture",i)}function al(e,i){for(Fd[e]=i,e=0;e<i.length;e++)Xd.add(i[e])}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bd={},jd={};function dp(e){return wn.call(jd,e)?!0:wn.call(Bd,e)?!1:fp.test(e)?jd[e]=!0:(Bd[e]=!0,!1)}function Wr(e,i,a){if(dp(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Qr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function si(e,i,a,u){if(u===null)e.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+u)}}function rn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hd(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function gp(e){var i=Hd(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),u=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return f.call(this)},set:function(p){u=""+p,g.call(this,p)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(p){u=""+p},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Jr(e){e._valueTracker||(e._valueTracker=gp(e))}function Zd(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return e&&(u=Hd(e)?e.checked?"true":"false":e.value),e=u,e!==a?(i.setValue(e),!0):!1}function $r(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _p=/[\n"\\]/g;function on(e){return e.replace(_p,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function $u(e,i,a,u,f,g,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),i!=null?p==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+rn(i)):e.value!==""+rn(i)&&(e.value=""+rn(i)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),i!=null?tc(e,p,rn(i)):a!=null?tc(e,p,rn(a)):u!=null&&e.removeAttribute("value"),f==null&&g!=null&&(e.defaultChecked=!!g),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+rn(E):e.removeAttribute("name")}function qd(e,i,a,u,f,g,p,E){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;a=a!=null?""+rn(a):"",i=i!=null?""+rn(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=E?e.checked:!!u,e.defaultChecked=!!u,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p)}function tc(e,i,a){i==="number"&&$r(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function rl(e,i,a,u){if(e=e.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=i.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&u&&(e[a].defaultSelected=!0)}else{for(a=""+rn(a),i=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,u&&(e[f].defaultSelected=!0);return}i!==null||e[f].disabled||(i=e[f])}i!==null&&(i.selected=!0)}}function Pd(e,i,a){if(i!=null&&(i=""+rn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+rn(a):""}function Vd(e,i,a,u){if(i==null){if(u!=null){if(a!=null)throw Error(s(92));if(et(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),i=a}a=rn(i),e.defaultValue=a,u=e.textContent,u===a&&u!==""&&u!==null&&(e.value=u)}function ol(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var mp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kd(e,i,a){var u=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":u?e.setProperty(i,a):typeof a!="number"||a===0||mp.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Wd(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&a[f]!==u&&Kd(e,f,u)}else for(var g in i)i.hasOwnProperty(g)&&Kd(e,g,i[g])}function ec(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(e){return pp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var nc=null;function ic(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ul=null,cl=null;function Qd(e){var i=sl(e);if(i&&(e=i.stateNode)){var a=e[Xe]||null;t:switch(e=i.stateNode,i.type){case"input":if($u(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==e&&u.form===e.form){var f=u[Xe]||null;if(!f)throw Error(s(90));$u(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)u=a[i],u.form===e.form&&Zd(u)}break t;case"textarea":Pd(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&rl(e,!!a.multiple,i,!1)}}}var sc=!1;function Jd(e,i,a){if(sc)return e(i,a);sc=!0;try{var u=e(i);return u}finally{if(sc=!1,(ul!==null||cl!==null)&&(ko(),ul&&(i=ul,e=cl,cl=ul=null,Qd(i),e)))for(i=0;i<e.length;i++)Qd(e[i])}}function Sa(e,i){var a=e.stateNode;if(a===null)return null;var u=a[Xe]||null;if(u===null)return null;a=u[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var lc=!1;if(ii)try{var Ta={};Object.defineProperty(Ta,"passive",{get:function(){lc=!0}}),window.addEventListener("test",Ta,Ta),window.removeEventListener("test",Ta,Ta)}catch{lc=!1}var Ii=null,ac=null,eo=null;function $d(){if(eo)return eo;var e,i=ac,a=i.length,u,f="value"in Ii?Ii.value:Ii.textContent,g=f.length;for(e=0;e<a&&i[e]===f[e];e++);var p=a-e;for(u=1;u<=p&&i[a-u]===f[g-u];u++);return eo=f.slice(e,1<u?1-u:void 0)}function no(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function io(){return!0}function tg(){return!1}function Fe(e){function i(a,u,f,g,p){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(g):g[E]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?io:tg,this.isPropagationStopped=tg,this}return V(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=io)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=io)},persist:function(){},isPersistent:io}),i}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},so=Fe(Ss),Ra=V({},Ss,{view:0,detail:0}),vp=Fe(Ra),rc,oc,Ca,lo=V({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ca&&(Ca&&e.type==="mousemove"?(rc=e.screenX-Ca.screenX,oc=e.screenY-Ca.screenY):oc=rc=0,Ca=e),rc)},movementY:function(e){return"movementY"in e?e.movementY:oc}}),eg=Fe(lo),Ep=V({},lo,{dataTransfer:0}),xp=Fe(Ep),Sp=V({},Ra,{relatedTarget:0}),uc=Fe(Sp),Tp=V({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),Rp=Fe(Tp),Cp=V({},Ss,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wp=Fe(Cp),bp=V({},Ss,{data:0}),ng=Fe(bp),Ap={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Op(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Dp[e])?!!i[e]:!1}function cc(){return Op}var Lp=V({},Ra,{key:function(e){if(e.key){var i=Ap[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=no(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cc,charCode:function(e){return e.type==="keypress"?no(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?no(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ip=Fe(Lp),zp=V({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ig=Fe(zp),Np=V({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cc}),Gp=Fe(Np),Up=V({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),kp=Fe(Up),Yp=V({},lo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xp=Fe(Yp),Fp=V({},Ss,{newState:0,oldState:0}),Bp=Fe(Fp),jp=[9,13,27,32],hc=ii&&"CompositionEvent"in window,wa=null;ii&&"documentMode"in document&&(wa=document.documentMode);var Hp=ii&&"TextEvent"in window&&!wa,sg=ii&&(!hc||wa&&8<wa&&11>=wa),lg=" ",ag=!1;function rg(e,i){switch(e){case"keyup":return jp.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function og(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hl=!1;function Zp(e,i){switch(e){case"compositionend":return og(i);case"keypress":return i.which!==32?null:(ag=!0,lg);case"textInput":return e=i.data,e===lg&&ag?null:e;default:return null}}function qp(e,i){if(hl)return e==="compositionend"||!hc&&rg(e,i)?(e=$d(),eo=ac=Ii=null,hl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return sg&&i.locale!=="ko"?null:i.data;default:return null}}var Pp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ug(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Pp[e.type]:i==="textarea"}function cg(e,i,a,u){ul?cl?cl.push(u):cl=[u]:ul=u,i=jo(i,"onChange"),0<i.length&&(a=new so("onChange","change",null,a,u),e.push({event:a,listeners:i}))}var ba=null,Aa=null;function Vp(e){Gm(e,0)}function ao(e){var i=xa(e);if(Zd(i))return e}function hg(e,i){if(e==="change")return i}var fg=!1;if(ii){var fc;if(ii){var dc="oninput"in document;if(!dc){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),dc=typeof dg.oninput=="function"}fc=dc}else fc=!1;fg=fc&&(!document.documentMode||9<document.documentMode)}function gg(){ba&&(ba.detachEvent("onpropertychange",_g),Aa=ba=null)}function _g(e){if(e.propertyName==="value"&&ao(Aa)){var i=[];cg(i,Aa,e,ic(e)),Jd(Vp,i)}}function Kp(e,i,a){e==="focusin"?(gg(),ba=i,Aa=a,ba.attachEvent("onpropertychange",_g)):e==="focusout"&&gg()}function Wp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ao(Aa)}function Qp(e,i){if(e==="click")return ao(i)}function Jp(e,i){if(e==="input"||e==="change")return ao(i)}function $p(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var $e=typeof Object.is=="function"?Object.is:$p;function Ma(e,i){if($e(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!wn.call(i,f)||!$e(e[f],i[f]))return!1}return!0}function mg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yg(e,i){var a=mg(e);e=0;for(var u;a;){if(a.nodeType===3){if(u=e+a.textContent.length,e<=i&&u>=i)return{node:a,offset:i-e};e=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=mg(a)}}function pg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?pg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function vg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=$r(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=$r(e.document)}return i}function gc(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function tv(e,i){var a=vg(i);i=e.focusedElem;var u=e.selectionRange;if(a!==i&&i&&i.ownerDocument&&pg(i.ownerDocument.documentElement,i)){if(u!==null&&gc(i)){if(e=u.start,a=u.end,a===void 0&&(a=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(a,i.value.length);else if(a=(e=i.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var f=i.textContent.length,g=Math.min(u.start,f);u=u.end===void 0?g:Math.min(u.end,f),!a.extend&&g>u&&(f=u,u=g,g=f),f=yg(i,g);var p=yg(i,u);f&&p&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==p.node||a.focusOffset!==p.offset)&&(e=e.createRange(),e.setStart(f.node,f.offset),a.removeAllRanges(),g>u?(a.addRange(e),a.extend(p.node,p.offset)):(e.setEnd(p.node,p.offset),a.addRange(e)))}}for(e=[],a=i;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)a=e[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var ev=ii&&"documentMode"in document&&11>=document.documentMode,fl=null,_c=null,Da=null,mc=!1;function Eg(e,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;mc||fl==null||fl!==$r(u)||(u=fl,"selectionStart"in u&&gc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Da&&Ma(Da,u)||(Da=u,u=jo(_c,"onSelect"),0<u.length&&(i=new so("onSelect","select",null,i,a),e.push({event:i,listeners:u}),i.target=fl)))}function Ts(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var dl={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},yc={},xg={};ii&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function Rs(e){if(yc[e])return yc[e];if(!dl[e])return e;var i=dl[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in xg)return yc[e]=i[a];return e}var Sg=Rs("animationend"),Tg=Rs("animationiteration"),Rg=Rs("animationstart"),nv=Rs("transitionrun"),iv=Rs("transitionstart"),sv=Rs("transitioncancel"),Cg=Rs("transitionend"),wg=new Map,bg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Mn(e,i){wg.set(e,i),xs(i,[e])}var un=[],gl=0,pc=0;function ro(){for(var e=gl,i=pc=gl=0;i<e;){var a=un[i];un[i++]=null;var u=un[i];un[i++]=null;var f=un[i];un[i++]=null;var g=un[i];if(un[i++]=null,u!==null&&f!==null){var p=u.pending;p===null?f.next=f:(f.next=p.next,p.next=f),u.pending=f}g!==0&&Ag(a,f,g)}}function oo(e,i,a,u){un[gl++]=e,un[gl++]=i,un[gl++]=a,un[gl++]=u,pc|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function vc(e,i,a,u){return oo(e,i,a,u),uo(e)}function zi(e,i){return oo(e,null,null,i),uo(e)}function Ag(e,i,a){e.lanes|=a;var u=e.alternate;u!==null&&(u.lanes|=a);for(var f=!1,g=e.return;g!==null;)g.childLanes|=a,u=g.alternate,u!==null&&(u.childLanes|=a),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(f=!0)),e=g,g=g.return;f&&i!==null&&e.tag===3&&(g=e.stateNode,f=31-Re(a),g=g.hiddenUpdates,e=g[f],e===null?g[f]=[i]:e.push(i),i.lane=a|536870912)}function uo(e){if(50<er)throw er=0,Ch=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var _l={},Mg=new WeakMap;function cn(e,i){if(typeof e=="object"&&e!==null){var a=Mg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:J(i)},Mg.set(e,i),i)}return{value:e,source:i,stack:J(i)}}var ml=[],yl=0,co=null,ho=0,hn=[],fn=0,Cs=null,li=1,ai="";function ws(e,i){ml[yl++]=ho,ml[yl++]=co,co=e,ho=i}function Dg(e,i,a){hn[fn++]=li,hn[fn++]=ai,hn[fn++]=Cs,Cs=e;var u=li;e=ai;var f=32-Re(u)-1;u&=~(1<<f),a+=1;var g=32-Re(i)+f;if(30<g){var p=f-f%5;g=(u&(1<<p)-1).toString(32),u>>=p,f-=p,li=1<<32-Re(i)+f|a<<f|u,ai=g+e}else li=1<<g|a<<f|u,ai=e}function Ec(e){e.return!==null&&(ws(e,1),Dg(e,1,0))}function xc(e){for(;e===co;)co=ml[--yl],ml[yl]=null,ho=ml[--yl],ml[yl]=null;for(;e===Cs;)Cs=hn[--fn],hn[fn]=null,ai=hn[--fn],hn[fn]=null,li=hn[--fn],hn[fn]=null}var Ne=null,ve=null,Dt=!1,Dn=null,Hn=!1,Sc=Error(s(519));function bs(e){var i=Error(s(418,""));throw Ia(cn(i,e)),Sc}function Og(e){var i=e.stateNode,a=e.type,u=e.memoizedProps;switch(i[we]=e,i[Xe]=u,a){case"dialog":bt("cancel",i),bt("close",i);break;case"iframe":case"object":case"embed":bt("load",i);break;case"video":case"audio":for(a=0;a<ir.length;a++)bt(ir[a],i);break;case"source":bt("error",i);break;case"img":case"image":case"link":bt("error",i),bt("load",i);break;case"details":bt("toggle",i);break;case"input":bt("invalid",i),qd(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Jr(i);break;case"select":bt("invalid",i);break;case"textarea":bt("invalid",i),Vd(i,u.value,u.defaultValue,u.children),Jr(i)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||u.suppressHydrationWarning===!0||Xm(i.textContent,a)?(u.popover!=null&&(bt("beforetoggle",i),bt("toggle",i)),u.onScroll!=null&&bt("scroll",i),u.onScrollEnd!=null&&bt("scrollend",i),u.onClick!=null&&(i.onclick=Ho),i=!0):i=!1,i||bs(e)}function Lg(e){for(Ne=e.return;Ne;)switch(Ne.tag){case 3:case 27:Hn=!0;return;case 5:case 13:Hn=!1;return;default:Ne=Ne.return}}function Oa(e){if(e!==Ne)return!1;if(!Dt)return Lg(e),Dt=!0,!1;var i=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Bh(e.type,e.memoizedProps)),a=!a),a&&(i=!0),i&&ve&&bs(e),Lg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ve=Ln(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ve=null}}else ve=Ne?Ln(e.stateNode.nextSibling):null;return!0}function La(){ve=Ne=null,Dt=!1}function Ia(e){Dn===null?Dn=[e]:Dn.push(e)}var za=Error(s(460)),Ig=Error(s(474)),Tc={then:function(){}};function zg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function fo(){}function Ng(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(fo,fo),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===za?Error(s(483)):e;default:if(typeof i.status=="string")i.then(fo,fo);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===za?Error(s(483)):e}throw Na=i,za}}var Na=null;function Gg(){if(Na===null)throw Error(s(459));var e=Na;return Na=null,e}var pl=null,Ga=0;function go(e){var i=Ga;return Ga+=1,pl===null&&(pl=[]),Ng(pl,e,i)}function Ua(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function _o(e,i){throw i.$$typeof===o?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Ug(e){var i=e._init;return i(e._payload)}function kg(e){function i(L,A){if(e){var z=L.deletions;z===null?(L.deletions=[A],L.flags|=16):z.push(A)}}function a(L,A){if(!e)return null;for(;A!==null;)i(L,A),A=A.sibling;return null}function u(L){for(var A=new Map;L!==null;)L.key!==null?A.set(L.key,L):A.set(L.index,L),L=L.sibling;return A}function f(L,A){return L=qi(L,A),L.index=0,L.sibling=null,L}function g(L,A,z){return L.index=z,e?(z=L.alternate,z!==null?(z=z.index,z<A?(L.flags|=33554434,A):z):(L.flags|=33554434,A)):(L.flags|=1048576,A)}function p(L){return e&&L.alternate===null&&(L.flags|=33554434),L}function E(L,A,z,H){return A===null||A.tag!==6?(A=yh(z,L.mode,H),A.return=L,A):(A=f(A,z),A.return=L,A)}function R(L,A,z,H){var it=z.type;return it===d?B(L,A,z.props.children,H,z.key):A!==null&&(A.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===D&&Ug(it)===A.type)?(A=f(A,z.props),Ua(A,z),A.return=L,A):(A=Io(z.type,z.key,z.props,null,L.mode,H),Ua(A,z),A.return=L,A)}function M(L,A,z,H){return A===null||A.tag!==4||A.stateNode.containerInfo!==z.containerInfo||A.stateNode.implementation!==z.implementation?(A=ph(z,L.mode,H),A.return=L,A):(A=f(A,z.children||[]),A.return=L,A)}function B(L,A,z,H,it){return A===null||A.tag!==7?(A=Us(z,L.mode,H,it),A.return=L,A):(A=f(A,z),A.return=L,A)}function P(L,A,z){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=yh(""+A,L.mode,z),A.return=L,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case c:return z=Io(A.type,A.key,A.props,null,L.mode,z),Ua(z,A),z.return=L,z;case h:return A=ph(A,L.mode,z),A.return=L,A;case D:var H=A._init;return A=H(A._payload),P(L,A,z)}if(et(A)||q(A))return A=Us(A,L.mode,z,null),A.return=L,A;if(typeof A.then=="function")return P(L,go(A),z);if(A.$$typeof===x)return P(L,Do(L,A),z);_o(L,A)}return null}function N(L,A,z,H){var it=A!==null?A.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return it!==null?null:E(L,A,""+z,H);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case c:return z.key===it?R(L,A,z,H):null;case h:return z.key===it?M(L,A,z,H):null;case D:return it=z._init,z=it(z._payload),N(L,A,z,H)}if(et(z)||q(z))return it!==null?null:B(L,A,z,H,null);if(typeof z.then=="function")return N(L,A,go(z),H);if(z.$$typeof===x)return N(L,A,Do(L,z),H);_o(L,z)}return null}function F(L,A,z,H,it){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return L=L.get(z)||null,E(A,L,""+H,it);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case c:return L=L.get(H.key===null?z:H.key)||null,R(A,L,H,it);case h:return L=L.get(H.key===null?z:H.key)||null,M(A,L,H,it);case D:var Rt=H._init;return H=Rt(H._payload),F(L,A,z,H,it)}if(et(H)||q(H))return L=L.get(z)||null,B(A,L,H,it,null);if(typeof H.then=="function")return F(L,A,z,go(H),it);if(H.$$typeof===x)return F(L,A,z,Do(A,H),it);_o(A,H)}return null}function rt(L,A,z,H){for(var it=null,Rt=null,ut=A,dt=A=0,ge=null;ut!==null&&dt<z.length;dt++){ut.index>dt?(ge=ut,ut=null):ge=ut.sibling;var Ot=N(L,ut,z[dt],H);if(Ot===null){ut===null&&(ut=ge);break}e&&ut&&Ot.alternate===null&&i(L,ut),A=g(Ot,A,dt),Rt===null?it=Ot:Rt.sibling=Ot,Rt=Ot,ut=ge}if(dt===z.length)return a(L,ut),Dt&&ws(L,dt),it;if(ut===null){for(;dt<z.length;dt++)ut=P(L,z[dt],H),ut!==null&&(A=g(ut,A,dt),Rt===null?it=ut:Rt.sibling=ut,Rt=ut);return Dt&&ws(L,dt),it}for(ut=u(ut);dt<z.length;dt++)ge=F(ut,L,dt,z[dt],H),ge!==null&&(e&&ge.alternate!==null&&ut.delete(ge.key===null?dt:ge.key),A=g(ge,A,dt),Rt===null?it=ge:Rt.sibling=ge,Rt=ge);return e&&ut.forEach(function($i){return i(L,$i)}),Dt&&ws(L,dt),it}function yt(L,A,z,H){if(z==null)throw Error(s(151));for(var it=null,Rt=null,ut=A,dt=A=0,ge=null,Ot=z.next();ut!==null&&!Ot.done;dt++,Ot=z.next()){ut.index>dt?(ge=ut,ut=null):ge=ut.sibling;var $i=N(L,ut,Ot.value,H);if($i===null){ut===null&&(ut=ge);break}e&&ut&&$i.alternate===null&&i(L,ut),A=g($i,A,dt),Rt===null?it=$i:Rt.sibling=$i,Rt=$i,ut=ge}if(Ot.done)return a(L,ut),Dt&&ws(L,dt),it;if(ut===null){for(;!Ot.done;dt++,Ot=z.next())Ot=P(L,Ot.value,H),Ot!==null&&(A=g(Ot,A,dt),Rt===null?it=Ot:Rt.sibling=Ot,Rt=Ot);return Dt&&ws(L,dt),it}for(ut=u(ut);!Ot.done;dt++,Ot=z.next())Ot=F(ut,L,dt,Ot.value,H),Ot!==null&&(e&&Ot.alternate!==null&&ut.delete(Ot.key===null?dt:Ot.key),A=g(Ot,A,dt),Rt===null?it=Ot:Rt.sibling=Ot,Rt=Ot);return e&&ut.forEach(function(pE){return i(L,pE)}),Dt&&ws(L,dt),it}function $t(L,A,z,H){if(typeof z=="object"&&z!==null&&z.type===d&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case c:t:{for(var it=z.key;A!==null;){if(A.key===it){if(it=z.type,it===d){if(A.tag===7){a(L,A.sibling),H=f(A,z.props.children),H.return=L,L=H;break t}}else if(A.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===D&&Ug(it)===A.type){a(L,A.sibling),H=f(A,z.props),Ua(H,z),H.return=L,L=H;break t}a(L,A);break}else i(L,A);A=A.sibling}z.type===d?(H=Us(z.props.children,L.mode,H,z.key),H.return=L,L=H):(H=Io(z.type,z.key,z.props,null,L.mode,H),Ua(H,z),H.return=L,L=H)}return p(L);case h:t:{for(it=z.key;A!==null;){if(A.key===it)if(A.tag===4&&A.stateNode.containerInfo===z.containerInfo&&A.stateNode.implementation===z.implementation){a(L,A.sibling),H=f(A,z.children||[]),H.return=L,L=H;break t}else{a(L,A);break}else i(L,A);A=A.sibling}H=ph(z,L.mode,H),H.return=L,L=H}return p(L);case D:return it=z._init,z=it(z._payload),$t(L,A,z,H)}if(et(z))return rt(L,A,z,H);if(q(z)){if(it=q(z),typeof it!="function")throw Error(s(150));return z=it.call(z),yt(L,A,z,H)}if(typeof z.then=="function")return $t(L,A,go(z),H);if(z.$$typeof===x)return $t(L,A,Do(L,z),H);_o(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,A!==null&&A.tag===6?(a(L,A.sibling),H=f(A,z),H.return=L,L=H):(a(L,A),H=yh(z,L.mode,H),H.return=L,L=H),p(L)):a(L,A)}return function(L,A,z,H){try{Ga=0;var it=$t(L,A,z,H);return pl=null,it}catch(ut){if(ut===za)throw ut;var Rt=mn(29,ut,null,L.mode);return Rt.lanes=H,Rt.return=L,Rt}finally{}}}var As=kg(!0),Yg=kg(!1),vl=mt(null),mo=mt(0);function Xg(e,i){e=yi,vt(mo,e),vt(vl,i),yi=e|i.baseLanes}function Rc(){vt(mo,yi),vt(vl,vl.current)}function Cc(){yi=mo.current,Xt(vl),Xt(mo)}var dn=mt(null),Zn=null;function Ni(e){var i=e.alternate;vt(ae,ae.current&1),vt(dn,e),Zn===null&&(i===null||vl.current!==null||i.memoizedState!==null)&&(Zn=e)}function Fg(e){if(e.tag===22){if(vt(ae,ae.current),vt(dn,e),Zn===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Zn=e)}}else Gi()}function Gi(){vt(ae,ae.current),vt(dn,dn.current)}function ri(e){Xt(dn),Zn===e&&(Zn=null),Xt(ae)}var ae=mt(0);function yo(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var lv=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,u){e.push(u)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},av=l.unstable_scheduleCallback,rv=l.unstable_NormalPriority,re={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wc(){return{controller:new lv,data:new Map,refCount:0}}function ka(e){e.refCount--,e.refCount===0&&av(rv,function(){e.controller.abort()})}var Ya=null,bc=0,El=0,xl=null;function ov(e,i){if(Ya===null){var a=Ya=[];bc=0,El=Ih(),xl={status:"pending",value:void 0,then:function(u){a.push(u)}}}return bc++,i.then(Bg,Bg),i}function Bg(){if(--bc===0&&Ya!==null){xl!==null&&(xl.status="fulfilled");var e=Ya;Ya=null,El=0,xl=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function uv(e,i){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var jg=U.S;U.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ov(e,i),jg!==null&&jg(e,i)};var Ms=mt(null);function Ac(){var e=Ms.current;return e!==null?e:Zt.pooledCache}function po(e,i){i===null?vt(Ms,Ms.current):vt(Ms,i.pool)}function Hg(){var e=Ac();return e===null?null:{parent:re._currentValue,pool:e}}var Ui=0,Tt=null,Ft=null,ne=null,vo=!1,Sl=!1,Ds=!1,Eo=0,Xa=0,Tl=null,cv=0;function ee(){throw Error(s(321))}function Mc(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!$e(e[a],i[a]))return!1;return!0}function Dc(e,i,a,u,f,g){return Ui=g,Tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=e===null||e.memoizedState===null?Os:ki,Ds=!1,g=a(u,f),Ds=!1,Sl&&(g=qg(i,a,u,f)),Zg(e),g}function Zg(e){U.H=qn;var i=Ft!==null&&Ft.next!==null;if(Ui=0,ne=Ft=Tt=null,vo=!1,Xa=0,Tl=null,i)throw Error(s(300));e===null||fe||(e=e.dependencies,e!==null&&Mo(e)&&(fe=!0))}function qg(e,i,a,u){Tt=e;var f=0;do{if(Sl&&(Tl=null),Xa=0,Sl=!1,25<=f)throw Error(s(301));if(f+=1,ne=Ft=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}U.H=Ls,g=i(a,u)}while(Sl);return g}function hv(){var e=U.H,i=e.useState()[0];return i=typeof i.then=="function"?Fa(i):i,e=e.useState()[0],(Ft!==null?Ft.memoizedState:null)!==e&&(Tt.flags|=1024),i}function Oc(){var e=Eo!==0;return Eo=0,e}function Lc(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Ic(e){if(vo){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}vo=!1}Ui=0,ne=Ft=Tt=null,Sl=!1,Xa=Eo=0,Tl=null}function Be(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ne===null?Tt.memoizedState=ne=e:ne=ne.next=e,ne}function ie(){if(Ft===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=Ft.next;var i=ne===null?Tt.memoizedState:ne.next;if(i!==null)ne=i,Ft=e;else{if(e===null)throw Tt.alternate===null?Error(s(467)):Error(s(310));Ft=e,e={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},ne===null?Tt.memoizedState=ne=e:ne=ne.next=e}return ne}var xo;xo=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Fa(e){var i=Xa;return Xa+=1,Tl===null&&(Tl=[]),e=Ng(Tl,e,i),i=Tt,(ne===null?i.memoizedState:ne.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?Os:ki),e}function So(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fa(e);if(e.$$typeof===x)return be(e)}throw Error(s(438,String(e)))}function zc(e){var i=null,a=Tt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var u=Tt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=xo(),Tt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),u=0;u<e;u++)a[u]=I;return i.index++,a}function oi(e,i){return typeof i=="function"?i(e):i}function To(e){var i=ie();return Nc(i,Ft,e)}function Nc(e,i,a){var u=e.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=e.baseQueue,g=u.pending;if(g!==null){if(f!==null){var p=f.next;f.next=g.next,g.next=p}i.baseQueue=f=g,u.pending=null}if(g=e.baseState,f===null)e.memoizedState=g;else{i=f.next;var E=p=null,R=null,M=i,B=!1;do{var P=M.lane&-536870913;if(P!==M.lane?(Mt&P)===P:(Ui&P)===P){var N=M.revertLane;if(N===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),P===El&&(B=!0);else if((Ui&N)===N){M=M.next,N===El&&(B=!0);continue}else P={lane:0,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},R===null?(E=R=P,p=g):R=R.next=P,Tt.lanes|=N,Pi|=N;P=M.action,Ds&&a(g,P),g=M.hasEagerState?M.eagerState:a(g,P)}else N={lane:P,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},R===null?(E=R=N,p=g):R=R.next=N,Tt.lanes|=P,Pi|=P;M=M.next}while(M!==null&&M!==i);if(R===null?p=g:R.next=E,!$e(g,e.memoizedState)&&(fe=!0,B&&(a=xl,a!==null)))throw a;e.memoizedState=g,e.baseState=p,e.baseQueue=R,u.lastRenderedState=g}return f===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function Gc(e){var i=ie(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var u=a.dispatch,f=a.pending,g=i.memoizedState;if(f!==null){a.pending=null;var p=f=f.next;do g=e(g,p.action),p=p.next;while(p!==f);$e(g,i.memoizedState)||(fe=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,u]}function Pg(e,i,a){var u=Tt,f=ie(),g=Dt;if(g){if(a===void 0)throw Error(s(407));a=a()}else a=i();var p=!$e((Ft||f).memoizedState,a);if(p&&(f.memoizedState=a,fe=!0),f=f.queue,Yc(Wg.bind(null,u,f,e),[e]),f.getSnapshot!==i||p||ne!==null&&ne.memoizedState.tag&1){if(u.flags|=2048,Rl(9,Kg.bind(null,u,f,a,i),{destroy:void 0},null),Zt===null)throw Error(s(349));g||(Ui&60)!==0||Vg(u,i,a)}return a}function Vg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Tt.updateQueue,i===null?(i=xo(),Tt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Kg(e,i,a,u){i.value=a,i.getSnapshot=u,Qg(i)&&Jg(e)}function Wg(e,i,a){return a(function(){Qg(i)&&Jg(e)})}function Qg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!$e(e,a)}catch{return!0}}function Jg(e){var i=zi(e,2);i!==null&&Ge(i,e,2)}function Uc(e){var i=Be();if(typeof e=="function"){var a=e;if(e=a(),Ds){ln(!0);try{a()}finally{ln(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:e},i}function $g(e,i,a,u){return e.baseState=a,Nc(e,Ft,typeof u=="function"?u:oi)}function fv(e,i,a,u,f){if(wo(e))throw Error(s(485));if(e=i.action,e!==null){var g={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){g.listeners.push(p)}};U.T!==null?a(!0):g.isTransition=!1,u(g),a=i.pending,a===null?(g.next=i.pending=g,t_(i,g)):(g.next=a.next,i.pending=a.next=g)}}function t_(e,i){var a=i.action,u=i.payload,f=e.state;if(i.isTransition){var g=U.T,p={};U.T=p;try{var E=a(f,u),R=U.S;R!==null&&R(p,E),e_(e,i,E)}catch(M){kc(e,i,M)}finally{U.T=g}}else try{g=a(f,u),e_(e,i,g)}catch(M){kc(e,i,M)}}function e_(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){n_(e,i,u)},function(u){return kc(e,i,u)}):n_(e,i,a)}function n_(e,i,a){i.status="fulfilled",i.value=a,i_(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,t_(e,a)))}function kc(e,i,a){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=a,i_(i),i=i.next;while(i!==u)}e.action=null}function i_(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function s_(e,i){return i}function l_(e,i){if(Dt){var a=Zt.formState;if(a!==null){t:{var u=Tt;if(Dt){if(ve){e:{for(var f=ve,g=Hn;f.nodeType!==8;){if(!g){f=null;break e}if(f=Ln(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){ve=Ln(f.nextSibling),u=f.data==="F!";break t}}bs(u)}u=!1}u&&(i=a[0])}}return a=Be(),a.memoizedState=a.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s_,lastRenderedState:i},a.queue=u,a=T_.bind(null,Tt,u),u.dispatch=a,u=Uc(!1),g=Hc.bind(null,Tt,!1,u.queue),u=Be(),f={state:i,dispatch:null,action:e,pending:null},u.queue=f,a=fv.bind(null,Tt,f,g,a),f.dispatch=a,u.memoizedState=e,[i,a,!1]}function a_(e){var i=ie();return r_(i,Ft,e)}function r_(e,i,a){i=Nc(e,i,s_)[0],e=To(oi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Fa(i):i;var u=ie(),f=u.queue,g=f.dispatch;return a!==u.memoizedState&&(Tt.flags|=2048,Rl(9,dv.bind(null,f,a),{destroy:void 0},null)),[i,g,e]}function dv(e,i){e.action=i}function o_(e){var i=ie(),a=Ft;if(a!==null)return r_(i,a,e);ie(),i=i.memoizedState,a=ie();var u=a.queue.dispatch;return a.memoizedState=e,[i,u,!1]}function Rl(e,i,a,u){return e={tag:e,create:i,inst:a,deps:u,next:null},i=Tt.updateQueue,i===null&&(i=xo(),Tt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(u=a.next,a.next=e,e.next=u,i.lastEffect=e),e}function u_(){return ie().memoizedState}function Ro(e,i,a,u){var f=Be();Tt.flags|=e,f.memoizedState=Rl(1|i,a,{destroy:void 0},u===void 0?null:u)}function Co(e,i,a,u){var f=ie();u=u===void 0?null:u;var g=f.memoizedState.inst;Ft!==null&&u!==null&&Mc(u,Ft.memoizedState.deps)?f.memoizedState=Rl(i,a,g,u):(Tt.flags|=e,f.memoizedState=Rl(1|i,a,g,u))}function c_(e,i){Ro(8390656,8,e,i)}function Yc(e,i){Co(2048,8,e,i)}function h_(e,i){return Co(4,2,e,i)}function f_(e,i){return Co(4,4,e,i)}function d_(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function g_(e,i,a){a=a!=null?a.concat([e]):null,Co(4,4,d_.bind(null,i,e),a)}function Xc(){}function __(e,i){var a=ie();i=i===void 0?null:i;var u=a.memoizedState;return i!==null&&Mc(i,u[1])?u[0]:(a.memoizedState=[e,i],e)}function m_(e,i){var a=ie();i=i===void 0?null:i;var u=a.memoizedState;if(i!==null&&Mc(i,u[1]))return u[0];if(u=e(),Ds){ln(!0);try{e()}finally{ln(!1)}}return a.memoizedState=[u,i],u}function Fc(e,i,a){return a===void 0||(Ui&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=pm(),Tt.lanes|=e,Pi|=e,a)}function y_(e,i,a,u){return $e(a,i)?a:vl.current!==null?(e=Fc(e,a,u),$e(e,i)||(fe=!0),e):(Ui&42)===0?(fe=!0,e.memoizedState=a):(e=pm(),Tt.lanes|=e,Pi|=e,i)}function p_(e,i,a,u,f){var g=$.p;$.p=g!==0&&8>g?g:8;var p=U.T,E={};U.T=E,Hc(e,!1,i,a);try{var R=f(),M=U.S;if(M!==null&&M(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var B=uv(R,u);Ba(e,i,B,sn(e))}else Ba(e,i,u,sn(e))}catch(P){Ba(e,i,{then:function(){},status:"rejected",reason:P},sn())}finally{$.p=g,U.T=p}}function gv(){}function Bc(e,i,a,u){if(e.tag!==5)throw Error(s(476));var f=v_(e).queue;p_(e,f,i,at,a===null?gv:function(){return E_(e),a(u)})}function v_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:at},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function E_(e){var i=v_(e).next.queue;Ba(e,i,{},sn())}function jc(){return be(or)}function x_(){return ie().memoizedState}function S_(){return ie().memoizedState}function _v(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=sn();e=Fi(a);var u=Bi(i,e,a);u!==null&&(Ge(u,i,a),Za(u,i,a)),i={cache:wc()},e.payload=i;return}i=i.return}}function mv(e,i,a){var u=sn();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},wo(e)?R_(i,a):(a=vc(e,i,a,u),a!==null&&(Ge(a,e,u),C_(a,i,u)))}function T_(e,i,a){var u=sn();Ba(e,i,a,u)}function Ba(e,i,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(wo(e))R_(i,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var p=i.lastRenderedState,E=g(p,a);if(f.hasEagerState=!0,f.eagerState=E,$e(E,p))return oo(e,i,f,0),Zt===null&&ro(),!1}catch{}finally{}if(a=vc(e,i,f,u),a!==null)return Ge(a,e,u),C_(a,i,u),!0}return!1}function Hc(e,i,a,u){if(u={lane:2,revertLane:Ih(),action:u,hasEagerState:!1,eagerState:null,next:null},wo(e)){if(i)throw Error(s(479))}else i=vc(e,a,u,2),i!==null&&Ge(i,e,2)}function wo(e){var i=e.alternate;return e===Tt||i!==null&&i===Tt}function R_(e,i){Sl=vo=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function C_(e,i,a){if((a&4194176)!==0){var u=i.lanes;u&=e.pendingLanes,a|=u,i.lanes=a,ce(e,a)}}var qn={readContext:be,use:So,useCallback:ee,useContext:ee,useEffect:ee,useImperativeHandle:ee,useLayoutEffect:ee,useInsertionEffect:ee,useMemo:ee,useReducer:ee,useRef:ee,useState:ee,useDebugValue:ee,useDeferredValue:ee,useTransition:ee,useSyncExternalStore:ee,useId:ee};qn.useCacheRefresh=ee,qn.useMemoCache=ee,qn.useHostTransitionStatus=ee,qn.useFormState=ee,qn.useActionState=ee,qn.useOptimistic=ee;var Os={readContext:be,use:So,useCallback:function(e,i){return Be().memoizedState=[e,i===void 0?null:i],e},useContext:be,useEffect:c_,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Ro(4194308,4,d_.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Ro(4194308,4,e,i)},useInsertionEffect:function(e,i){Ro(4,2,e,i)},useMemo:function(e,i){var a=Be();i=i===void 0?null:i;var u=e();if(Ds){ln(!0);try{e()}finally{ln(!1)}}return a.memoizedState=[u,i],u},useReducer:function(e,i,a){var u=Be();if(a!==void 0){var f=a(i);if(Ds){ln(!0);try{a(i)}finally{ln(!1)}}}else f=i;return u.memoizedState=u.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},u.queue=e,e=e.dispatch=mv.bind(null,Tt,e),[u.memoizedState,e]},useRef:function(e){var i=Be();return e={current:e},i.memoizedState=e},useState:function(e){e=Uc(e);var i=e.queue,a=T_.bind(null,Tt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Xc,useDeferredValue:function(e,i){var a=Be();return Fc(a,e,i)},useTransition:function(){var e=Uc(!1);return e=p_.bind(null,Tt,e.queue,!0,!1),Be().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var u=Tt,f=Be();if(Dt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Zt===null)throw Error(s(349));(Mt&60)!==0||Vg(u,i,a)}f.memoizedState=a;var g={value:a,getSnapshot:i};return f.queue=g,c_(Wg.bind(null,u,g,e),[e]),u.flags|=2048,Rl(9,Kg.bind(null,u,g,a,i),{destroy:void 0},null),a},useId:function(){var e=Be(),i=Zt.identifierPrefix;if(Dt){var a=ai,u=li;a=(u&~(1<<32-Re(u)-1)).toString(32)+a,i=":"+i+"R"+a,a=Eo++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=cv++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return Be().memoizedState=_v.bind(null,Tt)}};Os.useMemoCache=zc,Os.useHostTransitionStatus=jc,Os.useFormState=l_,Os.useActionState=l_,Os.useOptimistic=function(e){var i=Be();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Hc.bind(null,Tt,!0,a),a.dispatch=i,[e,i]};var ki={readContext:be,use:So,useCallback:__,useContext:be,useEffect:Yc,useImperativeHandle:g_,useInsertionEffect:h_,useLayoutEffect:f_,useMemo:m_,useReducer:To,useRef:u_,useState:function(){return To(oi)},useDebugValue:Xc,useDeferredValue:function(e,i){var a=ie();return y_(a,Ft.memoizedState,e,i)},useTransition:function(){var e=To(oi)[0],i=ie().memoizedState;return[typeof e=="boolean"?e:Fa(e),i]},useSyncExternalStore:Pg,useId:x_};ki.useCacheRefresh=S_,ki.useMemoCache=zc,ki.useHostTransitionStatus=jc,ki.useFormState=a_,ki.useActionState=a_,ki.useOptimistic=function(e,i){var a=ie();return $g(a,Ft,e,i)};var Ls={readContext:be,use:So,useCallback:__,useContext:be,useEffect:Yc,useImperativeHandle:g_,useInsertionEffect:h_,useLayoutEffect:f_,useMemo:m_,useReducer:Gc,useRef:u_,useState:function(){return Gc(oi)},useDebugValue:Xc,useDeferredValue:function(e,i){var a=ie();return Ft===null?Fc(a,e,i):y_(a,Ft.memoizedState,e,i)},useTransition:function(){var e=Gc(oi)[0],i=ie().memoizedState;return[typeof e=="boolean"?e:Fa(e),i]},useSyncExternalStore:Pg,useId:x_};Ls.useCacheRefresh=S_,Ls.useMemoCache=zc,Ls.useHostTransitionStatus=jc,Ls.useFormState=o_,Ls.useActionState=o_,Ls.useOptimistic=function(e,i){var a=ie();return Ft!==null?$g(a,Ft,e,i):(a.baseState=e,[e,a.queue.dispatch])};function Zc(e,i,a,u){i=e.memoizedState,a=a(u,i),a=a==null?i:V({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var qc={isMounted:function(e){return(e=e._reactInternals)?W(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var u=sn(),f=Fi(u);f.payload=i,a!=null&&(f.callback=a),i=Bi(e,f,u),i!==null&&(Ge(i,e,u),Za(i,e,u))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var u=sn(),f=Fi(u);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Bi(e,f,u),i!==null&&(Ge(i,e,u),Za(i,e,u))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=sn(),u=Fi(a);u.tag=2,i!=null&&(u.callback=i),i=Bi(e,u,a),i!==null&&(Ge(i,e,a),Za(i,e,a))}};function w_(e,i,a,u,f,g,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,g,p):i.prototype&&i.prototype.isPureReactComponent?!Ma(a,u)||!Ma(f,g):!0}function b_(e,i,a,u){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==e&&qc.enqueueReplaceState(i,i.state,null)}function Is(e,i){var a=i;if("ref"in i){a={};for(var u in i)u!=="ref"&&(a[u]=i[u])}if(e=e.defaultProps){a===i&&(a=V({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var bo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function A_(e){bo(e)}function M_(e){console.error(e)}function D_(e){bo(e)}function Ao(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function O_(e,i,a){try{var u=e.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Pc(e,i,a){return a=Fi(a),a.tag=3,a.payload={element:null},a.callback=function(){Ao(e,i)},a}function L_(e){return e=Fi(e),e.tag=3,e}function I_(e,i,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;e.payload=function(){return f(g)},e.callback=function(){O_(i,a,u)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){O_(i,a,u),typeof f!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function yv(e,i,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=a.alternate,i!==null&&Ha(i,a,f,!0),a=dn.current,a!==null){switch(a.tag){case 13:return Zn===null?Ah():a.alternate===null&&Jt===0&&(Jt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===Tc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([u]):i.add(u),Dh(e,u,f)),!1;case 22:return a.flags|=65536,u===Tc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([u]):a.add(u)),Dh(e,u,f)),!1}throw Error(s(435,a.tag))}return Dh(e,u,f),Ah(),!1}if(Dt)return i=dn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==Sc&&(e=Error(s(422),{cause:u}),Ia(cn(e,a)))):(u!==Sc&&(i=Error(s(423),{cause:u}),Ia(cn(i,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,u=cn(u,a),f=Pc(e.stateNode,u,f),oh(e,f),Jt!==4&&(Jt=2)),!1;var g=Error(s(520),{cause:u});if(g=cn(g,a),$a===null?$a=[g]:$a.push(g),Jt!==4&&(Jt=2),i===null)return!0;u=cn(u,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Pc(a.stateNode,u,e),oh(a,e),!1;case 1:if(i=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Vi===null||!Vi.has(g))))return a.flags|=65536,f&=-f,a.lanes|=f,f=L_(f),I_(f,e,a,u),oh(a,f),!1}a=a.return}while(a!==null);return!1}var z_=Error(s(461)),fe=!1;function Ee(e,i,a,u){i.child=e===null?Yg(i,null,a,u):As(i,e.child,a,u)}function N_(e,i,a,u,f){a=a.render;var g=i.ref;if("ref"in u){var p={};for(var E in u)E!=="ref"&&(p[E]=u[E])}else p=u;return Ns(i),u=Dc(e,i,a,p,g,f),E=Oc(),e!==null&&!fe?(Lc(e,i,f),ui(e,i,f)):(Dt&&E&&Ec(i),i.flags|=1,Ee(e,i,u,f),i.child)}function G_(e,i,a,u,f){if(e===null){var g=a.type;return typeof g=="function"&&!mh(g)&&g.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=g,U_(e,i,g,u,f)):(e=Io(a.type,null,u,i,i.mode,f),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!nh(e,f)){var p=g.memoizedProps;if(a=a.compare,a=a!==null?a:Ma,a(p,u)&&e.ref===i.ref)return ui(e,i,f)}return i.flags|=1,e=qi(g,u),e.ref=i.ref,e.return=i,i.child=e}function U_(e,i,a,u,f){if(e!==null){var g=e.memoizedProps;if(Ma(g,u)&&e.ref===i.ref)if(fe=!1,i.pendingProps=u=g,nh(e,f))(e.flags&131072)!==0&&(fe=!0);else return i.lanes=e.lanes,ui(e,i,f)}return Vc(e,i,a,u,f)}function k_(e,i,a){var u=i.pendingProps,f=u.children,g=(i.stateNode._pendingVisibility&2)!==0,p=e!==null?e.memoizedState:null;if(ja(e,i),u.mode==="hidden"||g){if((i.flags&128)!==0){if(u=p!==null?p.baseLanes|a:a,e!==null){for(f=i.child=e.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;i.childLanes=g&~u}else i.childLanes=0,i.child=null;return Y_(e,i,u,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&po(i,p!==null?p.cachePool:null),p!==null?Xg(i,p):Rc(),Fg(i);else return i.lanes=i.childLanes=536870912,Y_(e,i,p!==null?p.baseLanes|a:a,a)}else p!==null?(po(i,p.cachePool),Xg(i,p),Gi(),i.memoizedState=null):(e!==null&&po(i,null),Rc(),Gi());return Ee(e,i,f,a),i.child}function Y_(e,i,a,u){var f=Ac();return f=f===null?null:{parent:re._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},e!==null&&po(i,null),Rc(),Fg(i),e!==null&&Ha(e,i,u,!0),null}function ja(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=2097664)}}function Vc(e,i,a,u,f){return Ns(i),a=Dc(e,i,a,u,void 0,f),u=Oc(),e!==null&&!fe?(Lc(e,i,f),ui(e,i,f)):(Dt&&u&&Ec(i),i.flags|=1,Ee(e,i,a,f),i.child)}function X_(e,i,a,u,f,g){return Ns(i),i.updateQueue=null,a=qg(i,u,a,f),Zg(e),u=Oc(),e!==null&&!fe?(Lc(e,i,g),ui(e,i,g)):(Dt&&u&&Ec(i),i.flags|=1,Ee(e,i,a,g),i.child)}function F_(e,i,a,u,f){if(Ns(i),i.stateNode===null){var g=_l,p=a.contextType;typeof p=="object"&&p!==null&&(g=be(p)),g=new a(u,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=qc,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=u,g.state=i.memoizedState,g.refs={},ah(i),p=a.contextType,g.context=typeof p=="object"&&p!==null?be(p):_l,g.state=i.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Zc(i,a,p,u),g.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(p=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),p!==g.state&&qc.enqueueReplaceState(g,g.state,null),Pa(i,u,g,f),qa(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(e===null){g=i.stateNode;var E=i.memoizedProps,R=Is(a,E);g.props=R;var M=g.context,B=a.contextType;p=_l,typeof B=="object"&&B!==null&&(p=be(B));var P=a.getDerivedStateFromProps;B=typeof P=="function"||typeof g.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,B||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E||M!==p)&&b_(i,g,u,p),Xi=!1;var N=i.memoizedState;g.state=N,Pa(i,u,g,f),qa(),M=i.memoizedState,E||N!==M||Xi?(typeof P=="function"&&(Zc(i,a,P,u),M=i.memoizedState),(R=Xi||w_(i,a,R,u,N,M,p))?(B||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=M),g.props=u,g.state=M,g.context=p,u=R):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{g=i.stateNode,rh(e,i),p=i.memoizedProps,B=Is(a,p),g.props=B,P=i.pendingProps,N=g.context,M=a.contextType,R=_l,typeof M=="object"&&M!==null&&(R=be(M)),E=a.getDerivedStateFromProps,(M=typeof E=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(p!==P||N!==R)&&b_(i,g,u,R),Xi=!1,N=i.memoizedState,g.state=N,Pa(i,u,g,f),qa();var F=i.memoizedState;p!==P||N!==F||Xi||e!==null&&e.dependencies!==null&&Mo(e.dependencies)?(typeof E=="function"&&(Zc(i,a,E,u),F=i.memoizedState),(B=Xi||w_(i,a,B,u,N,F,R)||e!==null&&e.dependencies!==null&&Mo(e.dependencies))?(M||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,F,R),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,F,R)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||p===e.memoizedProps&&N===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&N===e.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=F),g.props=u,g.state=F,g.context=R,u=B):(typeof g.componentDidUpdate!="function"||p===e.memoizedProps&&N===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&N===e.memoizedState||(i.flags|=1024),u=!1)}return g=u,ja(e,i),u=(i.flags&128)!==0,g||u?(g=i.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&u?(i.child=As(i,e.child,null,f),i.child=As(i,null,a,f)):Ee(e,i,a,f),i.memoizedState=g.state,e=i.child):e=ui(e,i,f),e}function B_(e,i,a,u){return La(),i.flags|=256,Ee(e,i,a,u),i.child}var Kc={dehydrated:null,treeContext:null,retryLane:0};function Wc(e){return{baseLanes:e,cachePool:Hg()}}function Qc(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=yn),e}function j_(e,i,a){var u=i.pendingProps,f=!1,g=(i.flags&128)!==0,p;if((p=g)||(p=e!==null&&e.memoizedState===null?!1:(ae.current&2)!==0),p&&(f=!0,i.flags&=-129),p=(i.flags&32)!==0,i.flags&=-33,e===null){if(Dt){if(f?Ni(i):Gi(),Dt){var E=ve,R;if(R=E){t:{for(R=E,E=Hn;R.nodeType!==8;){if(!E){E=null;break t}if(R=Ln(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(i.memoizedState={dehydrated:E,treeContext:Cs!==null?{id:li,overflow:ai}:null,retryLane:536870912},R=mn(18,null,null,0),R.stateNode=E,R.return=i,i.child=R,Ne=i,ve=null,R=!0):R=!1}R||bs(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?i.lanes=16:i.lanes=536870912,null;ri(i)}return E=u.children,u=u.fallback,f?(Gi(),f=i.mode,E=$c({mode:"hidden",children:E},f),u=Us(u,f,a,null),E.return=i,u.return=i,E.sibling=u,i.child=E,f=i.child,f.memoizedState=Wc(a),f.childLanes=Qc(e,p,a),i.memoizedState=Kc,u):(Ni(i),Jc(i,E))}if(R=e.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(g)i.flags&256?(Ni(i),i.flags&=-257,i=th(e,i,a)):i.memoizedState!==null?(Gi(),i.child=e.child,i.flags|=128,i=null):(Gi(),f=u.fallback,E=i.mode,u=$c({mode:"visible",children:u.children},E),f=Us(f,E,a,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,As(i,e.child,null,a),u=i.child,u.memoizedState=Wc(a),u.childLanes=Qc(e,p,a),i.memoizedState=Kc,i=f);else if(Ni(i),E.data==="$!"){if(p=E.nextSibling&&E.nextSibling.dataset,p)var M=p.dgst;p=M,u=Error(s(419)),u.stack="",u.digest=p,Ia({value:u,source:null,stack:null}),i=th(e,i,a)}else if(fe||Ha(e,i,a,!1),p=(a&e.childLanes)!==0,fe||p){if(p=Zt,p!==null){if(u=a&-a,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(p.suspendedLanes|a))!==0?0:u,u!==0&&u!==R.retryLane)throw R.retryLane=u,zi(e,u),Ge(p,e,u),z_}E.data==="$?"||Ah(),i=th(e,i,a)}else E.data==="$?"?(i.flags|=128,i.child=e.child,i=Lv.bind(null,e),E._reactRetry=i,i=null):(e=R.treeContext,ve=Ln(E.nextSibling),Ne=i,Dt=!0,Dn=null,Hn=!1,e!==null&&(hn[fn++]=li,hn[fn++]=ai,hn[fn++]=Cs,li=e.id,ai=e.overflow,Cs=i),i=Jc(i,u.children),i.flags|=4096);return i}return f?(Gi(),f=u.fallback,E=i.mode,R=e.child,M=R.sibling,u=qi(R,{mode:"hidden",children:u.children}),u.subtreeFlags=R.subtreeFlags&31457280,M!==null?f=qi(M,f):(f=Us(f,E,a,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,E=e.child.memoizedState,E===null?E=Wc(a):(R=E.cachePool,R!==null?(M=re._currentValue,R=R.parent!==M?{parent:M,pool:M}:R):R=Hg(),E={baseLanes:E.baseLanes|a,cachePool:R}),f.memoizedState=E,f.childLanes=Qc(e,p,a),i.memoizedState=Kc,u):(Ni(i),a=e.child,e=a.sibling,a=qi(a,{mode:"visible",children:u.children}),a.return=i,a.sibling=null,e!==null&&(p=i.deletions,p===null?(i.deletions=[e],i.flags|=16):p.push(e)),i.child=a,i.memoizedState=null,a)}function Jc(e,i){return i=$c({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function $c(e,i){return _m(e,i,0,null)}function th(e,i,a){return As(i,e.child,null,a),e=Jc(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function H_(e,i,a){e.lanes|=i;var u=e.alternate;u!==null&&(u.lanes|=i),sh(e.return,i,a)}function eh(e,i,a,u,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=a,g.tailMode=f)}function Z_(e,i,a){var u=i.pendingProps,f=u.revealOrder,g=u.tail;if(Ee(e,i,u.children,a),u=ae.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&H_(e,a,i);else if(e.tag===19)H_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}switch(vt(ae,u),f){case"forwards":for(a=i.child,f=null;a!==null;)e=a.alternate,e!==null&&yo(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),eh(i,!1,f,a,g);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(e=f.alternate,e!==null&&yo(e)===null){i.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}eh(i,!0,a,null,g);break;case"together":eh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ui(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Pi|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ha(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=qi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=qi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function nh(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Mo(e)))}function pv(e,i,a){switch(i.tag){case 3:Yn(i,i.stateNode.containerInfo),Yi(i,re,e.memoizedState.cache),La();break;case 27:case 5:Ye(i);break;case 4:Yn(i,i.stateNode.containerInfo);break;case 10:Yi(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Ni(i),i.flags|=128,null):(a&i.child.childLanes)!==0?j_(e,i,a):(Ni(i),e=ui(e,i,a),e!==null?e.sibling:null);Ni(i);break;case 19:var f=(e.flags&128)!==0;if(u=(a&i.childLanes)!==0,u||(Ha(e,i,a,!1),u=(a&i.childLanes)!==0),f){if(u)return Z_(e,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),vt(ae,ae.current),u)break;return null;case 22:case 23:return i.lanes=0,k_(e,i,a);case 24:Yi(i,re,e.memoizedState.cache)}return ui(e,i,a)}function q_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)fe=!0;else{if(!nh(e,a)&&(i.flags&128)===0)return fe=!1,pv(e,i,a);fe=(e.flags&131072)!==0}else fe=!1,Dt&&(i.flags&1048576)!==0&&Dg(i,ho,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")mh(u)?(e=Is(u,e),i.tag=1,i=F_(null,i,u,e,a)):(i.tag=0,i=Vc(null,i,u,e,a));else{if(u!=null){if(f=u.$$typeof,f===S){i.tag=11,i=N_(null,i,u,e,a);break t}else if(f===b){i.tag=14,i=G_(null,i,u,e,a);break t}}throw i=Z(u)||u,Error(s(306,i,""))}}return i;case 0:return Vc(e,i,i.type,i.pendingProps,a);case 1:return u=i.type,f=Is(u,i.pendingProps),F_(e,i,u,f,a);case 3:t:{if(Yn(i,i.stateNode.containerInfo),e===null)throw Error(s(387));var g=i.pendingProps;f=i.memoizedState,u=f.element,rh(e,i),Pa(i,g,null,a);var p=i.memoizedState;if(g=p.cache,Yi(i,re,g),g!==f.cache&&lh(i,[re],a,!0),qa(),g=p.element,f.isDehydrated)if(f={element:g,isDehydrated:!1,cache:p.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=B_(e,i,g,a);break t}else if(g!==u){u=cn(Error(s(424)),i),Ia(u),i=B_(e,i,g,a);break t}else for(ve=Ln(i.stateNode.containerInfo.firstChild),Ne=i,Dt=!0,Dn=null,Hn=!0,a=Yg(i,null,g,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(La(),g===u){i=ui(e,i,a);break t}Ee(e,i,g,a)}i=i.child}return i;case 26:return ja(e,i),e===null?(a=Km(i.type,null,i.pendingProps,null))?i.memoizedState=a:Dt||(a=i.type,e=i.pendingProps,u=Zo(We.current).createElement(a),u[we]=i,u[Xe]=e,xe(u,a,e),he(u),i.stateNode=u):i.memoizedState=Km(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Ye(i),e===null&&Dt&&(u=i.stateNode=qm(i.type,i.pendingProps,We.current),Ne=i,Hn=!0,ve=Ln(u.firstChild)),u=i.pendingProps.children,e!==null||Dt?Ee(e,i,u,a):i.child=As(i,null,u,a),ja(e,i),i.child;case 5:return e===null&&Dt&&((f=u=ve)&&(u=Vv(u,i.type,i.pendingProps,Hn),u!==null?(i.stateNode=u,Ne=i,ve=Ln(u.firstChild),Hn=!1,f=!0):f=!1),f||bs(i)),Ye(i),f=i.type,g=i.pendingProps,p=e!==null?e.memoizedProps:null,u=g.children,Bh(f,g)?u=null:p!==null&&Bh(f,p)&&(i.flags|=32),i.memoizedState!==null&&(f=Dc(e,i,hv,null,null,a),or._currentValue=f),ja(e,i),Ee(e,i,u,a),i.child;case 6:return e===null&&Dt&&((e=a=ve)&&(a=Kv(a,i.pendingProps,Hn),a!==null?(i.stateNode=a,Ne=i,ve=null,e=!0):e=!1),e||bs(i)),null;case 13:return j_(e,i,a);case 4:return Yn(i,i.stateNode.containerInfo),u=i.pendingProps,e===null?i.child=As(i,null,u,a):Ee(e,i,u,a),i.child;case 11:return N_(e,i,i.type,i.pendingProps,a);case 7:return Ee(e,i,i.pendingProps,a),i.child;case 8:return Ee(e,i,i.pendingProps.children,a),i.child;case 12:return Ee(e,i,i.pendingProps.children,a),i.child;case 10:return u=i.pendingProps,Yi(i,i.type,u.value),Ee(e,i,u.children,a),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Ns(i),f=be(f),u=u(f),i.flags|=1,Ee(e,i,u,a),i.child;case 14:return G_(e,i,i.type,i.pendingProps,a);case 15:return U_(e,i,i.type,i.pendingProps,a);case 19:return Z_(e,i,a);case 22:return k_(e,i,a);case 24:return Ns(i),u=be(re),e===null?(f=Ac(),f===null&&(f=Zt,g=wc(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=a),f=g),i.memoizedState={parent:u,cache:f},ah(i),Yi(i,re,f)):((e.lanes&a)!==0&&(rh(e,i),Pa(i,null,null,a),qa()),f=e.memoizedState,g=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Yi(i,re,u)):(u=g.cache,Yi(i,re,u),u!==f.cache&&lh(i,[re],a,!0))),Ee(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var ih=mt(null),zs=null,ci=null;function Yi(e,i,a){vt(ih,i._currentValue),i._currentValue=a}function hi(e){e._currentValue=ih.current,Xt(ih)}function sh(e,i,a){for(;e!==null;){var u=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),e===a)break;e=e.return}}function lh(e,i,a,u){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var g=f.dependencies;if(g!==null){var p=f.child;g=g.firstContext;t:for(;g!==null;){var E=g;g=f;for(var R=0;R<i.length;R++)if(E.context===i[R]){g.lanes|=a,E=g.alternate,E!==null&&(E.lanes|=a),sh(g.return,a,e),u||(p=null);break t}g=E.next}}else if(f.tag===18){if(p=f.return,p===null)throw Error(s(341));p.lanes|=a,g=p.alternate,g!==null&&(g.lanes|=a),sh(p,a,e),p=null}else p=f.child;if(p!==null)p.return=f;else for(p=f;p!==null;){if(p===e){p=null;break}if(f=p.sibling,f!==null){f.return=p.return,p=f;break}p=p.return}f=p}}function Ha(e,i,a,u){e=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var p=f.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var E=f.type;$e(f.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(f===Qe.current){if(p=f.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(or):e=[or])}f=f.return}e!==null&&lh(i,e,a,u),i.flags|=262144}function Mo(e){for(e=e.firstContext;e!==null;){if(!$e(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ns(e){zs=e,ci=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function be(e){return P_(zs,e)}function Do(e,i){return zs===null&&Ns(e),P_(e,i)}function P_(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ci===null){if(e===null)throw Error(s(308));ci=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ci=ci.next=i;return a}var Xi=!1;function ah(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Bi(e,i,a){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(Wt&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=uo(e),Ag(e,null,a),i}return oo(e,u,i,a),uo(e)}function Za(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var u=i.lanes;u&=e.pendingLanes,a|=u,i.lanes=a,ce(e,a)}}function oh(e,i){var a=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?f=g=p:g=g.next=p,a=a.next}while(a!==null);g===null?f=g=i:g=g.next=i}else f=g=i;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var uh=!1;function qa(){if(uh){var e=xl;if(e!==null)throw e}}function Pa(e,i,a,u){uh=!1;var f=e.updateQueue;Xi=!1;var g=f.firstBaseUpdate,p=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var R=E,M=R.next;R.next=null,p===null?g=M:p.next=M,p=R;var B=e.alternate;B!==null&&(B=B.updateQueue,E=B.lastBaseUpdate,E!==p&&(E===null?B.firstBaseUpdate=M:E.next=M,B.lastBaseUpdate=R))}if(g!==null){var P=f.baseState;p=0,B=M=R=null,E=g;do{var N=E.lane&-536870913,F=N!==E.lane;if(F?(Mt&N)===N:(u&N)===N){N!==0&&N===El&&(uh=!0),B!==null&&(B=B.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,yt=E;N=i;var $t=a;switch(yt.tag){case 1:if(rt=yt.payload,typeof rt=="function"){P=rt.call($t,P,N);break t}P=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=yt.payload,N=typeof rt=="function"?rt.call($t,P,N):rt,N==null)break t;P=V({},P,N);break t;case 2:Xi=!0}}N=E.callback,N!==null&&(e.flags|=64,F&&(e.flags|=8192),F=f.callbacks,F===null?f.callbacks=[N]:F.push(N))}else F={lane:N,tag:E.tag,payload:E.payload,callback:E.callback,next:null},B===null?(M=B=F,R=P):B=B.next=F,p|=N;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;F=E,E=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);B===null&&(R=P),f.baseState=R,f.firstBaseUpdate=M,f.lastBaseUpdate=B,g===null&&(f.shared.lanes=0),Pi|=p,e.lanes=p,e.memoizedState=P}}function V_(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function K_(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)V_(a[e],i)}function Va(e,i){try{var a=i.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&e)===e){u=void 0;var g=a.create,p=a.inst;u=g(),p.destroy=u}a=a.next}while(a!==f)}}catch(E){Ht(i,i.return,E)}}function ji(e,i,a){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&e)===e){var p=u.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,f=i;var R=a;try{E()}catch(M){Ht(f,R,M)}}}u=u.next}while(u!==g)}}catch(M){Ht(i,i.return,M)}}function W_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{K_(i,a)}catch(u){Ht(e,e.return,u)}}}function Q_(e,i,a){a.props=Is(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(u){Ht(e,i,u)}}function Gs(e,i){try{var a=e.ref;if(a!==null){var u=e.stateNode;switch(e.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof a=="function"?e.refCleanup=a(f):a.current=f}}catch(g){Ht(e,i,g)}}function tn(e,i){var a=e.ref,u=e.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){Ht(e,i,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ht(e,i,f)}else a.current=null}function J_(e){var i=e.type,a=e.memoizedProps,u=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){Ht(e,e.return,f)}}function $_(e,i,a){try{var u=e.stateNode;jv(u,e.type,a,i),u[Xe]=i}catch(f){Ht(e,e.return,f)}}function tm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function ch(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||tm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hh(e,i,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ho));else if(u!==4&&u!==27&&(e=e.child,e!==null))for(hh(e,i,a),e=e.sibling;e!==null;)hh(e,i,a),e=e.sibling}function Oo(e,i,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(u!==4&&u!==27&&(e=e.child,e!==null))for(Oo(e,i,a),e=e.sibling;e!==null;)Oo(e,i,a),e=e.sibling}var fi=!1,Qt=!1,fh=!1,em=typeof WeakSet=="function"?WeakSet:Set,de=null,nm=!1;function vv(e,i){if(e=e.containerInfo,Xh=Qo,e=vg(e),gc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break t}var p=0,E=-1,R=-1,M=0,B=0,P=e,N=null;e:for(;;){for(var F;P!==a||f!==0&&P.nodeType!==3||(E=p+f),P!==g||u!==0&&P.nodeType!==3||(R=p+u),P.nodeType===3&&(p+=P.nodeValue.length),(F=P.firstChild)!==null;)N=P,P=F;for(;;){if(P===e)break e;if(N===a&&++M===f&&(E=p),N===g&&++B===u&&(R=p),(F=P.nextSibling)!==null)break;P=N,N=P.parentNode}P=F}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fh={focusedElem:e,selectionRange:a},Qo=!1,de=i;de!==null;)if(i=de,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,de=e;else for(;de!==null;){switch(i=de,g=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,a=i,f=g.memoizedProps,g=g.memoizedState,u=a.stateNode;try{var rt=Is(a.type,f,a.elementType===a.type);e=u.getSnapshotBeforeUpdate(rt,g),u.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Ht(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Zh(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,de=e;break}de=i.return}return rt=nm,nm=!1,rt}function im(e,i,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:gi(e,a),u&4&&Va(5,a);break;case 1:if(gi(e,a),u&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(E){Ht(a,a.return,E)}else{var f=Is(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(f,i,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Ht(a,a.return,E)}}u&64&&W_(a),u&512&&Gs(a,a.return);break;case 3:if(gi(e,a),u&64&&(u=a.updateQueue,u!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{K_(u,e)}catch(E){Ht(a,a.return,E)}}break;case 26:gi(e,a),u&512&&Gs(a,a.return);break;case 27:case 5:gi(e,a),i===null&&u&4&&J_(a),u&512&&Gs(a,a.return);break;case 12:gi(e,a);break;case 13:gi(e,a),u&4&&am(e,a);break;case 22:if(f=a.memoizedState!==null||fi,!f){i=i!==null&&i.memoizedState!==null||Qt;var g=fi,p=Qt;fi=f,(Qt=i)&&!p?Hi(e,a,(a.subtreeFlags&8772)!==0):gi(e,a),fi=g,Qt=p}u&512&&(a.memoizedProps.mode==="manual"?Gs(a,a.return):tn(a,a.return));break;default:gi(e,a)}}function sm(e){var i=e.alternate;i!==null&&(e.alternate=null,sm(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Ju(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var se=null,en=!1;function di(e,i,a){for(a=a.child;a!==null;)lm(e,i,a),a=a.sibling}function lm(e,i,a){if(Te&&typeof Te.onCommitFiberUnmount=="function")try{Te.onCommitFiberUnmount(ys,a)}catch{}switch(a.tag){case 26:Qt||tn(a,i),di(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Qt||tn(a,i);var u=se,f=en;for(se=a.stateNode,di(e,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Ju(a),se=u,en=f;break;case 5:Qt||tn(a,i);case 6:f=se;var g=en;if(se=null,di(e,i,a),se=f,en=g,se!==null)if(en)try{e=se,u=a.stateNode,e.nodeType===8?e.parentNode.removeChild(u):e.removeChild(u)}catch(p){Ht(a,i,p)}else try{se.removeChild(a.stateNode)}catch(p){Ht(a,i,p)}break;case 18:se!==null&&(en?(i=se,a=a.stateNode,i.nodeType===8?Hh(i.parentNode,a):i.nodeType===1&&Hh(i,a),fr(i)):Hh(se,a.stateNode));break;case 4:u=se,f=en,se=a.stateNode.containerInfo,en=!0,di(e,i,a),se=u,en=f;break;case 0:case 11:case 14:case 15:Qt||ji(2,a,i),Qt||ji(4,a,i),di(e,i,a);break;case 1:Qt||(tn(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Q_(a,i,u)),di(e,i,a);break;case 21:di(e,i,a);break;case 22:Qt||tn(a,i),Qt=(u=Qt)||a.memoizedState!==null,di(e,i,a),Qt=u;break;default:di(e,i,a)}}function am(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fr(e)}catch(a){Ht(i,i.return,a)}}function Ev(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new em),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new em),i;default:throw Error(s(435,e.tag))}}function dh(e,i){var a=Ev(e);i.forEach(function(u){var f=Iv.bind(null,e,u);a.has(u)||(a.add(u),u.then(f,f))})}function gn(e,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],g=e,p=i,E=p;t:for(;E!==null;){switch(E.tag){case 27:case 5:se=E.stateNode,en=!1;break t;case 3:se=E.stateNode.containerInfo,en=!0;break t;case 4:se=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(se===null)throw Error(s(160));lm(g,p,f),se=null,en=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)rm(i,e),i=i.sibling}var On=null;function rm(e,i){var a=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(i,e),_n(e),u&4&&(ji(3,e,e.return),Va(3,e),ji(5,e,e.return));break;case 1:gn(i,e),_n(e),u&512&&(Qt||a===null||tn(a,a.return)),u&64&&fi&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=On;if(gn(i,e),_n(e),u&512&&(Qt||a===null||tn(a,a.return)),u&4){var g=a!==null?a.memoizedState:null;if(u=e.memoizedState,a===null)if(u===null)if(e.stateNode===null){t:{u=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ea]||g[we]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),xe(g,u,a),g[we]=e,he(g),u=g;break t;case"link":var p=Jm("link","href",f).get(u+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(g=p[E],g.getAttribute("href")===(a.href==null?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break e}}g=f.createElement(u),xe(g,u,a),f.head.appendChild(g);break;case"meta":if(p=Jm("meta","content",f).get(u+(a.content||""))){for(E=0;E<p.length;E++)if(g=p[E],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break e}}g=f.createElement(u),xe(g,u,a),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[we]=e,he(g),u=g}e.stateNode=u}else $m(f,e.type,e.stateNode);else e.stateNode=Qm(f,u,e.memoizedProps);else g!==u?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,u===null?$m(f,e.type,e.stateNode):Qm(f,u,e.memoizedProps)):u===null&&e.stateNode!==null&&$_(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&e.alternate===null){f=e.stateNode,g=e.memoizedProps;try{for(var R=f.firstChild;R;){var M=R.nextSibling,B=R.nodeName;R[Ea]||B==="HEAD"||B==="BODY"||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&R.rel.toLowerCase()==="stylesheet"||f.removeChild(R),R=M}for(var P=e.type,N=f.attributes;N.length;)f.removeAttributeNode(N[0]);xe(f,P,g),f[we]=e,f[Xe]=g}catch(rt){Ht(e,e.return,rt)}}case 5:if(gn(i,e),_n(e),u&512&&(Qt||a===null||tn(a,a.return)),e.flags&32){f=e.stateNode;try{ol(f,"")}catch(rt){Ht(e,e.return,rt)}}u&4&&e.stateNode!=null&&(f=e.memoizedProps,$_(e,f,a!==null?a.memoizedProps:f)),u&1024&&(fh=!0);break;case 6:if(gn(i,e),_n(e),u&4){if(e.stateNode===null)throw Error(s(162));u=e.memoizedProps,a=e.stateNode;try{a.nodeValue=u}catch(rt){Ht(e,e.return,rt)}}break;case 3:if(Vo=null,f=On,On=qo(i.containerInfo),gn(i,e),On=f,_n(e),u&4&&a!==null&&a.memoizedState.isDehydrated)try{fr(i.containerInfo)}catch(rt){Ht(e,e.return,rt)}fh&&(fh=!1,om(e));break;case 4:u=On,On=qo(e.stateNode.containerInfo),gn(i,e),_n(e),On=u;break;case 12:gn(i,e),_n(e);break;case 13:gn(i,e),_n(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sh=jt()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,dh(e,u)));break;case 22:if(u&512&&(Qt||a===null||tn(a,a.return)),R=e.memoizedState!==null,M=a!==null&&a.memoizedState!==null,B=fi,P=Qt,fi=B||R,Qt=P||M,gn(i,e),Qt=P,fi=B,_n(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,u&8192&&(i._visibility=R?i._visibility&-2:i._visibility|1,R&&(i=fi||Qt,a===null||M||i||Cl(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){M=a=i;try{if(f=M.stateNode,R)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{p=M.stateNode,E=M.memoizedProps.style;var F=E!=null&&E.hasOwnProperty("display")?E.display:null;p.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(rt){Ht(M,M.return,rt)}}}else if(i.tag===6){if(a===null){M=i;try{M.stateNode.nodeValue=R?"":M.memoizedProps}catch(rt){Ht(M,M.return,rt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=e.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,dh(e,a))));break;case 19:gn(i,e),_n(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,dh(e,u)));break;case 21:break;default:gn(i,e),_n(e)}}function _n(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(tm(a)){var u=a;break t}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var f=u.stateNode,g=ch(e);Oo(e,g,f);break;case 5:var p=u.stateNode;u.flags&32&&(ol(p,""),u.flags&=-33);var E=ch(e);Oo(e,E,p);break;case 3:case 4:var R=u.stateNode.containerInfo,M=ch(e);hh(e,M,R);break;default:throw Error(s(161))}}}catch(B){Ht(e,e.return,B)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function om(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;om(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function gi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)im(e,i.alternate,i),i=i.sibling}function Cl(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ji(4,i,i.return),Cl(i);break;case 1:tn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Q_(i,i.return,a),Cl(i);break;case 26:case 27:case 5:tn(i,i.return),Cl(i);break;case 22:tn(i,i.return),i.memoizedState===null&&Cl(i);break;default:Cl(i)}e=e.sibling}}function Hi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=e,g=i,p=g.flags;switch(g.tag){case 0:case 11:case 15:Hi(f,g,a),Va(4,g);break;case 1:if(Hi(f,g,a),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(M){Ht(u,u.return,M)}if(u=g,f=u.updateQueue,f!==null){var E=u.stateNode;try{var R=f.shared.hiddenCallbacks;if(R!==null)for(f.shared.hiddenCallbacks=null,f=0;f<R.length;f++)V_(R[f],E)}catch(M){Ht(u,u.return,M)}}a&&p&64&&W_(g),Gs(g,g.return);break;case 26:case 27:case 5:Hi(f,g,a),a&&u===null&&p&4&&J_(g),Gs(g,g.return);break;case 12:Hi(f,g,a);break;case 13:Hi(f,g,a),a&&p&4&&am(f,g);break;case 22:g.memoizedState===null&&Hi(f,g,a),Gs(g,g.return);break;default:Hi(f,g,a)}i=i.sibling}}function gh(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ka(a))}function _h(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ka(e))}function Zi(e,i,a,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)um(e,i,a,u),i=i.sibling}function um(e,i,a,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Zi(e,i,a,u),f&2048&&Va(9,i);break;case 3:Zi(e,i,a,u),f&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ka(e)));break;case 12:if(f&2048){Zi(e,i,a,u),e=i.stateNode;try{var g=i.memoizedProps,p=g.id,E=g.onPostCommit;typeof E=="function"&&E(p,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Ht(i,i.return,R)}}else Zi(e,i,a,u);break;case 23:break;case 22:g=i.stateNode,i.memoizedState!==null?g._visibility&4?Zi(e,i,a,u):Ka(e,i):g._visibility&4?Zi(e,i,a,u):(g._visibility|=4,wl(e,i,a,u,(i.subtreeFlags&10256)!==0)),f&2048&&gh(i.alternate,i);break;case 24:Zi(e,i,a,u),f&2048&&_h(i.alternate,i);break;default:Zi(e,i,a,u)}}function wl(e,i,a,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=e,p=i,E=a,R=u,M=p.flags;switch(p.tag){case 0:case 11:case 15:wl(g,p,E,R,f),Va(8,p);break;case 23:break;case 22:var B=p.stateNode;p.memoizedState!==null?B._visibility&4?wl(g,p,E,R,f):Ka(g,p):(B._visibility|=4,wl(g,p,E,R,f)),f&&M&2048&&gh(p.alternate,p);break;case 24:wl(g,p,E,R,f),f&&M&2048&&_h(p.alternate,p);break;default:wl(g,p,E,R,f)}i=i.sibling}}function Ka(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,u=i,f=u.flags;switch(u.tag){case 22:Ka(a,u),f&2048&&gh(u.alternate,u);break;case 24:Ka(a,u),f&2048&&_h(u.alternate,u);break;default:Ka(a,u)}i=i.sibling}}var Wa=8192;function bl(e){if(e.subtreeFlags&Wa)for(e=e.child;e!==null;)cm(e),e=e.sibling}function cm(e){switch(e.tag){case 26:bl(e),e.flags&Wa&&e.memoizedState!==null&&oE(On,e.memoizedState,e.memoizedProps);break;case 5:bl(e);break;case 3:case 4:var i=On;On=qo(e.stateNode.containerInfo),bl(e),On=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Wa,Wa=16777216,bl(e),Wa=i):bl(e));break;default:bl(e)}}function hm(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Qa(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];de=u,dm(u,e)}hm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fm(e),e=e.sibling}function fm(e){switch(e.tag){case 0:case 11:case 15:Qa(e),e.flags&2048&&ji(9,e,e.return);break;case 3:Qa(e);break;case 12:Qa(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,Lo(e)):Qa(e);break;default:Qa(e)}}function Lo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];de=u,dm(u,e)}hm(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ji(8,i,i.return),Lo(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Lo(i));break;default:Lo(i)}e=e.sibling}}function dm(e,i){for(;de!==null;){var a=de;switch(a.tag){case 0:case 11:case 15:ji(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ka(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,de=u;else t:for(a=e;de!==null;){u=de;var f=u.sibling,g=u.return;if(sm(u),u===a){de=null;break t}if(f!==null){f.return=g,de=f;break t}de=g}}}function xv(e,i,a,u){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,i,a,u){return new xv(e,i,a,u)}function mh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,i){var a=e.alternate;return a===null?(a=mn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function gm(e,i){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Io(e,i,a,u,f,g){var p=0;if(u=e,typeof e=="function")mh(e)&&(p=1);else if(typeof e=="string")p=aE(e,a,Le.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case d:return Us(a.children,f,g,i);case _:p=8,f|=24;break;case m:return e=mn(12,a,i,f|2),e.elementType=m,e.lanes=g,e;case w:return e=mn(13,a,i,f),e.elementType=w,e.lanes=g,e;case T:return e=mn(19,a,i,f),e.elementType=T,e.lanes=g,e;case G:return _m(a,f,g,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case y:case x:p=10;break t;case v:p=9;break t;case S:p=11;break t;case b:p=14;break t;case D:p=16,u=null;break t}p=29,a=Error(s(130,e===null?"null":typeof e,"")),u=null}return i=mn(p,a,i,f),i.elementType=e,i.type=u,i.lanes=g,i}function Us(e,i,a,u){return e=mn(7,e,u,i),e.lanes=a,e}function _m(e,i,a,u){e=mn(22,e,u,i),e.elementType=G,e.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=f._current;if(g===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var p=zi(g,2);p!==null&&(f._pendingVisibility|=2,Ge(p,g,2))}},attach:function(){var g=f._current;if(g===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var p=zi(g,2);p!==null&&(f._pendingVisibility&=-3,Ge(p,g,2))}}};return e.stateNode=f,e}function yh(e,i,a){return e=mn(6,e,null,i),e.lanes=a,e}function ph(e,i,a){return i=mn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function _i(e){e.flags|=4}function mm(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!t0(i)){if(i=dn.current,i!==null&&((Mt&4194176)===Mt?Zn!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||i!==Zn))throw Na=Tc,Ig;e.flags|=8192}}function zo(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Je():536870912,e.lanes|=i,Ml|=i)}function Ja(e,i){if(!Dt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Kt(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,u=0;if(i)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=u,e.childLanes=a,i}function Sv(e,i,a){var u=i.pendingProps;switch(xc(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(i),null;case 1:return Kt(i),null;case 3:return a=i.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),hi(re),pe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Oa(i)?_i(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Dn!==null&&(wh(Dn),Dn=null))),Kt(i),null;case 26:return a=i.memoizedState,e===null?(_i(i),a!==null?(Kt(i),mm(i,a)):(Kt(i),i.flags&=-16777217)):a?a!==e.memoizedState?(_i(i),Kt(i),mm(i,a)):(Kt(i),i.flags&=-16777217):(e.memoizedProps!==u&&_i(i),Kt(i),i.flags&=-16777217),null;case 27:Cn(i),a=We.current;var f=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==u&&_i(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Kt(i),null}e=Le.current,Oa(i)?Og(i):(e=qm(f,u,a),i.stateNode=e,_i(i))}return Kt(i),null;case 5:if(Cn(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==u&&_i(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Kt(i),null}if(e=Le.current,Oa(i))Og(i);else{switch(f=Zo(We.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?e.multiple=!0:u.size&&(e.size=u.size);break;default:e=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}e[we]=i,e[Xe]=u;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=e;t:switch(xe(e,a,u),a){case"button":case"input":case"select":case"textarea":e=!!u.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&_i(i)}}return Kt(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==u&&_i(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(e=We.current,Oa(i)){if(e=i.stateNode,a=i.memoizedProps,u=null,f=Ne,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}e[we]=i,e=!!(e.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Xm(e.nodeValue,a)),e||bs(i)}else e=Zo(e).createTextNode(u),e[we]=i,i.stateNode=e}return Kt(i),null;case 13:if(u=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Oa(i),u!==null&&u.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[we]=i}else La(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Kt(i),f=!1}else Dn!==null&&(wh(Dn),Dn=null),f=!0;if(!f)return i.flags&256?(ri(i),i):(ri(i),null)}if(ri(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=u!==null,e=e!==null&&e.memoizedState!==null,a){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),zo(i,i.updateQueue),Kt(i),null;case 4:return pe(),e===null&&Uh(i.stateNode.containerInfo),Kt(i),null;case 10:return hi(i.type),Kt(i),null;case 19:if(Xt(ae),f=i.memoizedState,f===null)return Kt(i),null;if(u=(i.flags&128)!==0,g=f.rendering,g===null)if(u)Ja(f,!1);else{if(Jt!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(g=yo(e),g!==null){for(i.flags|=128,Ja(f,!1),e=g.updateQueue,i.updateQueue=e,zo(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)gm(a,e),a=a.sibling;return vt(ae,ae.current&1|2),i.child}e=e.sibling}f.tail!==null&&jt()>No&&(i.flags|=128,u=!0,Ja(f,!1),i.lanes=4194304)}else{if(!u)if(e=yo(g),e!==null){if(i.flags|=128,u=!0,e=e.updateQueue,i.updateQueue=e,zo(i,e),Ja(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Dt)return Kt(i),null}else 2*jt()-f.renderingStartTime>No&&a!==536870912&&(i.flags|=128,u=!0,Ja(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(e=f.last,e!==null?e.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=jt(),i.sibling=null,e=ae.current,vt(ae,u?e&1|2:e&1),i):(Kt(i),null);case 22:case 23:return ri(i),Cc(),u=i.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(a&536870912)!==0&&(i.flags&128)===0&&(Kt(i),i.subtreeFlags&6&&(i.flags|=8192)):Kt(i),a=i.updateQueue,a!==null&&zo(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==a&&(i.flags|=2048),e!==null&&Xt(Ms),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),hi(re),Kt(i),null;case 25:return null}throw Error(s(156,i.tag))}function Tv(e,i){switch(xc(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return hi(re),pe(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Cn(i),null;case 13:if(ri(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));La()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Xt(ae),null;case 4:return pe(),null;case 10:return hi(i.type),null;case 22:case 23:return ri(i),Cc(),e!==null&&Xt(Ms),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return hi(re),null;case 25:return null;default:return null}}function ym(e,i){switch(xc(i),i.tag){case 3:hi(re),pe();break;case 26:case 27:case 5:Cn(i);break;case 4:pe();break;case 13:ri(i);break;case 19:Xt(ae);break;case 10:hi(i.type);break;case 22:case 23:ri(i),Cc(),e!==null&&Xt(Ms);break;case 24:hi(re)}}var Rv={getCacheForType:function(e){var i=be(re),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},Cv=typeof WeakMap=="function"?WeakMap:Map,Wt=0,Zt=null,Ct=null,Mt=0,qt=0,nn=null,mi=!1,Al=!1,vh=!1,yi=0,Jt=0,Pi=0,ks=0,Eh=0,yn=0,Ml=0,$a=null,Pn=null,xh=!1,Sh=0,No=1/0,Go=null,Vi=null,Uo=!1,Ys=null,tr=0,Th=0,Rh=null,er=0,Ch=null;function sn(){if((Wt&2)!==0&&Mt!==0)return Mt&-Mt;if(U.T!==null){var e=El;return e!==0?e:Ih()}return Kr()}function pm(){yn===0&&(yn=(Mt&536870912)===0||Dt?Ie():536870912);var e=dn.current;return e!==null&&(e.flags|=32),yn}function Ge(e,i,a){(e===Zt&&qt===2||e.cancelPendingCommit!==null)&&(Dl(e,0),pi(e,Mt,yn,!1)),ze(e,a),((Wt&2)===0||e!==Zt)&&(e===Zt&&((Wt&2)===0&&(ks|=a),Jt===4&&pi(e,Mt,yn,!1)),Vn(e))}function vm(e,i,a){if((Wt&6)!==0)throw Error(s(327));var u=!a&&(i&60)===0&&(i&e.expiredLanes)===0||ue(e,i),f=u?Av(e,i):Mh(e,i,!0),g=u;do{if(f===0){Al&&!u&&pi(e,i,0,!1);break}else if(f===6)pi(e,i,0,!mi);else{if(a=e.current.alternate,g&&!wv(a)){f=Mh(e,i,!1),g=!1;continue}if(f===2){if(g=i,e.errorRecoveryDisabledLanes&g)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){i=p;t:{var E=e;f=$a;var R=E.current.memoizedState.isDehydrated;if(R&&(Dl(E,p).flags|=256),p=Mh(E,p,!1),p!==2){if(vh&&!R){E.errorRecoveryDisabledLanes|=g,ks|=g,f=4;break t}g=Pn,Pn=f,g!==null&&wh(g)}f=p}if(g=!1,f!==2)continue}}if(f===1){Dl(e,0),pi(e,i,0,!0);break}t:{switch(u=e,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){pi(u,i,yn,!mi);break t}break;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=i,(i&62914560)===i&&(g=Sh+300-jt(),10<g)){if(pi(u,i,yn,!mi),vs(u,0)!==0)break t;u.timeoutHandle=jm(Em.bind(null,u,a,Pn,Go,xh,i,yn,ks,Ml,mi,2,-0,0),g);break t}Em(u,a,Pn,Go,xh,i,yn,ks,Ml,mi,0,-0,0)}}break}while(!0);Vn(e)}function wh(e){Pn===null?Pn=e:Pn.push.apply(Pn,e)}function Em(e,i,a,u,f,g,p,E,R,M,B,P,N){var F=i.subtreeFlags;if((F&8192||(F&16785408)===16785408)&&(rr={stylesheets:null,count:0,unsuspend:rE},cm(i),i=uE(),i!==null)){e.cancelPendingCommit=i(bm.bind(null,e,a,u,f,p,E,R,1,P,N)),pi(e,g,p,!M);return}bm(e,a,u,f,p,E,R,B,P,N)}function wv(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],g=f.getSnapshot;f=f.value;try{if(!$e(g(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function pi(e,i,a,u){i&=~Eh,i&=~ks,e.suspendedLanes|=i,e.pingedLanes&=~i,u&&(e.warmLanes|=i),u=e.expirationTimes;for(var f=i;0<f;){var g=31-Re(f),p=1<<g;u[g]=-1,f&=~p}a!==0&&Pt(e,a,i)}function ko(){return(Wt&6)===0?(nr(0),!1):!0}function bh(){if(Ct!==null){if(qt===0)var e=Ct.return;else e=Ct,ci=zs=null,Ic(e),pl=null,Ga=0,e=Ct;for(;e!==null;)ym(e.alternate,e),e=e.return;Ct=null}}function Dl(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Zv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),bh(),Zt=e,Ct=a=qi(e.current,null),Mt=i,qt=0,nn=null,mi=!1,Al=ue(e,i),vh=!1,Ml=yn=Eh=ks=Pi=Jt=0,Pn=$a=null,xh=!1,(i&8)!==0&&(i|=i&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=i;0<u;){var f=31-Re(u),g=1<<f;i|=e[f],u&=~g}return yi=i,ro(),a}function xm(e,i){Tt=null,U.H=qn,i===za?(i=Gg(),qt=3):i===Ig?(i=Gg(),qt=4):qt=i===z_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,nn=i,Ct===null&&(Jt=1,Ao(e,cn(i,e.current)))}function Sm(){var e=U.H;return U.H=qn,e===null?qn:e}function Tm(){var e=U.A;return U.A=Rv,e}function Ah(){Jt=4,mi||(Mt&4194176)!==Mt&&dn.current!==null||(Al=!0),(Pi&134217727)===0&&(ks&134217727)===0||Zt===null||pi(Zt,Mt,yn,!1)}function Mh(e,i,a){var u=Wt;Wt|=2;var f=Sm(),g=Tm();(Zt!==e||Mt!==i)&&(Go=null,Dl(e,i)),i=!1;var p=Jt;t:do try{if(qt!==0&&Ct!==null){var E=Ct,R=nn;switch(qt){case 8:bh(),p=6;break t;case 3:case 2:case 6:dn.current===null&&(i=!0);var M=qt;if(qt=0,nn=null,Ol(e,E,R,M),a&&Al){p=0;break t}break;default:M=qt,qt=0,nn=null,Ol(e,E,R,M)}}bv(),p=Jt;break}catch(B){xm(e,B)}while(!0);return i&&e.shellSuspendCounter++,ci=zs=null,Wt=u,U.H=f,U.A=g,Ct===null&&(Zt=null,Mt=0,ro()),p}function bv(){for(;Ct!==null;)Rm(Ct)}function Av(e,i){var a=Wt;Wt|=2;var u=Sm(),f=Tm();Zt!==e||Mt!==i?(Go=null,No=jt()+500,Dl(e,i)):Al=ue(e,i);t:do try{if(qt!==0&&Ct!==null){i=Ct;var g=nn;e:switch(qt){case 1:qt=0,nn=null,Ol(e,i,g,1);break;case 2:if(zg(g)){qt=0,nn=null,Cm(i);break}i=function(){qt===2&&Zt===e&&(qt=7),Vn(e)},g.then(i,i);break t;case 3:qt=7;break t;case 4:qt=5;break t;case 7:zg(g)?(qt=0,nn=null,Cm(i)):(qt=0,nn=null,Ol(e,i,g,7));break;case 5:var p=null;switch(Ct.tag){case 26:p=Ct.memoizedState;case 5:case 27:var E=Ct;if(!p||t0(p)){qt=0,nn=null;var R=E.sibling;if(R!==null)Ct=R;else{var M=E.return;M!==null?(Ct=M,Yo(M)):Ct=null}break e}}qt=0,nn=null,Ol(e,i,g,5);break;case 6:qt=0,nn=null,Ol(e,i,g,6);break;case 8:bh(),Jt=6;break t;default:throw Error(s(462))}}Mv();break}catch(B){xm(e,B)}while(!0);return ci=zs=null,U.H=u,U.A=f,Wt=a,Ct!==null?0:(Zt=null,Mt=0,ro(),Jt)}function Mv(){for(;Ct!==null&&!bn();)Rm(Ct)}function Rm(e){var i=q_(e.alternate,e,yi);e.memoizedProps=e.pendingProps,i===null?Yo(e):Ct=i}function Cm(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=X_(a,i,i.pendingProps,i.type,void 0,Mt);break;case 11:i=X_(a,i,i.pendingProps,i.type.render,i.ref,Mt);break;case 5:Ic(i);default:ym(a,i),i=Ct=gm(i,yi),i=q_(a,i,yi)}e.memoizedProps=e.pendingProps,i===null?Yo(e):Ct=i}function Ol(e,i,a,u){ci=zs=null,Ic(i),pl=null,Ga=0;var f=i.return;try{if(yv(e,f,i,a,Mt)){Jt=1,Ao(e,cn(a,e.current)),Ct=null;return}}catch(g){if(f!==null)throw Ct=f,g;Jt=1,Ao(e,cn(a,e.current)),Ct=null;return}i.flags&32768?(Dt||u===1?e=!0:Al||(Mt&536870912)!==0?e=!1:(mi=e=!0,(u===2||u===3||u===6)&&(u=dn.current,u!==null&&u.tag===13&&(u.flags|=16384))),wm(i,e)):Yo(i)}function Yo(e){var i=e;do{if((i.flags&32768)!==0){wm(i,mi);return}e=i.return;var a=Sv(i.alternate,i,yi);if(a!==null){Ct=a;return}if(i=i.sibling,i!==null){Ct=i;return}Ct=i=e}while(i!==null);Jt===0&&(Jt=5)}function wm(e,i){do{var a=Tv(e.alternate,e);if(a!==null){a.flags&=32767,Ct=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=a}while(e!==null);Jt=6,Ct=null}function bm(e,i,a,u,f,g,p,E,R,M){var B=U.T,P=$.p;try{$.p=2,U.T=null,Dv(e,i,a,u,P,f,g,p,E,R,M)}finally{U.T=B,$.p=P}}function Dv(e,i,a,u,f,g,p,E){do Ll();while(Ys!==null);if((Wt&6)!==0)throw Error(s(327));var R=e.finishedWork;if(u=e.finishedLanes,R===null)return null;if(e.finishedWork=null,e.finishedLanes=0,R===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var M=R.lanes|R.childLanes;if(M|=pc,An(e,u,M,g,p,E),e===Zt&&(Ct=Zt=null,Mt=0),(R.subtreeFlags&10256)===0&&(R.flags&10256)===0||Uo||(Uo=!0,Th=M,Rh=a,zv(nl,function(){return Ll(),null})),a=(R.flags&15990)!==0,(R.subtreeFlags&15990)!==0||a?(a=U.T,U.T=null,g=$.p,$.p=2,p=Wt,Wt|=4,vv(e,R),rm(R,e),tv(Fh,e.containerInfo),Qo=!!Xh,Fh=Xh=null,e.current=R,im(e,R.alternate,R),ei(),Wt=p,$.p=g,U.T=a):e.current=R,Uo?(Uo=!1,Ys=e,tr=u):Am(e,M),M=e.pendingLanes,M===0&&(Vi=null),Vr(R.stateNode),Vn(e),i!==null)for(f=e.onRecoverableError,R=0;R<i.length;R++)M=i[R],f(M.value,{componentStack:M.stack});return(tr&3)!==0&&Ll(),M=e.pendingLanes,(u&4194218)!==0&&(M&42)!==0?e===Ch?er++:(er=0,Ch=e):er=0,nr(0),null}function Am(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,ka(i)))}function Ll(){if(Ys!==null){var e=Ys,i=Th;Th=0;var a=an(tr),u=U.T,f=$.p;try{if($.p=32>a?32:a,U.T=null,Ys===null)var g=!1;else{a=Rh,Rh=null;var p=Ys,E=tr;if(Ys=null,tr=0,(Wt&6)!==0)throw Error(s(331));var R=Wt;if(Wt|=4,fm(p.current),um(p,p.current,E,a),Wt=R,nr(0,!1),Te&&typeof Te.onPostCommitFiberRoot=="function")try{Te.onPostCommitFiberRoot(ys,p)}catch{}g=!0}return g}finally{$.p=f,U.T=u,Am(e,i)}}return!1}function Mm(e,i,a){i=cn(a,i),i=Pc(e.stateNode,i,2),e=Bi(e,i,2),e!==null&&(ze(e,2),Vn(e))}function Ht(e,i,a){if(e.tag===3)Mm(e,e,a);else for(;i!==null;){if(i.tag===3){Mm(i,e,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Vi===null||!Vi.has(u))){e=cn(a,e),a=L_(2),u=Bi(i,a,2),u!==null&&(I_(a,u,i,e),ze(u,2),Vn(u));break}}i=i.return}}function Dh(e,i,a){var u=e.pingCache;if(u===null){u=e.pingCache=new Cv;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(a)||(vh=!0,f.add(a),e=Ov.bind(null,e,i,a),i.then(e,e))}function Ov(e,i,a){var u=e.pingCache;u!==null&&u.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Zt===e&&(Mt&a)===a&&(Jt===4||Jt===3&&(Mt&62914560)===Mt&&300>jt()-Sh?(Wt&2)===0&&Dl(e,0):Eh|=a,Ml===Mt&&(Ml=0)),Vn(e)}function Dm(e,i){i===0&&(i=Je()),e=zi(e,i),e!==null&&(ze(e,i),Vn(e))}function Lv(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Dm(e,a)}function Iv(e,i){var a=0;switch(e.tag){case 13:var u=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),Dm(e,a)}function zv(e,i){return Xn(e,i)}var Xo=null,Il=null,Oh=!1,Fo=!1,Lh=!1,Xs=0;function Vn(e){e!==Il&&e.next===null&&(Il===null?Xo=Il=e:Il=Il.next=e),Fo=!0,Oh||(Oh=!0,Gv(Nv))}function nr(e,i){if(!Lh&&Fo){Lh=!0;do for(var a=!1,u=Xo;u!==null;){if(e!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var p=u.suspendedLanes,E=u.pingedLanes;g=(1<<31-Re(42|e)+1)-1,g&=f&~(p&~E),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(a=!0,Im(u,g))}else g=Mt,g=vs(u,u===Zt?g:0),(g&3)===0||ue(u,g)||(a=!0,Im(u,g));u=u.next}while(a);Lh=!1}}function Nv(){Fo=Oh=!1;var e=0;Xs!==0&&(Hv()&&(e=Xs),Xs=0);for(var i=jt(),a=null,u=Xo;u!==null;){var f=u.next,g=Om(u,i);g===0?(u.next=null,a===null?Xo=f:a.next=f,f===null&&(Il=a)):(a=u,(e!==0||(g&3)!==0)&&(Fo=!0)),u=f}nr(e)}function Om(e,i){for(var a=e.suspendedLanes,u=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var p=31-Re(g),E=1<<p,R=f[p];R===-1?((E&a)===0||(E&u)!==0)&&(f[p]=ni(E,i)):R<=i&&(e.expiredLanes|=E),g&=~E}if(i=Zt,a=Mt,a=vs(e,e===i?a:0),u=e.callbackNode,a===0||e===i&&qt===2||e.cancelPendingCommit!==null)return u!==null&&u!==null&&ti(u),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ue(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(u!==null&&ti(u),an(a)){case 2:case 8:a=ms;break;case 32:a=nl;break;case 268435456:a=ya;break;default:a=nl}return u=Lm.bind(null,e),a=Xn(a,u),e.callbackPriority=i,e.callbackNode=a,i}return u!==null&&u!==null&&ti(u),e.callbackPriority=2,e.callbackNode=null,2}function Lm(e,i){var a=e.callbackNode;if(Ll()&&e.callbackNode!==a)return null;var u=Mt;return u=vs(e,e===Zt?u:0),u===0?null:(vm(e,u,i),Om(e,jt()),e.callbackNode!=null&&e.callbackNode===a?Lm.bind(null,e):null)}function Im(e,i){if(Ll())return null;vm(e,i,!0)}function Gv(e){qv(function(){(Wt&6)!==0?Xn(_s,e):e()})}function Ih(){return Xs===0&&(Xs=Ie()),Xs}function zm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:to(""+e)}function Nm(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function Uv(e,i,a,u,f){if(i==="submit"&&a&&a.stateNode===f){var g=zm((f[Xe]||null).action),p=u.submitter;p&&(i=(i=p[Xe]||null)?zm(i.formAction):p.getAttribute("formAction"),i!==null&&(g=i,p=null));var E=new so("action","action",null,u,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Xs!==0){var R=p?Nm(f,p):new FormData(f);Bc(a,{pending:!0,data:R,method:f.method,action:g},null,R)}}else typeof g=="function"&&(E.preventDefault(),R=p?Nm(f,p):new FormData(f),Bc(a,{pending:!0,data:R,method:f.method,action:g},g,R))},currentTarget:f}]})}}for(var zh=0;zh<bg.length;zh++){var Nh=bg[zh],kv=Nh.toLowerCase(),Yv=Nh[0].toUpperCase()+Nh.slice(1);Mn(kv,"on"+Yv)}Mn(Sg,"onAnimationEnd"),Mn(Tg,"onAnimationIteration"),Mn(Rg,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(nv,"onTransitionRun"),Mn(iv,"onTransitionStart"),Mn(sv,"onTransitionCancel"),Mn(Cg,"onTransitionEnd"),al("onMouseEnter",["mouseout","mouseover"]),al("onMouseLeave",["mouseout","mouseover"]),al("onPointerEnter",["pointerout","pointerover"]),al("onPointerLeave",["pointerout","pointerover"]),xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xs("onBeforeInput",["compositionend","keypress","textInput","paste"]),xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ir));function Gm(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var u=e[a],f=u.event;u=u.listeners;t:{var g=void 0;if(i)for(var p=u.length-1;0<=p;p--){var E=u[p],R=E.instance,M=E.currentTarget;if(E=E.listener,R!==g&&f.isPropagationStopped())break t;g=E,f.currentTarget=M;try{g(f)}catch(B){bo(B)}f.currentTarget=null,g=R}else for(p=0;p<u.length;p++){if(E=u[p],R=E.instance,M=E.currentTarget,E=E.listener,R!==g&&f.isPropagationStopped())break t;g=E,f.currentTarget=M;try{g(f)}catch(B){bo(B)}f.currentTarget=null,g=R}}}}function bt(e,i){var a=i[Qu];a===void 0&&(a=i[Qu]=new Set);var u=e+"__bubble";a.has(u)||(Um(i,e,2,!1),a.add(u))}function Gh(e,i,a){var u=0;i&&(u|=4),Um(a,e,u,i)}var Bo="_reactListening"+Math.random().toString(36).slice(2);function Uh(e){if(!e[Bo]){e[Bo]=!0,Xd.forEach(function(a){a!=="selectionchange"&&(Xv.has(a)||Gh(a,!1,e),Gh(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Bo]||(i[Bo]=!0,Gh("selectionchange",!1,i))}}function Um(e,i,a,u){switch(a0(i)){case 2:var f=fE;break;case 8:f=dE;break;default:f=Wh}a=f.bind(null,i,a,e),f=void 0,!lc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?e.addEventListener(i,a,{capture:!0,passive:f}):e.addEventListener(i,a,!0):f!==void 0?e.addEventListener(i,a,{passive:f}):e.addEventListener(i,a,!1)}function kh(e,i,a,u,f){var g=u;if((i&1)===0&&(i&2)===0&&u!==null)t:for(;;){if(u===null)return;var p=u.tag;if(p===3||p===4){var E=u.stateNode.containerInfo;if(E===f||E.nodeType===8&&E.parentNode===f)break;if(p===4)for(p=u.return;p!==null;){var R=p.tag;if((R===3||R===4)&&(R=p.stateNode.containerInfo,R===f||R.nodeType===8&&R.parentNode===f))return;p=p.return}for(;E!==null;){if(p=Es(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){u=g=p;continue t}E=E.parentNode}}u=u.return}Jd(function(){var M=g,B=ic(a),P=[];t:{var N=wg.get(e);if(N!==void 0){var F=so,rt=e;switch(e){case"keypress":if(no(a)===0)break t;case"keydown":case"keyup":F=Ip;break;case"focusin":rt="focus",F=uc;break;case"focusout":rt="blur",F=uc;break;case"beforeblur":case"afterblur":F=uc;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=eg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=xp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Gp;break;case Sg:case Tg:case Rg:F=Rp;break;case Cg:F=kp;break;case"scroll":case"scrollend":F=vp;break;case"wheel":F=Xp;break;case"copy":case"cut":case"paste":F=wp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ig;break;case"toggle":case"beforetoggle":F=Bp}var yt=(i&4)!==0,$t=!yt&&(e==="scroll"||e==="scrollend"),L=yt?N!==null?N+"Capture":null:N;yt=[];for(var A=M,z;A!==null;){var H=A;if(z=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||z===null||L===null||(H=Sa(A,L),H!=null&&yt.push(sr(A,H,z))),$t)break;A=A.return}0<yt.length&&(N=new F(N,rt,null,a,B),P.push({event:N,listeners:yt}))}}if((i&7)===0){t:{if(N=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",N&&a!==nc&&(rt=a.relatedTarget||a.fromElement)&&(Es(rt)||rt[il]))break t;if((F||N)&&(N=B.window===B?B:(N=B.ownerDocument)?N.defaultView||N.parentWindow:window,F?(rt=a.relatedTarget||a.toElement,F=M,rt=rt?Es(rt):null,rt!==null&&($t=W(rt),yt=rt.tag,rt!==$t||yt!==5&&yt!==27&&yt!==6)&&(rt=null)):(F=null,rt=M),F!==rt)){if(yt=eg,H="onMouseLeave",L="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(yt=ig,H="onPointerLeave",L="onPointerEnter",A="pointer"),$t=F==null?N:xa(F),z=rt==null?N:xa(rt),N=new yt(H,A+"leave",F,a,B),N.target=$t,N.relatedTarget=z,H=null,Es(B)===M&&(yt=new yt(L,A+"enter",rt,a,B),yt.target=z,yt.relatedTarget=$t,H=yt),$t=H,F&&rt)e:{for(yt=F,L=rt,A=0,z=yt;z;z=zl(z))A++;for(z=0,H=L;H;H=zl(H))z++;for(;0<A-z;)yt=zl(yt),A--;for(;0<z-A;)L=zl(L),z--;for(;A--;){if(yt===L||L!==null&&yt===L.alternate)break e;yt=zl(yt),L=zl(L)}yt=null}else yt=null;F!==null&&km(P,N,F,yt,!1),rt!==null&&$t!==null&&km(P,$t,rt,yt,!0)}}t:{if(N=M?xa(M):window,F=N.nodeName&&N.nodeName.toLowerCase(),F==="select"||F==="input"&&N.type==="file")var it=hg;else if(ug(N))if(fg)it=Jp;else{it=Wp;var Rt=Kp}else F=N.nodeName,!F||F.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?M&&ec(M.elementType)&&(it=hg):it=Qp;if(it&&(it=it(e,M))){cg(P,it,a,B);break t}Rt&&Rt(e,N,M),e==="focusout"&&M&&N.type==="number"&&M.memoizedProps.value!=null&&tc(N,"number",N.value)}switch(Rt=M?xa(M):window,e){case"focusin":(ug(Rt)||Rt.contentEditable==="true")&&(fl=Rt,_c=M,Da=null);break;case"focusout":Da=_c=fl=null;break;case"mousedown":mc=!0;break;case"contextmenu":case"mouseup":case"dragend":mc=!1,Eg(P,a,B);break;case"selectionchange":if(ev)break;case"keydown":case"keyup":Eg(P,a,B)}var ut;if(hc)t:{switch(e){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else hl?rg(e,a)&&(dt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(dt="onCompositionStart");dt&&(sg&&a.locale!=="ko"&&(hl||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&hl&&(ut=$d()):(Ii=B,ac="value"in Ii?Ii.value:Ii.textContent,hl=!0)),Rt=jo(M,dt),0<Rt.length&&(dt=new ng(dt,e,null,a,B),P.push({event:dt,listeners:Rt}),ut?dt.data=ut:(ut=og(a),ut!==null&&(dt.data=ut)))),(ut=Hp?Zp(e,a):qp(e,a))&&(dt=jo(M,"onBeforeInput"),0<dt.length&&(Rt=new ng("onBeforeInput","beforeinput",null,a,B),P.push({event:Rt,listeners:dt}),Rt.data=ut)),Uv(P,e,M,a,B)}Gm(P,i)})}function sr(e,i,a){return{instance:e,listener:i,currentTarget:a}}function jo(e,i){for(var a=i+"Capture",u=[];e!==null;){var f=e,g=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Sa(e,a),f!=null&&u.unshift(sr(e,f,g)),f=Sa(e,i),f!=null&&u.push(sr(e,f,g))),e=e.return}return u}function zl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function km(e,i,a,u,f){for(var g=i._reactName,p=[];a!==null&&a!==u;){var E=a,R=E.alternate,M=E.stateNode;if(E=E.tag,R!==null&&R===u)break;E!==5&&E!==26&&E!==27||M===null||(R=M,f?(M=Sa(a,g),M!=null&&p.unshift(sr(a,M,R))):f||(M=Sa(a,g),M!=null&&p.push(sr(a,M,R)))),a=a.return}p.length!==0&&e.push({event:i,listeners:p})}var Fv=/\r\n?/g,Bv=/\u0000|\uFFFD/g;function Ym(e){return(typeof e=="string"?e:""+e).replace(Fv,`
`).replace(Bv,"")}function Xm(e,i){return i=Ym(i),Ym(e)===i}function Ho(){}function Bt(e,i,a,u,f,g){switch(a){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||ol(e,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&ol(e,""+u);break;case"className":Qr(e,"class",u);break;case"tabIndex":Qr(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Qr(e,a,u);break;case"style":Wd(e,u,g);break;case"data":if(i!=="object"){Qr(e,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(a);break}u=to(""+u),e.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(i!=="input"&&Bt(e,i,"name",f.name,f,null),Bt(e,i,"formEncType",f.formEncType,f,null),Bt(e,i,"formMethod",f.formMethod,f,null),Bt(e,i,"formTarget",f.formTarget,f,null)):(Bt(e,i,"encType",f.encType,f,null),Bt(e,i,"method",f.method,f,null),Bt(e,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(a);break}u=to(""+u),e.setAttribute(a,u);break;case"onClick":u!=null&&(e.onclick=Ho);break;case"onScroll":u!=null&&bt("scroll",e);break;case"onScrollEnd":u!=null&&bt("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}a=to(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,""+u):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":u===!0?e.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,u):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(a,u):e.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(a):e.setAttribute(a,u);break;case"popover":bt("beforetoggle",e),bt("toggle",e),Wr(e,"popover",u);break;case"xlinkActuate":si(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":si(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":si(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":si(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":si(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":si(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":si(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":si(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":si(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Wr(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yp.get(a)||a,Wr(e,a,u))}}function Yh(e,i,a,u,f,g){switch(a){case"style":Wd(e,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof u=="string"?ol(e,u):(typeof u=="number"||typeof u=="bigint")&&ol(e,""+u);break;case"onScroll":u!=null&&bt("scroll",e);break;case"onScrollEnd":u!=null&&bt("scrollend",e);break;case"onClick":u!=null&&(e.onclick=Ho);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fd.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),g=e[Xe]||null,g=g!=null?g[a]:null,typeof g=="function"&&e.removeEventListener(i,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,u,f);break t}a in e?e[a]=u:u===!0?e.setAttribute(a,""):Wr(e,a,u)}}}function xe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",e),bt("load",e);var u=!1,f=!1,g;for(g in a)if(a.hasOwnProperty(g)){var p=a[g];if(p!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Bt(e,i,g,p,a,null)}}f&&Bt(e,i,"srcSet",a.srcSet,a,null),u&&Bt(e,i,"src",a.src,a,null);return;case"input":bt("invalid",e);var E=g=p=f=null,R=null,M=null;for(u in a)if(a.hasOwnProperty(u)){var B=a[u];if(B!=null)switch(u){case"name":f=B;break;case"type":p=B;break;case"checked":R=B;break;case"defaultChecked":M=B;break;case"value":g=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Bt(e,i,u,B,a,null)}}qd(e,g,E,R,M,p,f,!1),Jr(e);return;case"select":bt("invalid",e),u=p=g=null;for(f in a)if(a.hasOwnProperty(f)&&(E=a[f],E!=null))switch(f){case"value":g=E;break;case"defaultValue":p=E;break;case"multiple":u=E;default:Bt(e,i,f,E,a,null)}i=g,a=p,e.multiple=!!u,i!=null?rl(e,!!u,i,!1):a!=null&&rl(e,!!u,a,!0);return;case"textarea":bt("invalid",e),g=f=u=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":u=E;break;case"defaultValue":f=E;break;case"children":g=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Bt(e,i,p,E,a,null)}Vd(e,u,f,g),Jr(e);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(u=a[R],u!=null))switch(R){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Bt(e,i,R,u,a,null)}return;case"dialog":bt("cancel",e),bt("close",e);break;case"iframe":case"object":bt("load",e);break;case"video":case"audio":for(u=0;u<ir.length;u++)bt(ir[u],e);break;case"image":bt("error",e),bt("load",e);break;case"details":bt("toggle",e);break;case"embed":case"source":case"link":bt("error",e),bt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in a)if(a.hasOwnProperty(M)&&(u=a[M],u!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Bt(e,i,M,u,a,null)}return;default:if(ec(i)){for(B in a)a.hasOwnProperty(B)&&(u=a[B],u!==void 0&&Yh(e,i,B,u,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(u=a[E],u!=null&&Bt(e,i,E,u,a,null))}function jv(e,i,a,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,p=null,E=null,R=null,M=null,B=null;for(F in a){var P=a[F];if(a.hasOwnProperty(F)&&P!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":R=P;default:u.hasOwnProperty(F)||Bt(e,i,F,null,u,P)}}for(var N in u){var F=u[N];if(P=a[N],u.hasOwnProperty(N)&&(F!=null||P!=null))switch(N){case"type":g=F;break;case"name":f=F;break;case"checked":M=F;break;case"defaultChecked":B=F;break;case"value":p=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==P&&Bt(e,i,N,F,u,P)}}$u(e,p,E,R,M,B,g,f);return;case"select":F=p=E=N=null;for(g in a)if(R=a[g],a.hasOwnProperty(g)&&R!=null)switch(g){case"value":break;case"multiple":F=R;default:u.hasOwnProperty(g)||Bt(e,i,g,null,u,R)}for(f in u)if(g=u[f],R=a[f],u.hasOwnProperty(f)&&(g!=null||R!=null))switch(f){case"value":N=g;break;case"defaultValue":E=g;break;case"multiple":p=g;default:g!==R&&Bt(e,i,f,g,u,R)}i=E,a=p,u=F,N!=null?rl(e,!!a,N,!1):!!u!=!!a&&(i!=null?rl(e,!!a,i,!0):rl(e,!!a,a?[]:"",!1));return;case"textarea":F=N=null;for(E in a)if(f=a[E],a.hasOwnProperty(E)&&f!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Bt(e,i,E,null,u,f)}for(p in u)if(f=u[p],g=a[p],u.hasOwnProperty(p)&&(f!=null||g!=null))switch(p){case"value":N=f;break;case"defaultValue":F=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&Bt(e,i,p,f,u,g)}Pd(e,N,F);return;case"option":for(var rt in a)if(N=a[rt],a.hasOwnProperty(rt)&&N!=null&&!u.hasOwnProperty(rt))switch(rt){case"selected":e.selected=!1;break;default:Bt(e,i,rt,null,u,N)}for(R in u)if(N=u[R],F=a[R],u.hasOwnProperty(R)&&N!==F&&(N!=null||F!=null))switch(R){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:Bt(e,i,R,N,u,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)N=a[yt],a.hasOwnProperty(yt)&&N!=null&&!u.hasOwnProperty(yt)&&Bt(e,i,yt,null,u,N);for(M in u)if(N=u[M],F=a[M],u.hasOwnProperty(M)&&N!==F&&(N!=null||F!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(137,i));break;default:Bt(e,i,M,N,u,F)}return;default:if(ec(i)){for(var $t in a)N=a[$t],a.hasOwnProperty($t)&&N!==void 0&&!u.hasOwnProperty($t)&&Yh(e,i,$t,void 0,u,N);for(B in u)N=u[B],F=a[B],!u.hasOwnProperty(B)||N===F||N===void 0&&F===void 0||Yh(e,i,B,N,u,F);return}}for(var L in a)N=a[L],a.hasOwnProperty(L)&&N!=null&&!u.hasOwnProperty(L)&&Bt(e,i,L,null,u,N);for(P in u)N=u[P],F=a[P],!u.hasOwnProperty(P)||N===F||N==null&&F==null||Bt(e,i,P,N,u,F)}var Xh=null,Fh=null;function Zo(e){return e.nodeType===9?e:e.ownerDocument}function Fm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bm(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Bh(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var jh=null;function Hv(){var e=window.event;return e&&e.type==="popstate"?e===jh?!1:(jh=e,!0):(jh=null,!1)}var jm=typeof setTimeout=="function"?setTimeout:void 0,Zv=typeof clearTimeout=="function"?clearTimeout:void 0,Hm=typeof Promise=="function"?Promise:void 0,qv=typeof queueMicrotask=="function"?queueMicrotask:typeof Hm<"u"?function(e){return Hm.resolve(null).then(e).catch(Pv)}:jm;function Pv(e){setTimeout(function(){throw e})}function Hh(e,i){var a=i,u=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(u===0){e.removeChild(f),fr(i);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=f}while(a);fr(i)}function Zh(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zh(a),Ju(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Vv(e,i,a,u){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[Ea])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==f.rel||e.getAttribute("href")!==(f.href==null?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function Kv(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ln(e.nextSibling),e===null))return null;return e}function Ln(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function Zm(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function qm(e,i,a){switch(i=Zo(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var pn=new Map,Pm=new Set;function qo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var vi=$.d;$.d={f:Wv,r:Qv,D:Jv,C:$v,L:tE,m:eE,X:iE,S:nE,M:sE};function Wv(){var e=vi.f(),i=ko();return e||i}function Qv(e){var i=sl(e);i!==null&&i.tag===5&&i.type==="form"?E_(i):vi.r(e)}var Nl=typeof document>"u"?null:document;function Vm(e,i,a){var u=Nl;if(u&&typeof i=="string"&&i){var f=on(i);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Pm.has(f)||(Pm.add(f),e={rel:e,crossOrigin:a,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),xe(i,"link",e),he(i),u.head.appendChild(i)))}}function Jv(e){vi.D(e),Vm("dns-prefetch",e,null)}function $v(e,i){vi.C(e,i),Vm("preconnect",e,i)}function tE(e,i,a){vi.L(e,i,a);var u=Nl;if(u&&e&&i){var f='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+on(a.imageSizes)+'"]')):f+='[href="'+on(e)+'"]';var g=f;switch(i){case"style":g=Gl(e);break;case"script":g=Ul(e)}pn.has(g)||(e=V({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),pn.set(g,e),u.querySelector(f)!==null||i==="style"&&u.querySelector(lr(g))||i==="script"&&u.querySelector(ar(g))||(i=u.createElement("link"),xe(i,"link",e),he(i),u.head.appendChild(i)))}}function eE(e,i){vi.m(e,i);var a=Nl;if(a&&e){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+on(u)+'"][href="'+on(e)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ul(e)}if(!pn.has(g)&&(e=V({rel:"modulepreload",href:e},i),pn.set(g,e),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ar(g)))return}u=a.createElement("link"),xe(u,"link",e),he(u),a.head.appendChild(u)}}}function nE(e,i,a){vi.S(e,i,a);var u=Nl;if(u&&e){var f=ll(u).hoistableStyles,g=Gl(e);i=i||"default";var p=f.get(g);if(!p){var E={loading:0,preload:null};if(p=u.querySelector(lr(g)))E.loading=5;else{e=V({rel:"stylesheet",href:e,"data-precedence":i},a),(a=pn.get(g))&&qh(e,a);var R=p=u.createElement("link");he(R),xe(R,"link",e),R._p=new Promise(function(M,B){R.onload=M,R.onerror=B}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Po(p,i,u)}p={type:"stylesheet",instance:p,count:1,state:E},f.set(g,p)}}}function iE(e,i){vi.X(e,i);var a=Nl;if(a&&e){var u=ll(a).hoistableScripts,f=Ul(e),g=u.get(f);g||(g=a.querySelector(ar(f)),g||(e=V({src:e,async:!0},i),(i=pn.get(f))&&Ph(e,i),g=a.createElement("script"),he(g),xe(g,"link",e),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function sE(e,i){vi.M(e,i);var a=Nl;if(a&&e){var u=ll(a).hoistableScripts,f=Ul(e),g=u.get(f);g||(g=a.querySelector(ar(f)),g||(e=V({src:e,async:!0,type:"module"},i),(i=pn.get(f))&&Ph(e,i),g=a.createElement("script"),he(g),xe(g,"link",e),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function Km(e,i,a,u){var f=(f=We.current)?qo(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Gl(a.href),a=ll(f).hoistableStyles,u=a.get(i),u||(u={type:"style",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Gl(a.href);var g=ll(f).hoistableStyles,p=g.get(e);if(p||(f=f.ownerDocument||f,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,p),(g=f.querySelector(lr(e)))&&!g._p&&(p.instance=g,p.state.loading=5),pn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},pn.set(e,a),g||lE(f,e,a,p.state))),i&&u===null)throw Error(s(528,""));return p}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ul(a),a=ll(f).hoistableScripts,u=a.get(i),u||(u={type:"script",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Gl(e){return'href="'+on(e)+'"'}function lr(e){return'link[rel="stylesheet"]['+e+"]"}function Wm(e){return V({},e,{"data-precedence":e.precedence,precedence:null})}function lE(e,i,a,u){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=e.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),xe(i,"link",a),he(i),e.head.appendChild(i))}function Ul(e){return'[src="'+on(e)+'"]'}function ar(e){return"script[async]"+e}function Qm(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var u=e.querySelector('style[data-href~="'+on(a.href)+'"]');if(u)return i.instance=u,he(u),u;var f=V({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),he(u),xe(u,"style",f),Po(u,a.precedence,e),i.instance=u;case"stylesheet":f=Gl(a.href);var g=e.querySelector(lr(f));if(g)return i.state.loading|=4,i.instance=g,he(g),g;u=Wm(a),(f=pn.get(f))&&qh(u,f),g=(e.ownerDocument||e).createElement("link"),he(g);var p=g;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),xe(g,"link",u),i.state.loading|=4,Po(g,a.precedence,e),i.instance=g;case"script":return g=Ul(a.src),(f=e.querySelector(ar(g)))?(i.instance=f,he(f),f):(u=a,(f=pn.get(g))&&(u=V({},a),Ph(u,f)),e=e.ownerDocument||e,f=e.createElement("script"),he(f),xe(f,"link",u),e.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Po(u,a.precedence,e));return i.instance}function Po(e,i,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,p=0;p<u.length;p++){var E=u[p];if(E.dataset.precedence===i)g=E;else if(g!==f)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function qh(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Ph(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Vo=null;function Jm(e,i,a){if(Vo===null){var u=new Map,f=Vo=new Map;f.set(a,u)}else f=Vo,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(e))return u;for(u.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var g=a[f];if(!(g[Ea]||g[we]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var p=g.getAttribute(i)||"";p=e+p;var E=u.get(p);E?E.push(g):u.set(p,[g])}}return u}function $m(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function aE(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function t0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var rr=null;function rE(){}function oE(e,i,a){if(rr===null)throw Error(s(475));var u=rr;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Gl(a.href),g=e.querySelector(lr(f));if(g){e=g._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(u.count++,u=Ko.bind(u),e.then(u,u)),i.state.loading|=4,i.instance=g,he(g);return}g=e.ownerDocument||e,a=Wm(a),(f=pn.get(f))&&qh(a,f),g=g.createElement("link"),he(g);var p=g;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),xe(g,"link",a),i.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Ko.bind(u),e.addEventListener("load",i),e.addEventListener("error",i))}}function uE(){if(rr===null)throw Error(s(475));var e=rr;return e.stylesheets&&e.count===0&&Vh(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Vh(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Ko(){if(this.count--,this.count===0){if(this.stylesheets)Vh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Wo=null;function Vh(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Wo=new Map,i.forEach(cE,e),Wo=null,Ko.call(e))}function cE(e,i){if(!(i.state.loading&4)){var a=Wo.get(e);if(a)var u=a.get(null);else{a=new Map,Wo.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var p=f[g];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),u=p)}u&&a.set(null,u)}f=i.instance,p=f.getAttribute("data-precedence"),g=a.get(p)||u,g===u&&a.set(null,f),a.set(p,f),this.count++,u=Ko.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),i.state.loading|=4}}var or={$$typeof:x,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function hE(e,i,a,u,f,g,p,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ce(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ce(0),this.hiddenUpdates=Ce(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function e0(e,i,a,u,f,g,p,E,R,M,B,P){return e=new hE(e,i,a,p,E,R,M,P),i=1,g===!0&&(i|=24),g=mn(3,null,null,i),e.current=g,g.stateNode=e,i=wc(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:u,isDehydrated:a,cache:i},ah(g),e}function n0(e){return e?(e=_l,e):_l}function i0(e,i,a,u,f,g){f=n0(f),u.context===null?u.context=f:u.pendingContext=f,u=Fi(i),u.payload={element:a},g=g===void 0?null:g,g!==null&&(u.callback=g),a=Bi(e,u,i),a!==null&&(Ge(a,e,i),Za(a,e,i))}function s0(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Kh(e,i){s0(e,i),(e=e.alternate)&&s0(e,i)}function l0(e){if(e.tag===13){var i=zi(e,67108864);i!==null&&Ge(i,e,67108864),Kh(e,67108864)}}var Qo=!0;function fE(e,i,a,u){var f=U.T;U.T=null;var g=$.p;try{$.p=2,Wh(e,i,a,u)}finally{$.p=g,U.T=f}}function dE(e,i,a,u){var f=U.T;U.T=null;var g=$.p;try{$.p=8,Wh(e,i,a,u)}finally{$.p=g,U.T=f}}function Wh(e,i,a,u){if(Qo){var f=Qh(u);if(f===null)kh(e,i,u,Jo,a),r0(e,u);else if(_E(f,e,i,a,u))u.stopPropagation();else if(r0(e,u),i&4&&-1<gE.indexOf(e)){for(;f!==null;){var g=sl(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var p=jn(g.pendingLanes);if(p!==0){var E=g;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-Re(p);E.entanglements[1]|=R,p&=~R}Vn(g),(Wt&6)===0&&(No=jt()+500,nr(0))}}break;case 13:E=zi(g,2),E!==null&&Ge(E,g,2),ko(),Kh(g,2)}if(g=Qh(u),g===null&&kh(e,i,u,Jo,a),g===f)break;f=g}f!==null&&u.stopPropagation()}else kh(e,i,u,null,a)}}function Qh(e){return e=ic(e),Jh(e)}var Jo=null;function Jh(e){if(Jo=null,e=Es(e),e!==null){var i=W(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=nt(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Jo=e,null}function a0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ma()){case _s:return 2;case ms:return 8;case nl:case Pr:return 32;case ya:return 268435456;default:return 32}default:return 32}}var $h=!1,Ki=null,Wi=null,Qi=null,ur=new Map,cr=new Map,Ji=[],gE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function r0(e,i){switch(e){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":ur.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":cr.delete(i.pointerId)}}function hr(e,i,a,u,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},i!==null&&(i=sl(i),i!==null&&l0(i)),e):(e.eventSystemFlags|=u,i=e.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),e)}function _E(e,i,a,u,f){switch(i){case"focusin":return Ki=hr(Ki,e,i,a,u,f),!0;case"dragenter":return Wi=hr(Wi,e,i,a,u,f),!0;case"mouseover":return Qi=hr(Qi,e,i,a,u,f),!0;case"pointerover":var g=f.pointerId;return ur.set(g,hr(ur.get(g)||null,e,i,a,u,f)),!0;case"gotpointercapture":return g=f.pointerId,cr.set(g,hr(cr.get(g)||null,e,i,a,u,f)),!0}return!1}function o0(e){var i=Es(e.target);if(i!==null){var a=W(i);if(a!==null){if(i=a.tag,i===13){if(i=nt(a),i!==null){e.blockedOn=i,up(e.priority,function(){if(a.tag===13){var u=sn(),f=zi(a,u);f!==null&&Ge(f,a,u),Kh(a,u)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $o(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Qh(e.nativeEvent);if(a===null){a=e.nativeEvent;var u=new a.constructor(a.type,a);nc=u,a.target.dispatchEvent(u),nc=null}else return i=sl(a),i!==null&&l0(i),e.blockedOn=a,!1;i.shift()}return!0}function u0(e,i,a){$o(e)&&a.delete(i)}function mE(){$h=!1,Ki!==null&&$o(Ki)&&(Ki=null),Wi!==null&&$o(Wi)&&(Wi=null),Qi!==null&&$o(Qi)&&(Qi=null),ur.forEach(u0),cr.forEach(u0)}function tu(e,i){e.blockedOn===i&&(e.blockedOn=null,$h||($h=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,mE)))}var eu=null;function c0(e){eu!==e&&(eu=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){eu===e&&(eu=null);for(var i=0;i<e.length;i+=3){var a=e[i],u=e[i+1],f=e[i+2];if(typeof u!="function"){if(Jh(u||a)===null)continue;break}var g=sl(a);g!==null&&(e.splice(i,3),i-=3,Bc(g,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function fr(e){function i(R){return tu(R,e)}Ki!==null&&tu(Ki,e),Wi!==null&&tu(Wi,e),Qi!==null&&tu(Qi,e),ur.forEach(i),cr.forEach(i);for(var a=0;a<Ji.length;a++){var u=Ji[a];u.blockedOn===e&&(u.blockedOn=null)}for(;0<Ji.length&&(a=Ji[0],a.blockedOn===null);)o0(a),a.blockedOn===null&&Ji.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],g=a[u+1],p=f[Xe]||null;if(typeof g=="function")p||c0(a);else if(p){var E=null;if(g&&g.hasAttribute("formAction")){if(f=g,p=g[Xe]||null)E=p.formAction;else if(Jh(f)!==null)continue}else E=p.action;typeof E=="function"?a[u+1]=E:(a.splice(u,3),u-=3),c0(a)}}}function tf(e){this._internalRoot=e}nu.prototype.render=tf.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,u=sn();i0(a,u,e,i,null,null)},nu.prototype.unmount=tf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&Ll(),i0(e.current,2,null,e,null,null),ko(),i[il]=null}};function nu(e){this._internalRoot=e}nu.prototype.unstable_scheduleHydration=function(e){if(e){var i=Kr();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Ji.length&&i!==0&&i<Ji[a].priority;a++);Ji.splice(a,0,e),a===0&&o0(e)}};var h0=t.version;if(h0!=="19.0.0")throw Error(s(527,h0,"19.0.0"));$.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=X(i),e=e!==null?k(e):null,e=e===null?null:e.stateNode,e};var yE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:U,findFiberByHostInstance:Es,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{ys=iu.inject(yE),Te=iu}catch{}}return gr.createRoot=function(e,i){if(!r(e))throw Error(s(299));var a=!1,u="",f=A_,g=M_,p=D_,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=e0(e,1,!1,null,null,a,u,f,g,p,E,null),e[il]=i.current,Uh(e.nodeType===8?e.parentNode:e),new tf(i)},gr.hydrateRoot=function(e,i,a){if(!r(e))throw Error(s(299));var u=!1,f="",g=A_,p=M_,E=D_,R=null,M=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(M=a.formState)),i=e0(e,1,!0,i,a??null,u,f,g,p,E,R,M),i.context=n0(null),a=i.current,u=sn(),f=Fi(u),f.callback=null,Bi(a,f,u),i.current.lanes=u,ze(i,u),Vn(i),e[il]=i.current,Uh(e),new nu(i)},gr.version="19.0.0",gr}var S0;function ME(){if(S0)return sf.exports;S0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),sf.exports=AE(),sf.exports}var DE=ME();const je={ADD:"add",REMOVE:"remove"},ia={PROPERTYCHANGE:"propertychange"},pt={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class Du{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function OE(l,t,n){let s,r;n=n||Ci;let o=0,c=l.length,h=!1;for(;o<c;)s=o+(c-o>>1),r=+n(l[s],t),r<0?o=s+1:(c=s,h=!r);return h?o:~o}function Ci(l,t){return l>t?1:l<t?-1:0}function LE(l,t){return l<t?1:l>t?-1:0}function td(l,t,n){if(l[0]<=t)return 0;const s=l.length;if(t<=l[s-1])return s-1;if(typeof n=="function"){for(let r=1;r<s;++r){const o=l[r];if(o===t)return r;if(o<t)return n(t,l[r-1],o)>0?r-1:r}return s-1}if(n>0){for(let r=1;r<s;++r)if(l[r]<t)return r-1;return s-1}if(n<0){for(let r=1;r<s;++r)if(l[r]<=t)return r;return s-1}for(let r=1;r<s;++r){if(l[r]==t)return r;if(l[r]<t)return l[r-1]-t<t-l[r]?r-1:r}return s-1}function IE(l,t,n){for(;t<n;){const s=l[t];l[t]=l[n],l[n]=s,++t,--n}}function ed(l,t){const n=Array.isArray(t)?t:[t],s=n.length;for(let r=0;r<s;r++)l[l.length]=n[r]}function gs(l,t){const n=l.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(l[s]!==t[s])return!1;return!0}function zE(l,t,n){const s=t||Ci;return l.every(function(r,o){if(o===0)return!0;const c=s(l[o-1],r);return!(c>0||c===0)})}function br(){return!0}function Ou(){return!1}function sa(){}function Uy(l){let t,n,s;return function(){const r=Array.prototype.slice.call(arguments);return(!n||this!==s||!gs(r,n))&&(s=this,n=r,t=l.apply(this,arguments)),t}}function NE(l){function t(){let n;try{n=l()}catch(s){return Promise.reject(s)}return n instanceof Promise?n:Promise.resolve(n)}return t()}function Xr(l){for(const t in l)delete l[t]}function la(l){let t;for(t in l)return!1;return!t}class Di{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class Lu extends Du{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,n){if(!t||!n)return;const s=this.listeners_||(this.listeners_={}),r=s[t]||(s[t]=[]);r.includes(n)||r.push(n)}dispatchEvent(t){const n=typeof t=="string",s=n?t:t.type,r=this.listeners_&&this.listeners_[s];if(!r)return;const o=n?new Di(t):t;o.target||(o.target=this.eventTarget_||this);const c=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});s in c||(c[s]=0,h[s]=0),++c[s];let d;for(let _=0,m=r.length;_<m;++_)if("handleEvent"in r[_]?d=r[_].handleEvent(o):d=r[_].call(this,o),d===!1||o.propagationStopped){d=!1;break}if(--c[s]===0){let _=h[s];for(delete h[s];_--;)this.removeEventListener(s,sa);delete c[s]}return d}disposeInternal(){this.listeners_&&Xr(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,n){if(!this.listeners_)return;const s=this.listeners_[t];if(!s)return;const r=s.indexOf(n);r!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(s[r]=sa,++this.pendingRemovals_[t]):(s.splice(r,1),s.length===0&&delete this.listeners_[t]))}}function It(l,t,n,s,r){if(r){const c=n;n=function(h){return l.removeEventListener(t,n),c.call(s??this,h)}}else s&&s!==l&&(n=n.bind(s));const o={target:l,type:t,listener:n};return l.addEventListener(t,n),o}function _u(l,t,n,s){return It(l,t,n,s,!0)}function Vt(l){l&&l.target&&(l.target.removeEventListener(l.type,l.listener),Xr(l))}class Fr extends Lu{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(pt.CHANGE)}getRevision(){return this.revision_}onInternal(t,n){if(Array.isArray(t)){const s=t.length,r=new Array(s);for(let o=0;o<s;++o)r[o]=It(this,t[o],n);return r}return It(this,t,n)}onceInternal(t,n){let s;if(Array.isArray(t)){const r=t.length;s=new Array(r);for(let o=0;o<r;++o)s[o]=_u(this,t[o],n)}else s=_u(this,t,n);return n.ol_key=s,s}unInternal(t,n){const s=n.ol_key;if(s)GE(s);else if(Array.isArray(t))for(let r=0,o=t.length;r<o;++r)this.removeEventListener(t[r],n);else this.removeEventListener(t,n)}}Fr.prototype.on;Fr.prototype.once;Fr.prototype.un;function GE(l){if(Array.isArray(l))for(let t=0,n=l.length;t<n;++t)Vt(l[t]);else Vt(l)}function Lt(){throw new Error("Unimplemented abstract method.")}let UE=0;function Gt(l){return l.ol_uid||(l.ol_uid=String(++UE))}class T0 extends Di{constructor(t,n,s){super(t),this.key=n,this.oldValue=s}}class $n extends Fr{constructor(t){super(),this.on,this.once,this.un,Gt(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let n;return this.values_&&this.values_.hasOwnProperty(t)&&(n=this.values_[t]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,n){let s;s=`change:${t}`,this.hasListener(s)&&this.dispatchEvent(new T0(s,t,n)),s=ia.PROPERTYCHANGE,this.hasListener(s)&&this.dispatchEvent(new T0(s,t,n))}addChangeListener(t,n){this.addEventListener(`change:${t}`,n)}removeChangeListener(t,n){this.removeEventListener(`change:${t}`,n)}set(t,n,s){const r=this.values_||(this.values_={});if(s)r[t]=n;else{const o=r[t];r[t]=n,o!==n&&this.notify(t,o)}}setProperties(t,n){for(const s in t)this.set(s,t[s],n)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,n){if(this.values_&&t in this.values_){const s=this.values_[t];delete this.values_[t],la(this.values_)&&(this.values_=null),n||this.notify(t,s)}}}const R0={LENGTH:"length"};class su extends Di{constructor(t,n,s){super(t),this.element=n,this.index=s}}class Qn extends $n{constructor(t,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=t||[],this.unique_)for(let s=0,r=this.array_.length;s<r;++s)this.assertUnique_(this.array_[s],s);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let n=0,s=t.length;n<s;++n)this.push(t[n]);return this}forEach(t){const n=this.array_;for(let s=0,r=n.length;s<r;++s)t(n[s],s,n)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(R0.LENGTH)}insertAt(t,n){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n),this.array_.splice(t,0,n),this.updateLength_(),this.dispatchEvent(new su(je.ADD,n,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const n=this.getLength();return this.insertAt(n,t),this.getLength()}remove(t){const n=this.array_;for(let s=0,r=n.length;s<r;++s)if(n[s]===t)return this.removeAt(s)}removeAt(t){if(t<0||t>=this.getLength())return;const n=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new su(je.REMOVE,n,t)),n}setAt(t,n){const s=this.getLength();if(t>=s){this.insertAt(t,n);return}if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n,t);const r=this.array_[t];this.array_[t]=n,this.dispatchEvent(new su(je.REMOVE,r,t)),this.dispatchEvent(new su(je.ADD,n,t))}updateLength_(){this.set(R0.LENGTH,this.array_.length)}assertUnique_(t,n){for(let s=0,r=this.array_.length;s<r;++s)if(this.array_[s]===t&&s!==n)throw new Error("Duplicate item added to a unique collection")}}function zt(l,t){if(!l)throw new Error(t)}class mu extends $n{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){const n=t;this.setGeometry(n)}else{const n=t;this.setProperties(n)}}clone(){const t=new mu(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&t.setGeometry(n.clone());const s=this.getStyle();return s&&t.setStyle(s),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Vt(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=It(t,pt.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?kE(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function kE(l){if(typeof l=="function")return l;let t;return Array.isArray(l)?t=l:(zt(typeof l.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[l]),function(){return t}}const _e={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function C0(l){const t=Rn();for(let n=0,s=l.length;n<s;++n)wr(t,l[n]);return t}function nd(l,t,n){return n?(n[0]=l[0]-t,n[1]=l[1]-t,n[2]=l[2]+t,n[3]=l[3]+t,n):[l[0]-t,l[1]-t,l[2]+t,l[3]+t]}function ky(l,t){return t?(t[0]=l[0],t[1]=l[1],t[2]=l[2],t[3]=l[3],t):l.slice()}function Yy(l,t,n){let s,r;return t<l[0]?s=l[0]-t:l[2]<t?s=t-l[2]:s=0,n<l[1]?r=l[1]-n:l[3]<n?r=n-l[3]:r=0,s*s+r*r}function aa(l,t){return Xy(l,t[0],t[1])}function vr(l,t){return l[0]<=t[0]&&t[2]<=l[2]&&l[1]<=t[1]&&t[3]<=l[3]}function Xy(l,t,n){return l[0]<=t&&t<=l[2]&&l[1]<=n&&n<=l[3]}function If(l,t){const n=l[0],s=l[1],r=l[2],o=l[3],c=t[0],h=t[1];let d=_e.UNKNOWN;return c<n?d=d|_e.LEFT:c>r&&(d=d|_e.RIGHT),h<s?d=d|_e.BELOW:h>o&&(d=d|_e.ABOVE),d===_e.UNKNOWN&&(d=_e.INTERSECTING),d}function Rn(){return[1/0,1/0,-1/0,-1/0]}function fs(l,t,n,s,r){return r?(r[0]=l,r[1]=t,r[2]=n,r[3]=s,r):[l,t,n,s]}function Iu(l){return fs(1/0,1/0,-1/0,-1/0,l)}function Fy(l,t){const n=l[0],s=l[1];return fs(n,s,n,s,t)}function id(l,t,n,s,r){const o=Iu(r);return By(o,l,t,n,s)}function Ar(l,t){return l[0]==t[0]&&l[2]==t[2]&&l[1]==t[1]&&l[3]==t[3]}function YE(l,t){return t[0]<l[0]&&(l[0]=t[0]),t[2]>l[2]&&(l[2]=t[2]),t[1]<l[1]&&(l[1]=t[1]),t[3]>l[3]&&(l[3]=t[3]),l}function wr(l,t){t[0]<l[0]&&(l[0]=t[0]),t[0]>l[2]&&(l[2]=t[0]),t[1]<l[1]&&(l[1]=t[1]),t[1]>l[3]&&(l[3]=t[1])}function By(l,t,n,s,r){for(;n<s;n+=r)XE(l,t[n],t[n+1]);return l}function XE(l,t,n){l[0]=Math.min(l[0],t),l[1]=Math.min(l[1],n),l[2]=Math.max(l[2],t),l[3]=Math.max(l[3],n)}function jy(l,t){let n;return n=t(zu(l)),n||(n=t(Nu(l)),n)||(n=t(Gu(l)),n)||(n=t(tl(l)),n)?n:!1}function zf(l){let t=0;return Uu(l)||(t=Yt(l)*ke(l)),t}function zu(l){return[l[0],l[1]]}function Nu(l){return[l[2],l[1]]}function Qs(l){return[(l[0]+l[2])/2,(l[1]+l[3])/2]}function FE(l,t){let n;if(t==="bottom-left")n=zu(l);else if(t==="bottom-right")n=Nu(l);else if(t==="top-left")n=tl(l);else if(t==="top-right")n=Gu(l);else throw new Error("Invalid corner");return n}function Nf(l,t,n,s,r){const[o,c,h,d,_,m,y,v]=Hy(l,t,n,s);return fs(Math.min(o,h,_,y),Math.min(c,d,m,v),Math.max(o,h,_,y),Math.max(c,d,m,v),r)}function Hy(l,t,n,s){const r=t*s[0]/2,o=t*s[1]/2,c=Math.cos(n),h=Math.sin(n),d=r*c,_=r*h,m=o*c,y=o*h,v=l[0],x=l[1];return[v-d+y,x-_-m,v-d-y,x-_+m,v+d-y,x+_+m,v+d+y,x+_-m,v-d+y,x-_-m]}function ke(l){return l[3]-l[1]}function Ks(l,t,n){const s=n||Rn();return qe(l,t)?(l[0]>t[0]?s[0]=l[0]:s[0]=t[0],l[1]>t[1]?s[1]=l[1]:s[1]=t[1],l[2]<t[2]?s[2]=l[2]:s[2]=t[2],l[3]<t[3]?s[3]=l[3]:s[3]=t[3]):Iu(s),s}function tl(l){return[l[0],l[3]]}function Gu(l){return[l[2],l[3]]}function Yt(l){return l[2]-l[0]}function qe(l,t){return l[0]<=t[2]&&l[2]>=t[0]&&l[1]<=t[3]&&l[3]>=t[1]}function Uu(l){return l[2]<l[0]||l[3]<l[1]}function BE(l,t){return t?(t[0]=l[0],t[1]=l[1],t[2]=l[2],t[3]=l[3],t):l}function jE(l,t,n){let s=!1;const r=If(l,t),o=If(l,n);if(r===_e.INTERSECTING||o===_e.INTERSECTING)s=!0;else{const c=l[0],h=l[1],d=l[2],_=l[3],m=t[0],y=t[1],v=n[0],x=n[1],S=(x-y)/(v-m);let w,T;o&_e.ABOVE&&!(r&_e.ABOVE)&&(w=v-(x-_)/S,s=w>=c&&w<=d),!s&&o&_e.RIGHT&&!(r&_e.RIGHT)&&(T=x-(v-d)*S,s=T>=h&&T<=_),!s&&o&_e.BELOW&&!(r&_e.BELOW)&&(w=v-(x-h)/S,s=w>=c&&w<=d),!s&&o&_e.LEFT&&!(r&_e.LEFT)&&(T=x-(v-c)*S,s=T>=h&&T<=_)}return s}function Zy(l,t){const n=t.getExtent(),s=Qs(l);if(t.canWrapX()&&(s[0]<n[0]||s[0]>=n[2])){const r=Yt(n),c=Math.floor((s[0]-n[0])/r)*r;l[0]-=c,l[2]-=c}return l}function qy(l,t,n){if(t.canWrapX()){const s=t.getExtent();if(!isFinite(l[0])||!isFinite(l[2]))return[[s[0],l[1],s[2],l[3]]];Zy(l,t);const r=Yt(s);if(Yt(l)>r&&!n)return[[s[0],l[1],s[2],l[3]]];if(l[0]<s[0])return[[l[0]+r,l[1],s[2],l[3]],[s[0],l[1],l[2],l[3]]];if(l[2]>s[2])return[[l[0],l[1],s[2],l[3]],[s[0],l[1],l[2]-r,l[3]]]}return[l]}function le(l,t,n){return Math.min(Math.max(l,t),n)}function HE(l,t,n,s,r,o){const c=r-n,h=o-s;if(c!==0||h!==0){const d=((l-n)*c+(t-s)*h)/(c*c+h*h);d>1?(n=r,s=o):d>0&&(n+=c*d,s+=h*d)}return Jl(l,t,n,s)}function Jl(l,t,n,s){const r=n-l,o=s-t;return r*r+o*o}function ZE(l){const t=l.length;for(let s=0;s<t;s++){let r=s,o=Math.abs(l[s][s]);for(let h=s+1;h<t;h++){const d=Math.abs(l[h][s]);d>o&&(o=d,r=h)}if(o===0)return null;const c=l[r];l[r]=l[s],l[s]=c;for(let h=s+1;h<t;h++){const d=-l[h][s]/l[s][s];for(let _=s;_<t+1;_++)s==_?l[h][_]=0:l[h][_]+=d*l[s][_]}}const n=new Array(t);for(let s=t-1;s>=0;s--){n[s]=l[s][t]/l[s][s];for(let r=s-1;r>=0;r--)l[r][t]-=l[r][s]*n[s]}return n}function w0(l){return l*180/Math.PI}function cs(l){return l*Math.PI/180}function $l(l,t){const n=l%t;return n*t<0?n+t:n}function En(l,t,n){return l+n*(t-l)}function sd(l,t){const n=Math.pow(10,t);return Math.round(l*n)/n}function lu(l,t){return Math.floor(sd(l,t))}function au(l,t){return Math.ceil(sd(l,t))}function Gf(l,t,n){if(l>=t&&l<n)return l;const s=n-t;return((l-t)%s+s)%s+t}const qE=63710088e-1;function b0(l,t,n){n=n||qE;const s=cs(l[1]),r=cs(t[1]),o=(r-s)/2,c=cs(t[0]-l[0])/2,h=Math.sin(o)*Math.sin(o)+Math.sin(c)*Math.sin(c)*Math.cos(s)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}function Py(...l){console.warn(...l)}function PE(l,t){return l[0]+=+t[0],l[1]+=+t[1],l}function yu(l,t){let n=!0;for(let s=l.length-1;s>=0;--s)if(l[s]!=t[s]){n=!1;break}return n}function ld(l,t){const n=Math.cos(t),s=Math.sin(t),r=l[0]*n-l[1]*s,o=l[1]*n+l[0]*s;return l[0]=r,l[1]=o,l}function VE(l,t){return l[0]*=t,l[1]*=t,l}function Vy(l,t){if(t.canWrapX()){const n=Yt(t.getExtent()),s=KE(l,t,n);s&&(l[0]-=s*n)}return l}function KE(l,t,n){const s=t.getExtent();let r=0;return t.canWrapX()&&(l[0]<s[0]||l[0]>s[2])&&(n=n||Yt(s),r=Math.floor((l[0]-s[0])/n)),r}const ad={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class rd{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||ad[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Br=6378137,Kl=Math.PI*Br,WE=[-Kl,-Kl,Kl,Kl],QE=[-180,-85,180,85],ru=Br*Math.log(Math.tan(Math.PI/2));class kl extends rd{constructor(t){super({code:t,units:"m",extent:WE,global:!0,worldExtent:QE,getPointResolution:function(n,s){return n/Math.cosh(s[1]/Br)}})}}const A0=[new kl("EPSG:3857"),new kl("EPSG:102100"),new kl("EPSG:102113"),new kl("EPSG:900913"),new kl("http://www.opengis.net/def/crs/EPSG/0/3857"),new kl("http://www.opengis.net/gml/srs/epsg.xml#3857")];function JE(l,t,n,s){const r=l.length;n=n>1?n:2,s=s??n,t===void 0&&(n>2?t=l.slice():t=new Array(r));for(let o=0;o<r;o+=s){t[o]=Kl*l[o]/180;let c=Br*Math.log(Math.tan(Math.PI*(+l[o+1]+90)/360));c>ru?c=ru:c<-ru&&(c=-ru),t[o+1]=c}return t}function $E(l,t,n,s){const r=l.length;n=n>1?n:2,s=s??n,t===void 0&&(n>2?t=l.slice():t=new Array(r));for(let o=0;o<r;o+=s)t[o]=180*l[o]/Kl,t[o+1]=360*Math.atan(Math.exp(l[o+1]/Br))/Math.PI-90;return t}const tx=6378137,M0=[-180,-90,180,90],ex=Math.PI*tx/180;class Fs extends rd{constructor(t,n){super({code:t,units:"degrees",extent:M0,axisOrientation:n,global:!0,metersPerUnit:ex,worldExtent:M0})}}const D0=[new Fs("CRS:84"),new Fs("EPSG:4326","neu"),new Fs("urn:ogc:def:crs:OGC:1.3:CRS84"),new Fs("urn:ogc:def:crs:OGC:2:84"),new Fs("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Fs("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Fs("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Uf={};function nx(l){return Uf[l]||Uf[l.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function ix(l,t){Uf[l]=t}let ta={};function Mr(l,t,n){const s=l.getCode(),r=t.getCode();s in ta||(ta[s]={}),ta[s][r]=n}function of(l,t){return l in ta&&t in ta[l]?ta[l][t]:null}const pu=.9996,Tn=.00669438,ku=Tn*Tn,Yu=ku*Tn,Hs=Tn/(1-Tn),O0=Math.sqrt(1-Tn),ra=(1-O0)/(1+O0),Ky=ra*ra,od=Ky*ra,ud=od*ra,Wy=ud*ra,Qy=1-Tn/4-3*ku/64-5*Yu/256,sx=3*Tn/8+3*ku/32+45*Yu/1024,lx=15*ku/256+45*Yu/1024,ax=35*Yu/3072,rx=3/2*ra-27/32*od+269/512*Wy,ox=21/16*Ky-55/32*ud,ux=151/96*od-417/128*Wy,cx=1097/512*ud,vu=6378137;function hx(l,t,n){const s=l-5e5,c=(n.north?t:t-1e7)/pu/(vu*Qy),h=c+rx*Math.sin(2*c)+ox*Math.sin(4*c)+ux*Math.sin(6*c)+cx*Math.sin(8*c),d=Math.sin(h),_=d*d,m=Math.cos(h),y=d/m,v=y*y,x=v*v,S=1-Tn*_,w=Math.sqrt(1-Tn*_),T=vu/w,b=(1-Tn)/S,D=Hs*m**2,G=D*D,I=s/(T*pu),O=I*I,q=O*I,K=q*I,Z=K*I,U=Z*I,V=h-y/b*(O/2-K/24*(5+3*v+10*D-4*G-9*Hs))+U/720*(61+90*v+298*D+45*x-252*Hs-3*G);let st=(I-q/6*(1+2*v+D)+Z/120*(5-2*D+28*v-3*G+8*Hs+24*x))/m;return st=Gf(st+cs(Jy(n.number)),-Math.PI,Math.PI),[w0(st),w0(V)]}const L0=-80,I0=84,fx=-180,dx=180;function gx(l,t,n){l=Gf(l,fx,dx),t<L0?t=L0:t>I0&&(t=I0);const s=cs(t),r=Math.sin(s),o=Math.cos(s),c=r/o,h=c*c,d=h*h,_=cs(l),m=Jy(n.number),y=cs(m),v=vu/Math.sqrt(1-Tn*r**2),x=Hs*o**2,S=o*Gf(_-y,-Math.PI,Math.PI),w=S*S,T=w*S,b=T*S,D=b*S,G=D*S,I=vu*(Qy*s-sx*Math.sin(2*s)+lx*Math.sin(4*s)-ax*Math.sin(6*s)),O=pu*v*(S+T/6*(1-h+x)+D/120*(5-18*h+d+72*x-58*Hs))+5e5;let q=pu*(I+v*c*(w/2+b/24*(5-h+9*x+4*x**2)+G/720*(61-58*h+d+600*x-330*Hs)));return n.north||(q+=1e7),[O,q]}function Jy(l){return(l-1)*6-180+3}const _x=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function $y(l){let t=0;for(const r of _x){const o=l.match(r);if(o){t=parseInt(o[1]);break}}if(!t)return null;let n=0,s=!1;return t>32700&&t<32761?n=t-32700:t>32600&&t<32661&&(s=!0,n=t-32600),n?{number:n,north:s}:null}function z0(l,t){return function(n,s,r,o){const c=n.length;r=r>1?r:2,o=o??r,s||(r>2?s=n.slice():s=new Array(c));for(let h=0;h<c;h+=o){const d=n[h],_=n[h+1],m=l(d,_,t);s[h]=m[0],s[h+1]=m[1]}return s}}function mx(l){return $y(l)?new rd({code:l,units:"m"}):null}function yx(l){const t=$y(l.getCode());return t?{forward:z0(gx,t),inverse:z0(hx,t)}:null}const px=[yx],vx=[mx];let kf=!0;function t1(l){kf=!1}function cd(l,t){if(t!==void 0){for(let n=0,s=l.length;n<s;++n)t[n]=l[n];t=t}else t=l.slice();return t}function Yf(l){ix(l.getCode(),l),Mr(l,l,cd)}function Ex(l){l.forEach(Yf)}function Ke(l){if(typeof l!="string")return l;const t=nx(l);if(t)return t;for(const n of vx){const s=n(l);if(s)return s}return null}function N0(l,t,n,s){l=Ke(l);let r;const o=l.getPointResolutionFunc();if(o)r=o(t,n);else{const c=l.getUnits();if(c=="degrees"||s=="degrees")r=t;else{const h=fd(l,Ke("EPSG:4326"));if(!h&&c!=="degrees")r=t*l.getMetersPerUnit();else{let _=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];_=h(_,_,2);const m=b0(_.slice(0,2),_.slice(2,4)),y=b0(_.slice(4,6),_.slice(6,8));r=(m+y)/2}const d=l.getMetersPerUnit();d!==void 0&&(r/=d)}}return r}function G0(l){Ex(l),l.forEach(function(t){l.forEach(function(n){t!==n&&Mr(t,n,cd)})})}function xx(l,t,n,s){l.forEach(function(r){t.forEach(function(o){Mr(r,o,n),Mr(o,r,s)})})}function hd(l,t){return l?typeof l=="string"?Ke(l):l:Ke(t)}function Sx(l){return function(t,n,s,r){const o=t.length;s=s!==void 0?s:2,r=r??s,n=n!==void 0?n:new Array(o);for(let c=0;c<o;c+=r){const h=l(t.slice(c,c+s)),d=h.length;for(let _=0,m=r;_<m;++_)n[c+_]=_>=d?t[c+_]:h[_]}return n}}function uf(l,t){return t1(),dd(l,"EPSG:4326","EPSG:3857")}function cf(l,t){if(l===t)return!0;const n=l.getUnits()===t.getUnits();return(l.getCode()===t.getCode()||fd(l,t)===cd)&&n}function fd(l,t){const n=l.getCode(),s=t.getCode();let r=of(n,s);if(r)return r;let o=null,c=null;for(const d of px)o||(o=d(l)),c||(c=d(t));if(!o&&!c)return null;const h="EPSG:4326";if(c)if(o)r=hf(o.inverse,c.forward);else{const d=of(n,h);d&&(r=hf(d,c.forward))}else{const d=of(h,s);d&&(r=hf(o.inverse,d))}return r&&(Yf(l),Yf(t),Mr(l,t,r)),r}function hf(l,t){return function(n,s,r,o){return s=l(n,s,r,o),t(s,s,r,o)}}function Eu(l,t){const n=Ke(l),s=Ke(t);return fd(n,s)}function dd(l,t,n){const s=Eu(t,n);if(!s){const r=Ke(t).getCode(),o=Ke(n).getCode();throw new Error(`No transform available between ${r} and ${o}`)}return s(l,void 0,l.length)}function Xf(l,t){return l}function Si(l,t){return kf&&!yu(l,[0,0])&&l[0]>=-180&&l[0]<=180&&l[1]>=-90&&l[1]<=90&&(kf=!1,Py("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),l}function e1(l,t){return l}function os(l,t){return l}function Tx(){G0(A0),G0(D0),xx(D0,A0,JE,$E)}Tx();new Array(6);function Gn(){return[1,0,0,1,0,0]}function Rx(l,t){return l[0]=t[0],l[1]=t[1],l[2]=t[2],l[3]=t[3],l[4]=t[4],l[5]=t[5],l}function me(l,t){const n=t[0],s=t[1];return t[0]=l[0]*n+l[2]*s+l[4],t[1]=l[1]*n+l[3]*s+l[5],t}function Mi(l,t,n,s,r,o,c,h){const d=Math.sin(o),_=Math.cos(o);return l[0]=s*_,l[1]=r*d,l[2]=-s*d,l[3]=r*_,l[4]=c*s*_-h*s*d+t,l[5]=c*r*d+h*r*_+n,l}function n1(l,t){const n=Cx(t);zt(n!==0,"Transformation matrix cannot be inverted");const s=t[0],r=t[1],o=t[2],c=t[3],h=t[4],d=t[5];return l[0]=c/n,l[1]=-r/n,l[2]=-o/n,l[3]=s/n,l[4]=(o*d-c*h)/n,l[5]=-(s*d-r*h)/n,l}function Cx(l){return l[0]*l[3]-l[1]*l[2]}const U0=[1e6,1e6,1e6,1e6,2,2];function wx(l){return"matrix("+l.map((n,s)=>Math.round(n*U0[s])/U0[s]).join(", ")+")"}function hs(l,t,n,s,r,o,c){o=o||[],c=c||2;let h=0;for(let d=t;d<n;d+=s){const _=l[d],m=l[d+1];o[h++]=r[0]*_+r[2]*m+r[4],o[h++]=r[1]*_+r[3]*m+r[5];for(let y=2;y<c;y++)o[h++]=l[d+y]}return o&&o.length!=h&&(o.length=h),o}function i1(l,t,n,s,r,o,c){c=c||[];const h=Math.cos(r),d=Math.sin(r),_=o[0],m=o[1];let y=0;for(let v=t;v<n;v+=s){const x=l[v]-_,S=l[v+1]-m;c[y++]=_+x*h-S*d,c[y++]=m+x*d+S*h;for(let w=v+2;w<v+s;++w)c[y++]=l[w]}return c&&c.length!=y&&(c.length=y),c}function bx(l,t,n,s,r,o,c,h){h=h||[];const d=c[0],_=c[1];let m=0;for(let y=t;y<n;y+=s){const v=l[y]-d,x=l[y+1]-_;h[m++]=d+r*v,h[m++]=_+o*x;for(let S=y+2;S<y+s;++S)h[m++]=l[S]}return h&&h.length!=m&&(h.length=m),h}function Ax(l,t,n,s,r,o,c){c=c||[];let h=0;for(let d=t;d<n;d+=s){c[h++]=l[d]+r,c[h++]=l[d+1]+o;for(let _=d+2;_<d+s;++_)c[h++]=l[_]}return c&&c.length!=h&&(c.length=h),c}const k0=Gn(),Mx=[NaN,NaN];class Dx extends $n{constructor(){super(),this.extent_=Rn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Uy((t,n,s)=>{if(!s)return this.getSimplifiedGeometry(n);const r=this.clone();return r.applyTransform(s),r.getSimplifiedGeometry(n)})}simplifyTransformed(t,n){return this.simplifyTransformedInternal(this.getRevision(),t,n)}clone(){return Lt()}closestPointXY(t,n,s,r){return Lt()}containsXY(t,n){return this.closestPointXY(t,n,Mx,Number.MIN_VALUE)===0}getClosestPoint(t,n){return n=n||[NaN,NaN],this.closestPointXY(t[0],t[1],n,1/0),n}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return Lt()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&Iu(n),this.extentRevision_=this.getRevision()}return BE(this.extent_,t)}rotate(t,n){Lt()}scale(t,n,s){Lt()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return Lt()}getType(){return Lt()}applyTransform(t){Lt()}intersectsExtent(t){return Lt()}translate(t,n){Lt()}transform(t,n){const s=Ke(t),r=s.getUnits()=="tile-pixels"?function(o,c,h){const d=s.getExtent(),_=s.getWorldExtent(),m=ke(_)/ke(d);Mi(k0,_[0],_[3],m,-m,0,0,0);const y=hs(o,0,o.length,h,k0,c),v=Eu(s,n);return v?v(y,y,h):y}:Eu(s,n);return this.applyTransform(r),this}}class gd extends Dx{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return id(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return Lt()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,n){this.stride=Y0(t),this.layout=t,this.flatCoordinates=n}setCoordinates(t,n){Lt()}setLayout(t,n,s){let r;if(t)r=Y0(t);else{for(let o=0;o<s;++o){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}r=n.length,t=Ox(r)}this.layout=t,this.stride=r}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(t,n){const s=this.getFlatCoordinates();if(s){const r=this.getStride();i1(s,0,s.length,r,t,n,s),this.changed()}}scale(t,n,s){n===void 0&&(n=t),s||(s=Qs(this.getExtent()));const r=this.getFlatCoordinates();if(r){const o=this.getStride();bx(r,0,r.length,o,t,n,s,r),this.changed()}}translate(t,n){const s=this.getFlatCoordinates();if(s){const r=this.getStride();Ax(s,0,s.length,r,t,n,s),this.changed()}}}function Ox(l){let t;return l==2?t="XY":l==3?t="XYZ":l==4&&(t="XYZM"),t}function Y0(l){let t;return l=="XY"?t=2:l=="XYZ"||l=="XYM"?t=3:l=="XYZM"&&(t=4),t}function Lx(l,t,n){const s=l.getFlatCoordinates();if(!s)return null;const r=l.getStride();return hs(s,0,s.length,r,t,n)}function s1(l,t,n,s){let r=0;const o=l[n-s],c=l[n-s+1];let h=0,d=0;for(;t<n;t+=s){const _=l[t]-o,m=l[t+1]-c;r+=d*_-h*m,h=_,d=m}return r/2}function Ix(l,t,n,s){let r=0;for(let o=0,c=n.length;o<c;++o){const h=n[o];r+=s1(l,t,h,s),t=h}return r}function X0(l,t,n,s,r,o,c){const h=l[t],d=l[t+1],_=l[n]-h,m=l[n+1]-d;let y;if(_===0&&m===0)y=t;else{const v=((r-h)*_+(o-d)*m)/(_*_+m*m);if(v>1)y=n;else if(v>0){for(let x=0;x<s;++x)c[x]=En(l[t+x],l[n+x],v);c.length=s;return}else y=t}for(let v=0;v<s;++v)c[v]=l[y+v];c.length=s}function l1(l,t,n,s,r){let o=l[t],c=l[t+1];for(t+=s;t<n;t+=s){const h=l[t],d=l[t+1],_=Jl(o,c,h,d);_>r&&(r=_),o=h,c=d}return r}function zx(l,t,n,s,r){for(let o=0,c=n.length;o<c;++o){const h=n[o];r=l1(l,t,h,s,r),t=h}return r}function a1(l,t,n,s,r,o,c,h,d,_,m){if(t==n)return _;let y,v;if(r===0){if(v=Jl(c,h,l[t],l[t+1]),v<_){for(y=0;y<s;++y)d[y]=l[t+y];return d.length=s,v}return _}m=m||[NaN,NaN];let x=t+s;for(;x<n;)if(X0(l,x-s,x,s,c,h,m),v=Jl(c,h,m[0],m[1]),v<_){for(_=v,y=0;y<s;++y)d[y]=m[y];d.length=s,x+=s}else x+=s*Math.max((Math.sqrt(v)-Math.sqrt(_))/r|0,1);if(X0(l,n-s,t,s,c,h,m),v=Jl(c,h,m[0],m[1]),v<_){for(_=v,y=0;y<s;++y)d[y]=m[y];d.length=s}return _}function Nx(l,t,n,s,r,o,c,h,d,_,m){m=m||[NaN,NaN];for(let y=0,v=n.length;y<v;++y){const x=n[y];_=a1(l,t,x,s,r,o,c,h,d,_,m),t=x}return _}function Gx(l,t,n,s){for(let r=0,o=n.length;r<o;++r)l[t++]=n[r];return t}function r1(l,t,n,s){for(let r=0,o=n.length;r<o;++r){const c=n[r];for(let h=0;h<s;++h)l[t++]=c[h]}return t}function Ux(l,t,n,s,r){r=r||[];let o=0;for(let c=0,h=n.length;c<h;++c){const d=r1(l,t,n[c],s);r[o++]=d,t=d}return r.length=o,r}function Wl(l,t,n,s,r){r=r!==void 0?r:[];let o=0;for(let c=t;c<n;c+=s)r[o++]=l.slice(c,c+s);return r.length=o,r}function xu(l,t,n,s,r){r=r!==void 0?r:[];let o=0;for(let c=0,h=n.length;c<h;++c){const d=n[c];r[o++]=Wl(l,t,d,s,r[o]),t=d}return r.length=o,r}function F0(l,t,n,s,r){r=r!==void 0?r:[];let o=0;for(let c=0,h=n.length;c<h;++c){const d=n[c];r[o++]=d.length===1&&d[0]===t?[]:xu(l,t,d,s,r[o]),t=d[d.length-1]}return r.length=o,r}function _d(l,t,n,s,r,o,c){const h=(n-t)/s;if(h<3){for(;t<n;t+=s)o[c++]=l[t],o[c++]=l[t+1];return c}const d=new Array(h);d[0]=1,d[h-1]=1;const _=[t,n-s];let m=0;for(;_.length>0;){const y=_.pop(),v=_.pop();let x=0;const S=l[v],w=l[v+1],T=l[y],b=l[y+1];for(let D=v+s;D<y;D+=s){const G=l[D],I=l[D+1],O=HE(G,I,S,w,T,b);O>x&&(m=D,x=O)}x>r&&(d[(m-t)/s]=1,v+s<m&&_.push(v,m),m+s<y&&_.push(m,y))}for(let y=0;y<h;++y)d[y]&&(o[c++]=l[t+y*s],o[c++]=l[t+y*s+1]);return c}function kx(l,t,n,s,r,o,c,h){for(let d=0,_=n.length;d<_;++d){const m=n[d];c=_d(l,t,m,s,r,o,c),h.push(c),t=m}return c}function js(l,t){return t*Math.round(l/t)}function Yx(l,t,n,s,r,o,c){if(t==n)return c;let h=js(l[t],r),d=js(l[t+1],r);t+=s,o[c++]=h,o[c++]=d;let _,m;do if(_=js(l[t],r),m=js(l[t+1],r),t+=s,t==n)return o[c++]=_,o[c++]=m,c;while(_==h&&m==d);for(;t<n;){const y=js(l[t],r),v=js(l[t+1],r);if(t+=s,y==_&&v==m)continue;const x=_-h,S=m-d,w=y-h,T=v-d;if(x*T==S*w&&(x<0&&w<x||x==w||x>0&&w>x)&&(S<0&&T<S||S==T||S>0&&T>S)){_=y,m=v;continue}o[c++]=_,o[c++]=m,h=_,d=m,_=y,m=v}return o[c++]=_,o[c++]=m,c}function o1(l,t,n,s,r,o,c,h){for(let d=0,_=n.length;d<_;++d){const m=n[d];c=Yx(l,t,m,s,r,o,c),h.push(c),t=m}return c}class Dr extends gd{constructor(t,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}clone(){return new Dr(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,n,s,r){return r<Yy(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(l1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),a1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,n,s,r))}getArea(){return s1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Wl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const n=[];return n.length=_d(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new Dr(n,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=r1(this.flatCoordinates,0,t,this.stride),this.changed()}}class Or extends gd{constructor(t,n){super(),this.setCoordinates(t,n)}clone(){const t=new Or(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,s,r){const o=this.flatCoordinates,c=Jl(t,n,o[0],o[1]);if(c<r){const h=this.stride;for(let d=0;d<h;++d)s[d]=o[d];return s.length=h,c}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return Fy(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return Xy(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Gx(this.flatCoordinates,0,t,this.stride),this.changed()}}function Xx(l,t,n,s,r){return!jy(r,function(c){return!Zs(l,t,n,s,c[0],c[1])})}function Zs(l,t,n,s,r,o){let c=0,h=l[n-s],d=l[n-s+1];for(;t<n;t+=s){const _=l[t],m=l[t+1];d<=o?m>o&&(_-h)*(o-d)-(r-h)*(m-d)>0&&c++:m<=o&&(_-h)*(o-d)-(r-h)*(m-d)<0&&c--,h=_,d=m}return c!==0}function u1(l,t,n,s,r,o){if(n.length===0||!Zs(l,t,n[0],s,r,o))return!1;for(let c=1,h=n.length;c<h;++c)if(Zs(l,n[c-1],n[c],s,r,o))return!1;return!0}function md(l,t,n,s,r,o,c){let h,d,_,m,y,v,x;const S=r[o+1],w=[];for(let D=0,G=n.length;D<G;++D){const I=n[D];for(m=l[I-s],v=l[I-s+1],h=t;h<I;h+=s)y=l[h],x=l[h+1],(S<=v&&x<=S||v<=S&&S<=x)&&(_=(S-v)/(x-v)*(y-m)+m,w.push(_)),m=y,v=x}let T=NaN,b=-1/0;for(w.sort(Ci),m=w[0],h=1,d=w.length;h<d;++h){y=w[h];const D=Math.abs(y-m);D>b&&(_=(m+y)/2,u1(l,t,n,s,_,S)&&(T=_,b=D)),m=y}return isNaN(T)&&(T=r[o]),c?(c.push(T,S,b),c):[T,S,b]}function Fx(l,t,n,s,r){let o=[];for(let c=0,h=n.length;c<h;++c){const d=n[c];o=md(l,t,d,s,r,2*c,o),t=d[d.length-1]}return o}function Bx(l,t,n,s,r){let o;for(t+=s;t<n;t+=s)if(o=r(l.slice(t-s,t),l.slice(t,t+s)),o)return o;return!1}function c1(l,t,n,s,r,o){return o=o??By(Rn(),l,t,n,s),qe(r,o)?o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]?!0:Bx(l,t,n,s,function(c,h){return jE(r,c,h)}):!1}function h1(l,t,n,s,r){return!!(c1(l,t,n,s,r)||Zs(l,t,n,s,r[0],r[1])||Zs(l,t,n,s,r[0],r[3])||Zs(l,t,n,s,r[2],r[1])||Zs(l,t,n,s,r[2],r[3]))}function jx(l,t,n,s,r){if(!h1(l,t,n[0],s,r))return!1;if(n.length===1)return!0;for(let o=1,c=n.length;o<c;++o)if(Xx(l,n[o-1],n[o],s,r)&&!c1(l,n[o-1],n[o],s,r))return!1;return!0}function Hx(l,t,n,s){for(;t<n-s;){for(let r=0;r<s;++r){const o=l[t+r];l[t+r]=l[n-s+r],l[n-s+r]=o}t+=s,n-=s}}function yd(l,t,n,s){let r=0,o=l[n-s],c=l[n-s+1];for(;t<n;t+=s){const h=l[t],d=l[t+1];r+=(h-o)*(d+c),o=h,c=d}return r===0?void 0:r>0}function Zx(l,t,n,s,r){r=r!==void 0?r:!1;for(let o=0,c=n.length;o<c;++o){const h=n[o],d=yd(l,t,h,s);if(o===0){if(r&&d||!r&&!d)return!1}else if(r&&!d||!r&&d)return!1;t=h}return!0}function B0(l,t,n,s,r){r=r!==void 0?r:!1;for(let o=0,c=n.length;o<c;++o){const h=n[o],d=yd(l,t,h,s);(o===0?r&&d||!r&&!d:r&&!d||!r&&d)&&Hx(l,t,h,s),t=h}return t}function qx(l,t){const n=[];let s=0,r=0,o;for(let c=0,h=t.length;c<h;++c){const d=t[c],_=yd(l,s,d,2);if(o===void 0&&(o=_),_===o)n.push(t.slice(r,c+1));else{if(n.length===0)continue;n[n.length-1].push(t[r])}r=c+1,s=d}return n}class Lr extends gd{constructor(t,n,s){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&s?(this.setFlatCoordinates(n,t),this.ends_=s):this.setCoordinates(t,n)}appendLinearRing(t){this.flatCoordinates?ed(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new Lr(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,s,r){return r<Yy(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(zx(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Nx(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,n,s,r))}containsXY(t,n){return u1(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,n)}getArea(){return Ix(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),B0(n,0,this.ends_,this.stride,t)):n=this.flatCoordinates,xu(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=Qs(this.getExtent());this.flatInteriorPoint_=md(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Or(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new Dr(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,n=this.flatCoordinates,s=this.ends_,r=[];let o=0;for(let c=0,h=s.length;c<h;++c){const d=s[c],_=new Dr(n.slice(o,d),t);r.push(_),o=d}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;Zx(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=B0(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const n=[],s=[];return n.length=o1(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,s),new Lr(n,"XY",s)}getType(){return"Polygon"}intersectsExtent(t){return jx(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const s=Ux(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=s.length===0?0:s[s.length-1],this.changed()}}function j0(l){if(Uu(l))throw new Error("Cannot create polygon from empty extent");const t=l[0],n=l[1],s=l[2],r=l[3],o=[t,n,t,r,s,r,s,n,t,n];return new Lr(o,"XY",[o.length])}function H0(l,t,n,s,r,o,c){let h,d;const _=(n-t)/s;if(_===1)h=t;else if(_===2)h=t,d=r;else if(_!==0){let m=l[t],y=l[t+1],v=0;const x=[0];for(let T=t+s;T<n;T+=s){const b=l[T],D=l[T+1];v+=Math.sqrt((b-m)*(b-m)+(D-y)*(D-y)),x.push(v),m=b,y=D}const S=r*v,w=OE(x,S);w<0?(d=(S-x[-w-2])/(x[-w-1]-x[-w-2]),h=t+(-w-2)*s):h=t+w*s}c=c>1?c:2,o=o||new Array(c);for(let m=0;m<c;++m)o[m]=h===void 0?NaN:d===void 0?l[h+m]:En(l[h+m],l[h+s+m],d);return o}function Px(l,t,n,s){let r=l[t],o=l[t+1],c=0;for(let h=t+s;h<n;h+=s){const d=l[h],_=l[h+1];c+=Math.sqrt((d-r)*(d-r)+(_-o)*(_-o)),r=d,o=_}return c}const xn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},ds=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",Vx=ds.includes("firefox"),Kx=ds.includes("safari")&&!ds.includes("chrom");Kx&&(ds.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(ds));const Wx=ds.includes("webkit")&&!ds.includes("edge"),f1=ds.includes("macintosh"),d1=typeof devicePixelRatio<"u"?devicePixelRatio:1,g1=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,_1=typeof Image<"u"&&Image.prototype.decode,m1=function(){let l=!1;try{const t=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return l}(),St={IDLE:0,LOADING:1,LOADED:2,ERROR:3},Z0={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var q0={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function Qx(l){var m,y;var t,n=[],s=1,r;if(typeof l=="number")return{space:"rgb",values:[l>>>16,(l&65280)>>>8,l&255],alpha:1};if(typeof l=="number")return{space:"rgb",values:[l>>>16,(l&65280)>>>8,l&255],alpha:1};if(l=String(l).toLowerCase(),Z0[l])n=Z0[l].slice(),r="rgb";else if(l==="transparent")s=0,r="rgb",n=[0,0,0];else if(l[0]==="#"){var o=l.slice(1),c=o.length,h=c<=4;s=1,h?(n=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],c===4&&(s=parseInt(o[3]+o[3],16)/255)):(n=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],c===8&&(s=parseInt(o[6]+o[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),r="rgb"}else if(t=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(l)){var d=t[1];r=d.replace(/a$/,"");var _=r==="cmyk"?4:r==="gray"?1:3;n=t[2].trim().split(/\s*[,\/]\s*|\s+/),r==="color"&&(r=n.shift()),n=n.map(function(v,x){if(v[v.length-1]==="%")return v=parseFloat(v)/100,x===3?v:r==="rgb"?v*255:r[0]==="h"||r[0]==="l"&&!x?v*100:r==="lab"?v*125:r==="lch"?x<2?v*150:v*360:r[0]==="o"&&!x?v:r==="oklab"?v*.4:r==="oklch"?x<2?v*.4:v*360:v;if(r[x]==="h"||x===2&&r[r.length-1]==="h"){if(q0[v]!==void 0)return q0[v];if(v.endsWith("deg"))return parseFloat(v);if(v.endsWith("turn"))return parseFloat(v)*360;if(v.endsWith("grad"))return parseFloat(v)*360/400;if(v.endsWith("rad"))return parseFloat(v)*180/Math.PI}return v==="none"?0:parseFloat(v)}),s=n.length>_?n.pop():1}else/[0-9](?:\s|\/|,)/.test(l)&&(n=l.match(/([0-9]+)/g).map(function(v){return parseFloat(v)}),r=((y=(m=l.match(/([a-z])/ig))==null?void 0:m.join(""))==null?void 0:y.toLowerCase())||"rgb");return{space:r,values:n,alpha:s}}const Ir={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var ff={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(l){var t=l[0]/360,n=l[1]/100,s=l[2]/100,r,o,c,h,d,_=0;if(n===0)return d=s*255,[d,d,d];for(o=s<.5?s*(1+n):s+n-s*n,r=2*s-o,h=[0,0,0];_<3;)c=t+1/3*-(_-1),c<0?c++:c>1&&c--,d=6*c<1?r+(o-r)*6*c:2*c<1?o:3*c<2?r+(o-r)*(2/3-c)*6:r,h[_++]=d*255;return h}};Ir.hsl=function(l){var t=l[0]/255,n=l[1]/255,s=l[2]/255,r=Math.min(t,n,s),o=Math.max(t,n,s),c=o-r,h,d,_;return o===r?h=0:t===o?h=(n-s)/c:n===o?h=2+(s-t)/c:s===o&&(h=4+(t-n)/c),h=Math.min(h*60,360),h<0&&(h+=360),_=(r+o)/2,o===r?d=0:_<=.5?d=c/(o+r):d=c/(2-o-r),[h,d*100,_*100]};function Jx(l){Array.isArray(l)&&l.raw&&(l=String.raw(...arguments)),l instanceof Number&&(l=+l);var t,n=Qx(l);if(!n.space)return[];const s=n.space[0]==="h"?ff.min:Ir.min,r=n.space[0]==="h"?ff.max:Ir.max;return t=Array(3),t[0]=Math.min(Math.max(n.values[0],s[0]),r[0]),t[1]=Math.min(Math.max(n.values[1],s[1]),r[1]),t[2]=Math.min(Math.max(n.values[2],s[2]),r[2]),n.space[0]==="h"&&(t=ff.rgb(t)),t.push(Math.min(Math.max(n.alpha,0),1)),t}const Oe={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};Oe.max=Oe.whitepoint[2].D65;Oe.rgb=function(l,t){t=t||Oe.whitepoint[2].E;var n=l[0]/t[0],s=l[1]/t[1],r=l[2]/t[2],o,c,h;return o=n*3.240969941904521+s*-1.537383177570093+r*-.498610760293,c=n*-.96924363628087+s*1.87596750150772+r*.041555057407175,h=n*.055630079696993+s*-.20397695888897+r*1.056971514242878,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,c=c>.0031308?1.055*Math.pow(c,1/2.4)-.055:c=c*12.92,h=h>.0031308?1.055*Math.pow(h,1/2.4)-.055:h=h*12.92,o=Math.min(Math.max(0,o),1),c=Math.min(Math.max(0,c),1),h=Math.min(Math.max(0,h),1),[o*255,c*255,h*255]};Ir.xyz=function(l,t){var n=l[0]/255,s=l[1]/255,r=l[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,s=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var o=n*.41239079926595+s*.35758433938387+r*.18048078840183,c=n*.21263900587151+s*.71516867876775+r*.072192315360733,h=n*.019330818715591+s*.11919477979462+r*.95053215224966;return t=t||Oe.whitepoint[2].E,[o*t[0],c*t[1],h*t[2]]};var pd={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(l,t,n){var s,r,o,c,h,d,_,m,y,v,x,S,w;if(o=l[0],c=l[1],h=l[2],o===0)return[0,0,0];var T=.0011070564598794539;return t=t||"D65",n=n||2,y=Oe.whitepoint[n][t][0],v=Oe.whitepoint[n][t][1],x=Oe.whitepoint[n][t][2],S=4*y/(y+15*v+3*x),w=9*v/(y+15*v+3*x),s=c/(13*o)+S||0,r=h/(13*o)+w||0,_=o>8?v*Math.pow((o+16)/116,3):v*o*T,d=_*9*s/(4*r)||0,m=_*(12-3*s-20*r)/(4*r)||0,[d,_,m]}};Oe.luv=function(l,t,n){var s,r,o,c,h,d,_,m,y,v,x,S,w,T=.008856451679035631,b=903.2962962962961;t=t||"D65",n=n||2,y=Oe.whitepoint[n][t][0],v=Oe.whitepoint[n][t][1],x=Oe.whitepoint[n][t][2],S=4*y/(y+15*v+3*x),w=9*v/(y+15*v+3*x),d=l[0],_=l[1],m=l[2],s=4*d/(d+15*_+3*m)||0,r=9*_/(d+15*_+3*m)||0;var D=_/v;return o=D<=T?b*D:116*Math.pow(D,1/3)-16,c=13*o*(s-S),h=13*o*(r-w),[o,c,h]};var y1={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(l){var t=l[0],n=l[1],s=l[2],r,o,c;return c=s/360*2*Math.PI,r=n*Math.cos(c),o=n*Math.sin(c),[t,r,o]},xyz:function(l){return pd.xyz(y1.luv(l))}};pd.lchuv=function(l){var t=l[0],n=l[1],s=l[2],r=Math.sqrt(n*n+s*s),o=Math.atan2(s,n),c=o*360/2/Math.PI;return c<0&&(c+=360),[t,r,c]};Oe.lchuv=function(l){return pd.lchuv(Oe.luv(l))};const vd=[NaN,NaN,NaN,0];function $x(l){return typeof l=="string"?l:xd(l)}const tS=1024,_r={};let df=0;function eS(l){if(l.length===4)return l;const t=l.slice();return t[3]=1,t}function P0(l){const t=Oe.lchuv(Ir.xyz(l));return t[3]=l[3],t}function nS(l){const t=Oe.rgb(y1.xyz(l));return t[3]=l[3],t}function Ed(l){if(l==="none")return vd;if(_r.hasOwnProperty(l))return _r[l];if(df>=tS){let n=0;for(const s in _r)(n++&3)===0&&(delete _r[s],--df)}const t=Jx(l);if(t.length!==4)throw new Error('failed to parse "'+l+'" as color');for(const n of t)if(isNaN(n))throw new Error('failed to parse "'+l+'" as color');return p1(t),_r[l]=t,++df,t}function oa(l){return Array.isArray(l)?l:Ed(l)}function p1(l){return l[0]=le(l[0]+.5|0,0,255),l[1]=le(l[1]+.5|0,0,255),l[2]=le(l[2]+.5|0,0,255),l[3]=le(l[3],0,1),l}function xd(l){let t=l[0];t!=(t|0)&&(t=t+.5|0);let n=l[1];n!=(n|0)&&(n=n+.5|0);let s=l[2];s!=(s|0)&&(s=s+.5|0);const r=l[3]===void 0?1:Math.round(l[3]*1e3)/1e3;return"rgba("+t+","+n+","+s+","+r+")"}function ye(l,t,n,s){let r;return n&&n.length?r=n.shift():g1?r=new OffscreenCanvas(l||300,t||300):r=document.createElement("canvas"),l&&(r.width=l),t&&(r.height=t),r.getContext("2d",s)}let gf;function Su(){return gf||(gf=ye(1,1)),gf}function Xu(l){const t=l.canvas;t.width=1,t.height=1,l.clearRect(0,0,1,1)}function V0(l,t){const n=t.parentNode;n&&n.replaceChild(l,t)}function iS(l){for(;l.lastChild;)l.lastChild.remove()}function sS(l,t){const n=l.childNodes;for(let s=0;;++s){const r=n[s],o=t[s];if(!r&&!o)break;if(r!==o){if(!r){l.appendChild(o);continue}if(!o){l.removeChild(r),--s;continue}l.insertBefore(o,r)}}}function lS(l,t,n){const s=l;let r=!0,o=!1,c=!1;const h=[_u(s,pt.LOAD,function(){c=!0,o||t()})];return s.src&&_1?(o=!0,s.decode().then(function(){r&&t()}).catch(function(d){r&&(c?t():n())})):h.push(_u(s,pt.ERROR,n)),function(){r=!1,h.forEach(Vt)}}function aS(l,t){return new Promise((n,s)=>{function r(){c(),n(l)}function o(){c(),s(new Error("Image load error"))}function c(){l.removeEventListener("load",r),l.removeEventListener("error",o)}l.addEventListener("load",r),l.addEventListener("error",o)})}function rS(l,t){return t&&(l.src=t),l.src&&_1?new Promise((n,s)=>l.decode().then(()=>n(l)).catch(r=>l.complete&&l.width?n(l):s(r))):aS(l)}class oS{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const n in this.cache_){const s=this.cache_[n];(t++&3)===0&&!s.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(t,n,s){const r=_f(t,n,s);return r in this.cache_?this.cache_[r]:null}getPattern(t,n,s){const r=_f(t,n,s);return r in this.patternCache_?this.patternCache_[r]:null}set(t,n,s,r,o){const c=_f(t,n,s),h=c in this.cache_;this.cache_[c]=r,o&&(r.getImageState()===St.IDLE&&r.load(),r.getImageState()===St.LOADING?r.ready().then(()=>{this.patternCache_[c]=Su().createPattern(r.getImage(1),"repeat")}):this.patternCache_[c]=Su().createPattern(r.getImage(1),"repeat")),h||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function _f(l,t,n){const s=n?oa(n):"null";return t+":"+l+":"+s}const Sn=new oS;let mr=null;class v1 extends Lu{constructor(t,n,s,r,o){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=s,this.canvas_={},this.color_=o,this.imageState_=r===void 0?St.IDLE:r,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===St.LOADED){mr||(mr=ye(1,1,void 0,{willReadFrequently:!0})),mr.drawImage(this.image_,0,0);try{mr.getImageData(0,0,1,1),this.tainted_=!1}catch{mr=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(pt.CHANGE)}handleImageError_(){this.imageState_=St.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=St.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],n=this.size_[1],s=ye(t,n);s.fillRect(0,0,t,n),this.hitDetectionImage_=s.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===St.IDLE){this.image_||this.initializeImage_(),this.imageState_=St.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&rS(this.image_,this.src_).then(t=>{this.image_=t,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==St.LOADED)return;const n=this.image_,s=ye(Math.ceil(n.width*t),Math.ceil(n.height*t)),r=s.canvas;s.scale(t,t),s.drawImage(n,0,0),s.globalCompositeOperation="multiply",s.fillStyle=$x(this.color_),s.fillRect(0,0,r.width/t,r.height/t),s.globalCompositeOperation="destination-in",s.drawImage(n,0,0),this.canvas_[t]=r}ready(){return this.ready_||(this.ready_=new Promise(t=>{if(this.imageState_===St.LOADED||this.imageState_===St.ERROR)t();else{const n=()=>{(this.imageState_===St.LOADED||this.imageState_===St.ERROR)&&(this.removeEventListener(pt.CHANGE,n),t())};this.addEventListener(pt.CHANGE,n)}})),this.ready_}}function Sd(l,t,n,s,r,o){let c=t===void 0?void 0:Sn.get(t,n,r);return c||(c=new v1(l,l&&"src"in l?l.src||void 0:t,n,s,r),Sn.set(t,n,r,c,o)),o&&c&&!Sn.getPattern(t,n,r)&&Sn.set(t,n,r,c,o),c}function Jn(l){return l?Array.isArray(l)?xd(l):typeof l=="object"&&"src"in l?uS(l):l:null}function uS(l){if(!l.offset||!l.size)return Sn.getPattern(l.src,"anonymous",l.color);const t=l.src+":"+l.offset,n=Sn.getPattern(t,void 0,l.color);if(n)return n;const s=Sn.get(l.src,"anonymous",null);if(s.getImageState()!==St.LOADED)return null;const r=ye(l.size[0],l.size[1]);return r.drawImage(s.getImage(1),l.offset[0],l.offset[1],l.size[0],l.size[1],0,0,l.size[0],l.size[1]),Sd(r.canvas,t,void 0,St.LOADED,l.color,!0),Sn.getPattern(t,void 0,l.color)}class E1{drawCustom(t,n,s,r,o){}drawGeometry(t){}setStyle(t){}drawCircle(t,n,s){}drawFeature(t,n,s){}drawGeometryCollection(t,n,s){}drawLineString(t,n,s){}drawMultiLineString(t,n,s){}drawMultiPoint(t,n,s){}drawMultiPolygon(t,n,s){}drawPoint(t,n,s){}drawPolygon(t,n,s){}drawText(t,n,s){}setFillStrokeStyle(t,n){}setImageStyle(t,n){}setTextStyle(t,n){}}const ou="ol-hidden",Fu="ol-unselectable",Td="ol-control",K0="ol-collapsed",cS=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),W0=["style","variant","weight","size","lineHeight","family"],x1=function(l){const t=l.match(cS);if(!t)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let s=0,r=W0.length;s<r;++s){const o=t[s+1];o!==void 0&&(n[W0[s]]=o)}return n.families=n.family.split(/,\s?/),n},S1="10px sans-serif",He="#000",ua="round",wi=[],bi=0,ca="round",zr=10,Nr="#000",Gr="center",Tu="middle",qs=[0,0,0,0],Ur=1,Ti=new $n;let Zl=null,Ff;const Bf={},hS=function(){const t="32px ",n=["monospace","serif"],s=n.length,r="wmytzilWMYTZIL@#/&?$%10";let o,c;function h(_,m,y){let v=!0;for(let x=0;x<s;++x){const S=n[x];if(c=Ru(_+" "+m+" "+t+S,r),y!=S){const w=Ru(_+" "+m+" "+t+y+","+S,r);v=v&&w!=c}}return!!v}function d(){let _=!0;const m=Ti.getKeys();for(let y=0,v=m.length;y<v;++y){const x=m[y];if(Ti.get(x)<100){const[S,w,T]=x.split(`
`);h(S,w,T)?(Xr(Bf),Zl=null,Ff=void 0,Ti.set(x,100)):(Ti.set(x,Ti.get(x)+1,!0),_=!1)}}_&&(clearInterval(o),o=void 0)}return function(_){const m=x1(_);if(!m)return;const y=m.families;for(let v=0,x=y.length;v<x;++v){const S=y[v],w=m.style+`
`+m.weight+`
`+S;Ti.get(w)===void 0&&(Ti.set(w,100,!0),h(m.style,m.weight,S)||(Ti.set(w,0,!0),o===void 0&&(o=setInterval(d,32))))}}}(),fS=function(){let l;return function(t){let n=Bf[t];if(n==null){if(g1){const s=x1(t),r=T1(t,"g");n=(isNaN(Number(s.lineHeight))?1.2:Number(s.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else l||(l=document.createElement("div"),l.innerHTML="M",l.style.minHeight="0",l.style.maxHeight="none",l.style.height="auto",l.style.padding="0",l.style.border="none",l.style.position="absolute",l.style.display="block",l.style.left="-99999px"),l.style.font=t,document.body.appendChild(l),n=l.offsetHeight,document.body.removeChild(l);Bf[t]=n}return n}}();function T1(l,t){return Zl||(Zl=ye(1,1)),l!=Ff&&(Zl.font=l,Ff=Zl.font),Zl.measureText(t)}function Ru(l,t){return T1(l,t).width}function Q0(l,t,n){if(t in n)return n[t];const s=t.split(`
`).reduce((r,o)=>Math.max(r,Ru(l,o)),0);return n[t]=s,s}function dS(l,t){const n=[],s=[],r=[];let o=0,c=0,h=0,d=0;for(let _=0,m=t.length;_<=m;_+=2){const y=t[_];if(y===`
`||_===m){o=Math.max(o,c),r.push(c),c=0,h+=d,d=0;continue}const v=t[_+1]||l.font,x=Ru(v,y);n.push(x),c+=x;const S=fS(v);s.push(S),d=Math.max(d,S)}return{width:o,height:h,widths:n,heights:s,lineWidths:r}}function gS(l,t,n,s,r,o,c,h,d,_,m){l.save(),n!==1&&(l.globalAlpha===void 0?l.globalAlpha=y=>y.globalAlpha*=n:l.globalAlpha*=n),t&&l.transform.apply(l,t),s.contextInstructions?(l.translate(d,_),l.scale(m[0],m[1]),_S(s,l)):m[0]<0||m[1]<0?(l.translate(d,_),l.scale(m[0],m[1]),l.drawImage(s,r,o,c,h,0,0,c,h)):l.drawImage(s,r,o,c,h,d,_,c*m[0],h*m[1]),l.restore()}function _S(l,t){const n=l.contextInstructions;for(let s=0,r=n.length;s<r;s+=2)Array.isArray(n[s+1])?t[n[s]].apply(t,n[s+1]):t[n[s]]=n[s+1]}class mS extends E1{constructor(t,n,s,r,o,c,h){super(),this.context_=t,this.pixelRatio_=n,this.extent_=s,this.transform_=r,this.transformRotation_=r?sd(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=c,this.userTransform_=h,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Gn()}drawImages_(t,n,s,r){if(!this.image_)return;const o=hs(t,n,s,r,this.transform_,this.pixelCoordinates_),c=this.context_,h=this.tmpLocalTransform_,d=c.globalAlpha;this.imageOpacity_!=1&&(c.globalAlpha=d*this.imageOpacity_);let _=this.imageRotation_;this.transformRotation_===0&&(_-=this.viewRotation_),this.imageRotateWithView_&&(_+=this.viewRotation_);for(let m=0,y=o.length;m<y;m+=2){const v=o[m]-this.imageAnchorX_,x=o[m+1]-this.imageAnchorY_;if(_!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const S=v+this.imageAnchorX_,w=x+this.imageAnchorY_;Mi(h,S,w,1,1,_,-S,-w),c.save(),c.transform.apply(c,h),c.translate(S,w),c.scale(this.imageScale_[0],this.imageScale_[1]),c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),c.restore()}else c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,v,x,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(c.globalAlpha=d)}drawText_(t,n,s,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const o=hs(t,n,s,r,this.transform_,this.pixelCoordinates_),c=this.context_;let h=this.textRotation_;for(this.transformRotation_===0&&(h-=this.viewRotation_),this.textRotateWithView_&&(h+=this.viewRotation_);n<s;n+=r){const d=o[n]+this.textOffsetX_,_=o[n+1]+this.textOffsetY_;h!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(c.save(),c.translate(d-this.textOffsetX_,_-this.textOffsetY_),c.rotate(h),c.translate(this.textOffsetX_,this.textOffsetY_),c.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&c.strokeText(this.text_,0,0),this.textFillState_&&c.fillText(this.text_,0,0),c.restore()):(this.textStrokeState_&&c.strokeText(this.text_,d,_),this.textFillState_&&c.fillText(this.text_,d,_))}}moveToLineTo_(t,n,s,r,o){const c=this.context_,h=hs(t,n,s,r,this.transform_,this.pixelCoordinates_);c.moveTo(h[0],h[1]);let d=h.length;o&&(d-=2);for(let _=2;_<d;_+=2)c.lineTo(h[_],h[_+1]);return o&&c.closePath(),s}drawRings_(t,n,s,r){for(let o=0,c=s.length;o<c;++o)n=this.moveToLineTo_(t,n,s[o],r,!0);return n}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!qe(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=Lx(t,this.transform_,this.pixelCoordinates_),s=n[2]-n[0],r=n[3]-n[1],o=Math.sqrt(s*s+r*r),c=this.context_;c.beginPath(),c.arc(n[0],n[1],o,0,2*Math.PI),this.fillState_&&c.fill(),this.strokeState_&&c.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break}}drawFeature(t,n){const s=n.getGeometryFunction()(t);s&&(this.setStyle(n),this.drawGeometry(s))}drawGeometryCollection(t){const n=t.getGeometriesArray();for(let s=0,r=n.length;s<r;++s)this.drawGeometry(n[s])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),s=t.getStride();this.image_&&this.drawImages_(n,0,n.length,s),this.text_!==""&&this.drawText_(n,0,n.length,s)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),s=t.getStride();this.image_&&this.drawImages_(n,0,n.length,s),this.text_!==""&&this.drawText_(n,0,n.length,s)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!qe(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,s=t.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(s,0,s.length,t.getStride(),!1),n.stroke()}if(this.text_!==""){const n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getExtent();if(qe(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const s=this.context_,r=t.getFlatCoordinates();let o=0;const c=t.getEnds(),h=t.getStride();s.beginPath();for(let d=0,_=c.length;d<_;++d)o=this.moveToLineTo_(r,o,c[d],h,!1);s.stroke()}if(this.text_!==""){const s=t.getFlatMidpoints();this.drawText_(s,0,s.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!qe(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!qe(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,s=t.getOrientedFlatCoordinates();let r=0;const o=t.getEndss(),c=t.getStride();n.beginPath();for(let h=0,d=o.length;h<d;++h){const _=o[h];r=this.drawRings_(s,r,_,c)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(t){const n=this.context_,s=this.contextFillState_;s?s.fillStyle!=t.fillStyle&&(s.fillStyle=t.fillStyle,n.fillStyle=t.fillStyle):(n.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const n=this.context_,s=this.contextStrokeState_;s?(s.lineCap!=t.lineCap&&(s.lineCap=t.lineCap,n.lineCap=t.lineCap),gs(s.lineDash,t.lineDash)||n.setLineDash(s.lineDash=t.lineDash),s.lineDashOffset!=t.lineDashOffset&&(s.lineDashOffset=t.lineDashOffset,n.lineDashOffset=t.lineDashOffset),s.lineJoin!=t.lineJoin&&(s.lineJoin=t.lineJoin,n.lineJoin=t.lineJoin),s.lineWidth!=t.lineWidth&&(s.lineWidth=t.lineWidth,n.lineWidth=t.lineWidth),s.miterLimit!=t.miterLimit&&(s.miterLimit=t.miterLimit,n.miterLimit=t.miterLimit),s.strokeStyle!=t.strokeStyle&&(s.strokeStyle=t.strokeStyle,n.strokeStyle=t.strokeStyle)):(n.lineCap=t.lineCap,n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset,n.lineJoin=t.lineJoin,n.lineWidth=t.lineWidth,n.miterLimit=t.miterLimit,n.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const n=this.context_,s=this.contextTextState_,r=t.textAlign?t.textAlign:Gr;s?(s.font!=t.font&&(s.font=t.font,n.font=t.font),s.textAlign!=r&&(s.textAlign=r,n.textAlign=r),s.textBaseline!=t.textBaseline&&(s.textBaseline=t.textBaseline,n.textBaseline=t.textBaseline)):(n.font=t.font,n.textAlign=r,n.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})}setFillStrokeStyle(t,n){if(!t)this.fillState_=null;else{const s=t.getColor();this.fillState_={fillStyle:Jn(s||He)}}if(!n)this.strokeState_=null;else{const s=n.getColor(),r=n.getLineCap(),o=n.getLineDash(),c=n.getLineDashOffset(),h=n.getLineJoin(),d=n.getWidth(),_=n.getMiterLimit(),m=o||wi;this.strokeState_={lineCap:r!==void 0?r:ua,lineDash:this.pixelRatio_===1?m:m.map(y=>y*this.pixelRatio_),lineDashOffset:(c||bi)*this.pixelRatio_,lineJoin:h!==void 0?h:ca,lineWidth:(d!==void 0?d:Ur)*this.pixelRatio_,miterLimit:_!==void 0?_:zr,strokeStyle:Jn(s||Nr)}}}setImageStyle(t){let n;if(!t||!(n=t.getSize())){this.image_=null;return}const s=t.getPixelRatio(this.pixelRatio_),r=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*s,this.imageAnchorY_=r[1]*s,this.imageHeight_=n[1]*s,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const c=t.getScaleArray();this.imageScale_=[c[0]*this.pixelRatio_/s,c[1]*this.pixelRatio_/s],this.imageWidth_=n[0]*s}setTextStyle(t){if(!t)this.text_="";else{const n=t.getFill();if(!n)this.textFillState_=null;else{const x=n.getColor();this.textFillState_={fillStyle:Jn(x||He)}}const s=t.getStroke();if(!s)this.textStrokeState_=null;else{const x=s.getColor(),S=s.getLineCap(),w=s.getLineDash(),T=s.getLineDashOffset(),b=s.getLineJoin(),D=s.getWidth(),G=s.getMiterLimit();this.textStrokeState_={lineCap:S!==void 0?S:ua,lineDash:w||wi,lineDashOffset:T||bi,lineJoin:b!==void 0?b:ca,lineWidth:D!==void 0?D:Ur,miterLimit:G!==void 0?G:zr,strokeStyle:Jn(x||Nr)}}const r=t.getFont(),o=t.getOffsetX(),c=t.getOffsetY(),h=t.getRotateWithView(),d=t.getRotation(),_=t.getScaleArray(),m=t.getText(),y=t.getTextAlign(),v=t.getTextBaseline();this.textState_={font:r!==void 0?r:S1,textAlign:y!==void 0?y:Gr,textBaseline:v!==void 0?v:Tu},this.text_=m!==void 0?Array.isArray(m)?m.reduce((x,S,w)=>x+=w%2?" ":S,""):m:"",this.textOffsetX_=o!==void 0?this.pixelRatio_*o:0,this.textOffsetY_=c!==void 0?this.pixelRatio_*c:0,this.textRotateWithView_=h!==void 0?h:!1,this.textRotation_=d!==void 0?d:0,this.textScale_=[this.pixelRatio_*_[0],this.pixelRatio_*_[1]]}}}const yS=.5,R1={Point:CS,LineString:SS,Polygon:bS,MultiPoint:wS,MultiLineString:TS,MultiPolygon:RS,GeometryCollection:xS,Circle:vS};function pS(l,t){return parseInt(Gt(l),10)-parseInt(Gt(t),10)}function J0(l,t){const n=C1(l,t);return n*n}function C1(l,t){return yS*l/t}function vS(l,t,n,s,r){const o=n.getFill(),c=n.getStroke();if(o||c){const d=l.getBuilder(n.getZIndex(),"Circle");d.setFillStrokeStyle(o,c),d.drawCircle(t,s,r)}const h=n.getText();if(h&&h.getText()){const d=l.getBuilder(n.getZIndex(),"Text");d.setTextStyle(h),d.drawText(t,s)}}function $0(l,t,n,s,r,o,c,h){const d=[],_=n.getImage();if(_){let v=!0;const x=_.getImageState();x==St.LOADED||x==St.ERROR?v=!1:x==St.IDLE&&_.load(),v&&d.push(_.ready())}const m=n.getFill();m&&m.loading()&&d.push(m.ready());const y=d.length>0;return y&&Promise.all(d).then(()=>r(null)),ES(l,t,n,s,o,c,h),y}function ES(l,t,n,s,r,o,c){const h=n.getGeometryFunction()(t);if(!h)return;const d=h.simplifyTransformed(s,r);if(n.getRenderer())w1(l,d,n,t,c);else{const m=R1[d.getType()];m(l,d,n,t,c,o)}}function w1(l,t,n,s,r){if(t.getType()=="GeometryCollection"){const c=t.getGeometries();for(let h=0,d=c.length;h<d;++h)w1(l,c[h],n,s,r);return}l.getBuilder(n.getZIndex(),"Default").drawCustom(t,s,n.getRenderer(),n.getHitDetectionRenderer(),r)}function xS(l,t,n,s,r,o){const c=t.getGeometriesArray();let h,d;for(h=0,d=c.length;h<d;++h){const _=R1[c[h].getType()];_(l,c[h],n,s,r,o)}}function SS(l,t,n,s,r){const o=n.getStroke();if(o){const h=l.getBuilder(n.getZIndex(),"LineString");h.setFillStrokeStyle(null,o),h.drawLineString(t,s,r)}const c=n.getText();if(c&&c.getText()){const h=l.getBuilder(n.getZIndex(),"Text");h.setTextStyle(c),h.drawText(t,s,r)}}function TS(l,t,n,s,r){const o=n.getStroke();if(o){const h=l.getBuilder(n.getZIndex(),"LineString");h.setFillStrokeStyle(null,o),h.drawMultiLineString(t,s,r)}const c=n.getText();if(c&&c.getText()){const h=l.getBuilder(n.getZIndex(),"Text");h.setTextStyle(c),h.drawText(t,s,r)}}function RS(l,t,n,s,r){const o=n.getFill(),c=n.getStroke();if(c||o){const d=l.getBuilder(n.getZIndex(),"Polygon");d.setFillStrokeStyle(o,c),d.drawMultiPolygon(t,s,r)}const h=n.getText();if(h&&h.getText()){const d=l.getBuilder(n.getZIndex(),"Text");d.setTextStyle(h),d.drawText(t,s,r)}}function CS(l,t,n,s,r,o){const c=n.getImage(),h=n.getText(),d=h&&h.getText(),_=o&&c&&d?{}:void 0;if(c){if(c.getImageState()!=St.LOADED)return;const m=l.getBuilder(n.getZIndex(),"Image");m.setImageStyle(c,_),m.drawPoint(t,s,r)}if(d){const m=l.getBuilder(n.getZIndex(),"Text");m.setTextStyle(h,_),m.drawText(t,s,r)}}function wS(l,t,n,s,r,o){const c=n.getImage(),h=c&&c.getOpacity()!==0,d=n.getText(),_=d&&d.getText(),m=o&&h&&_?{}:void 0;if(h){if(c.getImageState()!=St.LOADED)return;const y=l.getBuilder(n.getZIndex(),"Image");y.setImageStyle(c,m),y.drawMultiPoint(t,s,r)}if(_){const y=l.getBuilder(n.getZIndex(),"Text");y.setTextStyle(d,m),y.drawText(t,s,r)}}function bS(l,t,n,s,r){const o=n.getFill(),c=n.getStroke();if(o||c){const d=l.getBuilder(n.getZIndex(),"Polygon");d.setFillStrokeStyle(o,c),d.drawPolygon(t,s,r)}const h=n.getText();if(h&&h.getText()){const d=l.getBuilder(n.getZIndex(),"Text");d.setTextStyle(h),d.drawText(t,s,r)}}let AS=!1;function MS(l,t,n,s,r,o,c){const h=new XMLHttpRequest;h.open("GET",typeof l=="function"?l(n,s,r):l,!0),t.getType()=="arraybuffer"&&(h.responseType="arraybuffer"),h.withCredentials=AS,h.onload=function(d){if(!h.status||h.status>=200&&h.status<300){const _=t.getType();try{let m;_=="text"||_=="json"?m=h.responseText:_=="xml"?m=h.responseXML||h.responseText:_=="arraybuffer"&&(m=h.response),m?o(t.readFeatures(m,{extent:n,featureProjection:r}),t.readProjection(m)):c()}catch{c()}}else c()},h.onerror=c,h.send()}function ty(l,t){return function(n,s,r,o,c){MS(l,t,n,s,r,(h,d)=>{this.addFeatures(h),o!==void 0&&o(h)},c||sa)}}function DS(l,t){return[[-1/0,-1/0,1/0,1/0]]}function OS(l,t,n,s){const r=[];let o=Rn();for(let c=0,h=n.length;c<h;++c){const d=n[c];o=id(l,t,d[0],s),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=d[d.length-1]}return r}const ey=Gn();class zn{constructor(t,n,s,r,o,c){this.styleFunction,this.extent_,this.id_=c,this.type_=t,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=s||null,this.properties_=o,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?Fy(this.flatCoordinates_):id(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=Qs(this.getExtent());this.flatInteriorPoints_=md(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=qx(this.flatCoordinates_,this.ends_),n=OS(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=Fx(this.flatCoordinates_,0,t,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=H0(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let n=0;const s=this.ends_;for(let r=0,o=s.length;r<o;++r){const c=s[r],h=H0(t,n,c,2,.5);ed(this.flatMidpoints_,h),n=c}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){t=Ke(t);const n=t.getExtent(),s=t.getWorldExtent();if(n&&s){const r=ke(s)/ke(n);Mi(ey,s[0],s[3],r,-r,0,0,0),hs(this.flatCoordinates_,0,this.flatCoordinates_.length,2,ey,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var t;return new zn(this.type_,this.flatCoordinates_.slice(),(t=this.ends_)==null?void 0:t.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=Uy((t,n)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const s=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":s.length=_d(s,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,s,0),r=[s.length];break;case"MultiLineString":r=[],s.length=kx(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,s,0,r);break;case"Polygon":r=[],s.length=o1(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),s,0,r);break}return r&&(this.simplifiedGeometry_=new zn(this.type_,s,r,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_}),this}}zn.prototype.getFlatCoordinates=zn.prototype.getOrientedFlatCoordinates;function b1(l,t,n=0,s=l.length-1,r=LS){for(;s>n;){if(s-n>600){const d=s-n+1,_=t-n+1,m=Math.log(d),y=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*y*(d-y)/d)*(_-d/2<0?-1:1),x=Math.max(n,Math.floor(t-_*y/d+v)),S=Math.min(s,Math.floor(t+(d-_)*y/d+v));b1(l,t,x,S,r)}const o=l[t];let c=n,h=s;for(yr(l,n,t),r(l[s],o)>0&&yr(l,n,s);c<h;){for(yr(l,c,h),c++,h--;r(l[c],o)<0;)c++;for(;r(l[h],o)>0;)h--}r(l[n],o)===0?yr(l,n,h):(h++,yr(l,h,s)),h<=t&&(n=h+1),t<=h&&(s=h-1)}}function yr(l,t,n){const s=l[t];l[t]=l[n],l[n]=s}function LS(l,t){return l<t?-1:l>t?1:0}let A1=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let n=this.data;const s=[];if(!cu(t,n))return s;const r=this.toBBox,o=[];for(;n;){for(let c=0;c<n.children.length;c++){const h=n.children[c],d=n.leaf?r(h):h;cu(t,d)&&(n.leaf?s.push(h):yf(t,d)?this._all(h,s):o.push(h))}n=o.pop()}return s}collides(t){let n=this.data;if(!cu(t,n))return!1;const s=[];for(;n;){for(let r=0;r<n.children.length;r++){const o=n.children[r],c=n.leaf?this.toBBox(o):o;if(cu(t,c)){if(n.leaf||yf(t,c))return!0;s.push(o)}}n=s.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let s=0;s<t.length;s++)this.insert(t[s]);return this}let n=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const s=this.data;this.data=n,n=s}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=ql([]),this}remove(t,n){if(!t)return this;let s=this.data;const r=this.toBBox(t),o=[],c=[];let h,d,_;for(;s||o.length;){if(s||(s=o.pop(),d=o[o.length-1],h=c.pop(),_=!0),s.leaf){const m=IS(t,s.children,n);if(m!==-1)return s.children.splice(m,1),o.push(s),this._condense(o),this}!_&&!s.leaf&&yf(s,r)?(o.push(s),c.push(h),h=0,d=s,s=s.children[0]):d?(h++,s=d.children[h],_=!1):s=null}return this}toBBox(t){return t}compareMinX(t,n){return t.minX-n.minX}compareMinY(t,n){return t.minY-n.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,n){const s=[];for(;t;)t.leaf?n.push(...t.children):s.push(...t.children),t=s.pop();return n}_build(t,n,s,r){const o=s-n+1;let c=this._maxEntries,h;if(o<=c)return h=ql(t.slice(n,s+1)),Yl(h,this.toBBox),h;r||(r=Math.ceil(Math.log(o)/Math.log(c)),c=Math.ceil(o/Math.pow(c,r-1))),h=ql([]),h.leaf=!1,h.height=r;const d=Math.ceil(o/c),_=d*Math.ceil(Math.sqrt(c));ny(t,n,s,_,this.compareMinX);for(let m=n;m<=s;m+=_){const y=Math.min(m+_-1,s);ny(t,m,y,d,this.compareMinY);for(let v=m;v<=y;v+=d){const x=Math.min(v+d-1,y);h.children.push(this._build(t,v,x,r-1))}}return Yl(h,this.toBBox),h}_chooseSubtree(t,n,s,r){for(;r.push(n),!(n.leaf||r.length-1===s);){let o=1/0,c=1/0,h;for(let d=0;d<n.children.length;d++){const _=n.children[d],m=mf(_),y=GS(t,_)-m;y<c?(c=y,o=m<o?m:o,h=_):y===c&&m<o&&(o=m,h=_)}n=h||n.children[0]}return n}_insert(t,n,s){const r=s?t:this.toBBox(t),o=[],c=this._chooseSubtree(r,this.data,n,o);for(c.children.push(t),xr(c,r);n>=0&&o[n].children.length>this._maxEntries;)this._split(o,n),n--;this._adjustParentBBoxes(r,o,n)}_split(t,n){const s=t[n],r=s.children.length,o=this._minEntries;this._chooseSplitAxis(s,o,r);const c=this._chooseSplitIndex(s,o,r),h=ql(s.children.splice(c,s.children.length-c));h.height=s.height,h.leaf=s.leaf,Yl(s,this.toBBox),Yl(h,this.toBBox),n?t[n-1].children.push(h):this._splitRoot(s,h)}_splitRoot(t,n){this.data=ql([t,n]),this.data.height=t.height+1,this.data.leaf=!1,Yl(this.data,this.toBBox)}_chooseSplitIndex(t,n,s){let r,o=1/0,c=1/0;for(let h=n;h<=s-n;h++){const d=Er(t,0,h,this.toBBox),_=Er(t,h,s,this.toBBox),m=US(d,_),y=mf(d)+mf(_);m<o?(o=m,r=h,c=y<c?y:c):m===o&&y<c&&(c=y,r=h)}return r||s-n}_chooseSplitAxis(t,n,s){const r=t.leaf?this.compareMinX:zS,o=t.leaf?this.compareMinY:NS,c=this._allDistMargin(t,n,s,r),h=this._allDistMargin(t,n,s,o);c<h&&t.children.sort(r)}_allDistMargin(t,n,s,r){t.children.sort(r);const o=this.toBBox,c=Er(t,0,n,o),h=Er(t,s-n,s,o);let d=uu(c)+uu(h);for(let _=n;_<s-n;_++){const m=t.children[_];xr(c,t.leaf?o(m):m),d+=uu(c)}for(let _=s-n-1;_>=n;_--){const m=t.children[_];xr(h,t.leaf?o(m):m),d+=uu(h)}return d}_adjustParentBBoxes(t,n,s){for(let r=s;r>=0;r--)xr(n[r],t)}_condense(t){for(let n=t.length-1,s;n>=0;n--)t[n].children.length===0?n>0?(s=t[n-1].children,s.splice(s.indexOf(t[n]),1)):this.clear():Yl(t[n],this.toBBox)}};function IS(l,t,n){if(!n)return t.indexOf(l);for(let s=0;s<t.length;s++)if(n(l,t[s]))return s;return-1}function Yl(l,t){Er(l,0,l.children.length,t,l)}function Er(l,t,n,s,r){r||(r=ql(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let o=t;o<n;o++){const c=l.children[o];xr(r,l.leaf?s(c):c)}return r}function xr(l,t){return l.minX=Math.min(l.minX,t.minX),l.minY=Math.min(l.minY,t.minY),l.maxX=Math.max(l.maxX,t.maxX),l.maxY=Math.max(l.maxY,t.maxY),l}function zS(l,t){return l.minX-t.minX}function NS(l,t){return l.minY-t.minY}function mf(l){return(l.maxX-l.minX)*(l.maxY-l.minY)}function uu(l){return l.maxX-l.minX+(l.maxY-l.minY)}function GS(l,t){return(Math.max(t.maxX,l.maxX)-Math.min(t.minX,l.minX))*(Math.max(t.maxY,l.maxY)-Math.min(t.minY,l.minY))}function US(l,t){const n=Math.max(l.minX,t.minX),s=Math.max(l.minY,t.minY),r=Math.min(l.maxX,t.maxX),o=Math.min(l.maxY,t.maxY);return Math.max(0,r-n)*Math.max(0,o-s)}function yf(l,t){return l.minX<=t.minX&&l.minY<=t.minY&&t.maxX<=l.maxX&&t.maxY<=l.maxY}function cu(l,t){return t.minX<=l.maxX&&t.minY<=l.maxY&&t.maxX>=l.minX&&t.maxY>=l.minY}function ql(l){return{children:l,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ny(l,t,n,s,r){const o=[t,n];for(;o.length;){if(n=o.pop(),t=o.pop(),n-t<=s)continue;const c=t+Math.ceil((n-t)/s/2)*s;b1(l,c,t,n,r),o.push(t,c,c,n)}}class iy{constructor(t){this.rbush_=new A1(t),this.items_={}}insert(t,n){const s={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:n};this.rbush_.insert(s),this.items_[Gt(n)]=s}load(t,n){const s=new Array(n.length);for(let r=0,o=n.length;r<o;r++){const c=t[r],h=n[r],d={minX:c[0],minY:c[1],maxX:c[2],maxY:c[3],value:h};s[r]=d,this.items_[Gt(h)]=d}this.rbush_.load(s)}remove(t){const n=Gt(t),s=this.items_[n];return delete this.items_[n],this.rbush_.remove(s)!==null}update(t,n){const s=this.items_[Gt(n)],r=[s.minX,s.minY,s.maxX,s.maxY];Ar(r,t)||(this.remove(n),this.insert(t,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(t){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(n).map(function(r){return r.value})}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,n){return this.forEach_(this.getInExtent(t),n)}forEach_(t,n){let s;for(let r=0,o=t.length;r<o;r++)if(s=n(t[r]),s)return s;return s}isEmpty(){return la(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const n=this.rbush_.toJSON();return fs(n.minX,n.minY,n.maxX,n.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const n in t.items_)this.items_[n]=t.items_[n]}}class M1 extends $n{constructor(t){super(),this.projection=Ke(t.projection),this.attributions_=sy(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible??!0,this.loading=!1,this.state_=t.state!==void 0?t.state:"ready",this.wrapX_=t.wrapX!==void 0?t.wrapX:!1,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(s,r){n.viewResolver=s,n.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=sy(t),this.changed()}setState(t){this.state_=t,this.changed()}}function sy(l){return l?typeof l=="function"?l:(Array.isArray(l)||(l=[l]),t=>l):null}const vn={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class ts extends Di{constructor(t,n,s){super(t),this.feature=n,this.features=s}}class ly extends M1{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:t.wrapX!==void 0?t.wrapX:!0}),this.on,this.once,this.un,this.loader_=sa,this.format_=t.format||null,this.overlaps_=t.overlaps===void 0?!0:t.overlaps,this.url_=t.url,t.loader!==void 0?this.loader_=t.loader:this.url_!==void 0&&(zt(this.format_,"`format` must be set when `url` is set"),this.loader_=ty(this.url_,this.format_)),this.strategy_=t.strategy!==void 0?t.strategy:DS;const n=t.useSpatialIndex!==void 0?t.useSpatialIndex:!0;this.featuresRtree_=n?new iy:null,this.loadedExtentsRtree_=new iy,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let s,r;Array.isArray(t.features)?r=t.features:t.features&&(s=t.features,r=s.getArray()),!n&&s===void 0&&(s=new Qn(r)),r!==void 0&&this.addFeaturesInternal(r),s!==void 0&&this.bindFeaturesCollection_(s)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const n=Gt(t);if(!this.addToIndex_(n,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(n,t);const s=t.getGeometry();if(s){const r=s.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[n]=t;this.dispatchEvent(new ts(vn.ADDFEATURE,t))}setupChangeEvents_(t,n){n instanceof zn||(this.featureChangeKeys_[t]=[It(n,pt.CHANGE,this.handleFeatureChange_,this),It(n,ia.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(t,n){let s=!0;if(n.getId()!==void 0){const r=String(n.getId());if(!(r in this.idIndex_))this.idIndex_[r]=n;else if(n instanceof zn){const o=this.idIndex_[r];o instanceof zn?Array.isArray(o)?o.push(n):this.idIndex_[r]=[o,n]:s=!1}else s=!1}return s&&(zt(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=n),s}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const n=[],s=[],r=[];for(let o=0,c=t.length;o<c;o++){const h=t[o],d=Gt(h);this.addToIndex_(d,h)&&s.push(h)}for(let o=0,c=s.length;o<c;o++){const h=s[o],d=Gt(h);this.setupChangeEvents_(d,h);const _=h.getGeometry();if(_){const m=_.getExtent();n.push(m),r.push(h)}else this.nullGeometryFeatures_[d]=h}if(this.featuresRtree_&&this.featuresRtree_.load(n,r),this.hasListener(vn.ADDFEATURE))for(let o=0,c=s.length;o<c;o++)this.dispatchEvent(new ts(vn.ADDFEATURE,s[o]))}bindFeaturesCollection_(t){let n=!1;this.addEventListener(vn.ADDFEATURE,function(s){n||(n=!0,t.push(s.feature),n=!1)}),this.addEventListener(vn.REMOVEFEATURE,function(s){n||(n=!0,t.remove(s.feature),n=!1)}),t.addEventListener(je.ADD,s=>{n||(n=!0,this.addFeature(s.element),n=!1)}),t.addEventListener(je.REMOVE,s=>{n||(n=!0,this.removeFeature(s.element),n=!1)}),this.featuresCollection_=t}clear(t){if(t){for(const s in this.featureChangeKeys_)this.featureChangeKeys_[s].forEach(Vt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(s=>{this.removeFeatureInternal(s)});for(const s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new ts(vn.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,n){const s=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(s,function(r){const o=r.getGeometry();if(o instanceof zn||o.intersectsCoordinate(t))return n(r)})}forEachFeatureInExtent(t,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(t,n){return this.forEachFeatureInExtent(t,function(s){const r=s.getGeometry();if(r instanceof zn||r.intersectsExtent(t)){const o=n(s);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),la(this.nullGeometryFeatures_)||ed(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const n=[];return this.forEachFeatureAtCoordinateDirect(t,function(s){n.push(s)}),n}getFeaturesInExtent(t,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const r=qy(t,n);return[].concat(...r.map(o=>this.featuresRtree_.getInExtent(o)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,n){const s=t[0],r=t[1];let o=null;const c=[NaN,NaN];let h=1/0;const d=[-1/0,-1/0,1/0,1/0];return n=n||br,this.featuresRtree_.forEachInExtent(d,function(_){if(n(_)){const m=_.getGeometry(),y=h;if(h=m instanceof zn?0:m.closestPointXY(s,r,c,h),h<y){o=_;const v=Math.sqrt(h);d[0]=s-v,d[1]=r-v,d[2]=s+v,d[3]=r+v}}}),o}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const n=this.idIndex_[t.toString()];return n!==void 0?n:null}getFeatureByUid(t){const n=this.uidIndex_[t];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const n=t.target,s=Gt(n),r=n.getGeometry();if(!r)s in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[s]=n);else{const c=r.getExtent();s in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[s],this.featuresRtree_&&this.featuresRtree_.insert(c,n)):this.featuresRtree_&&this.featuresRtree_.update(c,n)}const o=n.getId();if(o!==void 0){const c=o.toString();this.idIndex_[c]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[c]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[s]=n;this.changed(),this.dispatchEvent(new ts(vn.CHANGEFEATURE,n))}hasFeature(t){const n=t.getId();return n!==void 0?n in this.idIndex_:Gt(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&la(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(t,n,s){const r=this.loadedExtentsRtree_,o=this.strategy_(t,n,s);for(let c=0,h=o.length;c<h;++c){const d=o[c];r.forEachInExtent(d,function(m){return vr(m.extent,d)})||(++this.loadingExtentsCount_,this.dispatchEvent(new ts(vn.FEATURESLOADSTART)),this.loader_.call(this,d,n,s,m=>{--this.loadingExtentsCount_,this.dispatchEvent(new ts(vn.FEATURESLOADEND,void 0,m))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new ts(vn.FEATURESLOADERROR))}),r.insert(d,{extent:d.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const n=this.loadedExtentsRtree_,s=n.forEachInExtent(t,function(r){if(Ar(r.extent,t))return r});s&&n.remove(s)}removeFeatures(t){let n=!1;for(let s=0,r=t.length;s<r;++s)n=this.removeFeatureInternal(t[s])||n;n&&this.changed()}removeFeature(t){if(!t)return;this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const n=Gt(t);if(!(n in this.uidIndex_))return!1;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(t);const s=this.featureChangeKeys_[n];s==null||s.forEach(Vt),delete this.featureChangeKeys_[n];const r=t.getId();if(r!==void 0){const o=r.toString(),c=this.idIndex_[o];c===t?delete this.idIndex_[o]:Array.isArray(c)&&(c.splice(c.indexOf(t),1),c.length===1&&(this.idIndex_[o]=c[0]))}return delete this.uidIndex_[n],this.hasListener(vn.REMOVEFEATURE)&&this.dispatchEvent(new ts(vn.REMOVEFEATURE,t)),!0}removeFromIdIndex_(t){for(const n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n];break}}setLoader(t){this.loader_=t}setUrl(t){zt(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader(ty(t,this.format_))}setOverlaps(t){this.overlaps_=t,this.changed()}}class Js{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,t.color!==void 0&&this.setColor(t.color)}clone(){const t=this.getColor();return new Js({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(t!==null&&typeof t=="object"&&"src"in t){const n=Sd(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===St.IDLE&&n.load(),n.getImageState()===St.LOADING&&(this.patternImage_=n)}this.color_=t}getKey(){const t=this.getColor();return t?t instanceof CanvasPattern||t instanceof CanvasGradient?Gt(t):typeof t=="object"&&"src"in t?t.src+":"+t.offset:oa(t).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class ha{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new ha({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}function ay(l){return l[0]>0&&l[1]>0}function kS(l,t,n){return n===void 0&&(n=[0,0]),n[0]=l[0]*t+.5|0,n[1]=l[1]*t+.5|0,n}function Ve(l,t){return Array.isArray(l)?l:(t===void 0?t=[l,l]:(t[0]=l,t[1]=l),t)}class Bu{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Ve(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new Bu({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Lt()}getImage(t){return Lt()}getHitDetectionImage(){return Lt()}getPixelRatio(t){return 1}getImageState(){return Lt()}getImageSize(){return Lt()}getOrigin(){return Lt()}getSize(){return Lt()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=Ve(t)}listenImageChange(t){Lt()}load(){Lt()}unlistenImageChange(t){Lt()}ready(){return Promise.resolve()}}class ju extends Bu{constructor(t){super({opacity:1,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=t.fill!==void 0?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius=t.radius,this.radius2_=t.radius2,this.angle_=t.angle!==void 0?t.angle:0,this.stroke_=t.stroke!==void 0?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?St.LOADING:St.LOADED,this.imageState_===St.LOADING&&this.ready().then(()=>this.imageState_=St.LOADED),this.render()}clone(){const t=this.getScale(),n=new ju({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const t=this.size_,n=this.getDisplacement(),s=this.getScaleArray();return[t[0]/2-n[0]/s[0],t[1]/2+n[1]/s[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){var o,c;const n=(o=this.fill_)==null?void 0:o.getKey(),s=`${t},${this.angle_},${this.radius},${this.radius2_},${this.points_},${n}`+Object.values(this.renderOptions_).join(",");let r=(c=Sn.get(s,null,null))==null?void 0:c.getImage(1);if(!r){const h=this.renderOptions_,d=Math.ceil(h.size*t),_=ye(d,d);this.draw_(h,_,t),r=_.canvas,Sn.set(s,null,null,new v1(r,void 0,null,St.LOADED,null))}return r}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,n,s){if(n===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return n;let r=this.radius,o=this.radius2_===void 0?r:this.radius2_;if(r<o){const q=r;r=o,o=q}const c=this.radius2_===void 0?this.points_:this.points_*2,h=2*Math.PI/c,d=o*Math.sin(h),_=Math.sqrt(o*o-d*d),m=r-_,y=Math.sqrt(d*d+m*m),v=y/d;if(t==="miter"&&v<=s)return v*n;const x=n/2/v,S=n/2*(m/y),T=Math.sqrt((r+x)*(r+x)+S*S)-r;if(this.radius2_===void 0||t==="bevel")return T*2;const b=r*Math.sin(h),D=Math.sqrt(r*r-b*b),G=o-D,O=Math.sqrt(b*b+G*G)/b;if(O<=s){const q=O*n/2-o-r;return 2*Math.max(T,q)}return T*2}createRenderOptions(){let t=ua,n=ca,s=0,r=null,o=0,c,h=0;this.stroke_&&(c=Jn(this.stroke_.getColor()??Nr),h=this.stroke_.getWidth()??Ur,r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??ca,t=this.stroke_.getLineCap()??ua,s=this.stroke_.getMiterLimit()??zr);const d=this.calculateLineJoinSize_(n,h,s),_=Math.max(this.radius,this.radius2_||0),m=Math.ceil(2*_+d);return{strokeStyle:c,strokeWidth:h,size:m,lineCap:t,lineDash:r,lineDashOffset:o,lineJoin:n,miterLimit:s}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,n,s){if(n.scale(s,s),n.translate(t.size/2,t.size/2),this.createPath_(n),this.fill_){let r=this.fill_.getColor();r===null&&(r=He),n.fillStyle=Jn(r),n.fill()}t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineCap=t.lineCap,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}createHitDetectionCanvas_(t){let n;if(this.fill_){let s=this.fill_.getColor(),r=0;typeof s=="string"&&(s=oa(s)),s===null?r=1:Array.isArray(s)&&(r=s.length===4?s[3]:1),r===0&&(n=ye(t.size,t.size),this.drawHitDetectionCanvas_(t,n))}return n?n.canvas:this.getImage(1)}createPath_(t){let n=this.points_;const s=this.radius;if(n===1/0)t.arc(0,0,s,0,2*Math.PI);else{const r=this.radius2_===void 0?s:this.radius2_;this.radius2_!==void 0&&(n*=2);const o=this.angle_-Math.PI/2,c=2*Math.PI/n;for(let h=0;h<n;h++){const d=o+h*c,_=h%2===0?s:r;t.lineTo(_*Math.cos(d),_*Math.sin(d))}t.closePath()}}drawHitDetectionCanvas_(t,n){n.translate(t.size/2,t.size/2),this.createPath_(n),n.fillStyle=He,n.fill(),t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class fa extends ju{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:t.scale!==void 0?t.scale:1,rotation:t.rotation!==void 0?t.rotation:0,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),n=new fa({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(t){this.radius=t,this.render()}}class Ai{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=ry,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new Ai({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(n){return n.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=ry,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function YS(l){let t;if(typeof l=="function")t=l;else{let n;Array.isArray(l)?n=l:(zt(typeof l.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[l]),t=function(){return n}}return t}let pf=null;function D1(l,t){if(!pf){const n=new Js({color:"rgba(255,255,255,0.4)"}),s=new ha({color:"#3399CC",width:1.25});pf=[new Ai({image:new fa({fill:n,stroke:s,radius:5}),fill:n,stroke:s})]}return pf}function ry(l){return l.getGeometry()}const XS="#333";class Rd{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.keepUpright_=t.keepUpright,this.scale_=t.scale,this.scaleArray_=Ve(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new Js({color:XS}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new Rd({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setKeepUpright(t){this.keepUpright_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=Ve(t!==void 0?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}const De={ANIMATING:0,INTERACTING:1},ht={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},hu=[ht.FILL],us=[ht.STROKE],Ps=[ht.BEGIN_PATH],oy=[ht.CLOSE_PATH];class jr extends E1{constructor(t,n,s,r){super(),this.tolerance=t,this.maxExtent=n,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=s,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const n=this.pixelRatio;return n==1?t:t.map(function(s){return s*n})}appendFlatPointCoordinates(t,n){const s=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,o=this.coordinates;let c=o.length;for(let h=0,d=t.length;h<d;h+=n)r[0]=t[h],r[1]=t[h+1],aa(s,r)&&(o[c++]=r[0],o[c++]=r[1]);return c}appendFlatLineCoordinates(t,n,s,r,o,c){const h=this.coordinates;let d=h.length;const _=this.getBufferedMaxExtent();c&&(n+=r);let m=t[n],y=t[n+1];const v=this.tmpCoordinate_;let x=!0,S,w,T;for(S=n+r;S<s;S+=r)v[0]=t[S],v[1]=t[S+1],T=If(_,v),T!==w?(x&&(h[d++]=m,h[d++]=y,x=!1),h[d++]=v[0],h[d++]=v[1]):T===_e.INTERSECTING?(h[d++]=v[0],h[d++]=v[1],x=!1):x=!0,m=v[0],y=v[1],w=T;return(o&&x||S===n+r)&&(h[d++]=m,h[d++]=y),d}drawCustomCoordinates_(t,n,s,r,o){for(let c=0,h=s.length;c<h;++c){const d=s[c],_=this.appendFlatLineCoordinates(t,n,d,r,!1,!1);o.push(_),n=d}return n}drawCustom(t,n,s,r,o){this.beginGeometry(t,n,o);const c=t.getType(),h=t.getStride(),d=this.coordinates.length;let _,m,y,v,x;switch(c){case"MultiPolygon":_=t.getOrientedFlatCoordinates(),v=[];const S=t.getEndss();x=0;for(let w=0,T=S.length;w<T;++w){const b=[];x=this.drawCustomCoordinates_(_,x,S[w],h,b),v.push(b)}this.instructions.push([ht.CUSTOM,d,v,t,s,F0,o]),this.hitDetectionInstructions.push([ht.CUSTOM,d,v,t,r||s,F0,o]);break;case"Polygon":case"MultiLineString":y=[],_=c=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),x=this.drawCustomCoordinates_(_,0,t.getEnds(),h,y),this.instructions.push([ht.CUSTOM,d,y,t,s,xu,o]),this.hitDetectionInstructions.push([ht.CUSTOM,d,y,t,r||s,xu,o]);break;case"LineString":case"Circle":_=t.getFlatCoordinates(),m=this.appendFlatLineCoordinates(_,0,_.length,h,!1,!1),this.instructions.push([ht.CUSTOM,d,m,t,s,Wl,o]),this.hitDetectionInstructions.push([ht.CUSTOM,d,m,t,r||s,Wl,o]);break;case"MultiPoint":_=t.getFlatCoordinates(),m=this.appendFlatPointCoordinates(_,h),m>d&&(this.instructions.push([ht.CUSTOM,d,m,t,s,Wl,o]),this.hitDetectionInstructions.push([ht.CUSTOM,d,m,t,r||s,Wl,o]));break;case"Point":_=t.getFlatCoordinates(),this.coordinates.push(_[0],_[1]),m=this.coordinates.length,this.instructions.push([ht.CUSTOM,d,m,t,s,void 0,o]),this.hitDetectionInstructions.push([ht.CUSTOM,d,m,t,r||s,void 0,o]);break}this.endGeometry(n)}beginGeometry(t,n,s){this.beginGeometryInstruction1_=[ht.BEGIN_GEOMETRY,n,0,t,s],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[ht.BEGIN_GEOMETRY,n,0,t,s],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;t.reverse();let n;const s=t.length;let r,o,c=-1;for(n=0;n<s;++n)r=t[n],o=r[0],o==ht.END_GEOMETRY?c=n:o==ht.BEGIN_GEOMETRY&&(r[2]=n,IE(this.hitDetectionInstructions,c,n),c=-1)}fillStyleToState(t,n={}){if(t){const s=t.getColor();n.fillPatternScale=s&&typeof s=="object"&&"src"in s?this.pixelRatio:1,n.fillStyle=Jn(s||He)}else n.fillStyle=void 0;return n}strokeStyleToState(t,n={}){if(t){const s=t.getColor();n.strokeStyle=Jn(s||Nr);const r=t.getLineCap();n.lineCap=r!==void 0?r:ua;const o=t.getLineDash();n.lineDash=o?o.slice():wi;const c=t.getLineDashOffset();n.lineDashOffset=c||bi;const h=t.getLineJoin();n.lineJoin=h!==void 0?h:ca;const d=t.getWidth();n.lineWidth=d!==void 0?d:Ur;const _=t.getMiterLimit();n.miterLimit=_!==void 0?_:zr,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0;return n}setFillStrokeStyle(t,n){const s=this.state;this.fillStyleToState(t,s),this.strokeStyleToState(n,s)}createFill(t){const n=t.fillStyle,s=[ht.SET_FILL_STYLE,n];return typeof n!="string"&&s.push(t.fillPatternScale),s}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[ht.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash?this.applyPixelRatio(t.lineDash):null,t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,n){const s=t.fillStyle;(typeof s!="string"||t.currentFillStyle!=s)&&(s!==void 0&&this.instructions.push(n.call(this,t)),t.currentFillStyle=s)}updateStrokeStyle(t,n){const s=t.strokeStyle,r=t.lineCap,o=t.lineDash,c=t.lineDashOffset,h=t.lineJoin,d=t.lineWidth,_=t.miterLimit;(t.currentStrokeStyle!=s||t.currentLineCap!=r||o!=t.currentLineDash&&!gs(t.currentLineDash,o)||t.currentLineDashOffset!=c||t.currentLineJoin!=h||t.currentLineWidth!=d||t.currentMiterLimit!=_)&&(s!==void 0&&n.call(this,t),t.currentStrokeStyle=s,t.currentLineCap=r,t.currentLineDash=o,t.currentLineDashOffset=c,t.currentLineJoin=h,t.currentLineWidth=d,t.currentMiterLimit=_)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[ht.END_GEOMETRY,t];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=ky(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;nd(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class FS extends jr{constructor(t,n,s,r){super(t,n,s,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,n,s){if(!this.image_||this.maxExtent&&!aa(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,n,s);const r=t.getFlatCoordinates(),o=t.getStride(),c=this.coordinates.length,h=this.appendFlatPointCoordinates(r,o);this.instructions.push([ht.DRAW_IMAGE,c,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ht.DRAW_IMAGE,c,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(t,n,s){if(!this.image_)return;this.beginGeometry(t,n,s);const r=t.getFlatCoordinates(),o=[];for(let d=0,_=r.length;d<_;d+=t.getStride())(!this.maxExtent||aa(this.maxExtent,r.slice(d,d+2)))&&o.push(r[d],r[d+1]);const c=this.coordinates.length,h=this.appendFlatPointCoordinates(o,2);this.instructions.push([ht.DRAW_IMAGE,c,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ht.DRAW_IMAGE,c,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,n){const s=t.getAnchor(),r=t.getSize(),o=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=s[0],this.anchorY_=s[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}class BS extends jr{constructor(t,n,s,r){super(t,n,s,r)}drawFlatCoordinates_(t,n,s,r){const o=this.coordinates.length,c=this.appendFlatLineCoordinates(t,n,s,r,!1,!1),h=[ht.MOVE_TO_LINE_TO,o,c];return this.instructions.push(h),this.hitDetectionInstructions.push(h),s}drawLineString(t,n,s){const r=this.state,o=r.strokeStyle,c=r.lineWidth;if(o===void 0||c===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,n,s),this.hitDetectionInstructions.push([ht.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,wi,bi],Ps);const h=t.getFlatCoordinates(),d=t.getStride();this.drawFlatCoordinates_(h,0,h.length,d),this.hitDetectionInstructions.push(us),this.endGeometry(n)}drawMultiLineString(t,n,s){const r=this.state,o=r.strokeStyle,c=r.lineWidth;if(o===void 0||c===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,n,s),this.hitDetectionInstructions.push([ht.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,wi,bi],Ps);const h=t.getEnds(),d=t.getFlatCoordinates(),_=t.getStride();let m=0;for(let y=0,v=h.length;y<v;++y)m=this.drawFlatCoordinates_(d,m,h[y],_);this.hitDetectionInstructions.push(us),this.endGeometry(n)}finish(){const t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(us),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(us),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(Ps)}}class uy extends jr{constructor(t,n,s,r){super(t,n,s,r)}drawFlatCoordinatess_(t,n,s,r){const o=this.state,c=o.fillStyle!==void 0,h=o.strokeStyle!==void 0,d=s.length;this.instructions.push(Ps),this.hitDetectionInstructions.push(Ps);for(let _=0;_<d;++_){const m=s[_],y=this.coordinates.length,v=this.appendFlatLineCoordinates(t,n,m,r,!0,!h),x=[ht.MOVE_TO_LINE_TO,y,v];this.instructions.push(x),this.hitDetectionInstructions.push(x),h&&(this.instructions.push(oy),this.hitDetectionInstructions.push(oy)),n=m}return c&&(this.instructions.push(hu),this.hitDetectionInstructions.push(hu)),h&&(this.instructions.push(us),this.hitDetectionInstructions.push(us)),n}drawCircle(t,n,s){const r=this.state,o=r.fillStyle,c=r.strokeStyle;if(o===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([ht.SET_FILL_STYLE,He]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ht.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,wi,bi]);const h=t.getFlatCoordinates(),d=t.getStride(),_=this.coordinates.length;this.appendFlatLineCoordinates(h,0,h.length,d,!1,!1);const m=[ht.CIRCLE,_];this.instructions.push(Ps,m),this.hitDetectionInstructions.push(Ps,m),r.fillStyle!==void 0&&(this.instructions.push(hu),this.hitDetectionInstructions.push(hu)),r.strokeStyle!==void 0&&(this.instructions.push(us),this.hitDetectionInstructions.push(us)),this.endGeometry(n)}drawPolygon(t,n,s){const r=this.state,o=r.fillStyle,c=r.strokeStyle;if(o===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([ht.SET_FILL_STYLE,He]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ht.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,wi,bi]);const h=t.getEnds(),d=t.getOrientedFlatCoordinates(),_=t.getStride();this.drawFlatCoordinatess_(d,0,h,_),this.endGeometry(n)}drawMultiPolygon(t,n,s){const r=this.state,o=r.fillStyle,c=r.strokeStyle;if(o===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([ht.SET_FILL_STYLE,He]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ht.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,wi,bi]);const h=t.getEndss(),d=t.getOrientedFlatCoordinates(),_=t.getStride();let m=0;for(let y=0,v=h.length;y<v;++y)m=this.drawFlatCoordinatess_(d,m,h[y],_);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(t!==0){const n=this.coordinates;for(let s=0,r=n.length;s<r;++s)n[s]=js(n[s],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;t.fillStyle!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)}}function jS(l,t,n,s,r){const o=[];let c=n,h=0,d=t.slice(n,2);for(;h<l&&c+r<s;){const[_,m]=d.slice(-2),y=t[c+r],v=t[c+r+1],x=Math.sqrt((y-_)*(y-_)+(v-m)*(v-m));if(h+=x,h>=l){const S=(l-h+x)/x,w=En(_,y,S),T=En(m,v,S);d.push(w,T),o.push(d),d=[w,T],h==l&&(c+=r),h=0}else if(h<l)d.push(t[c+r],t[c+r+1]),c+=r;else{const S=x-h,w=En(_,y,S/x),T=En(m,v,S/x);d.push(w,T),o.push(d),d=[w,T],h=0,c+=r}}return h>0&&o.push(d),o}function HS(l,t,n,s,r){let o=n,c=n,h=0,d=0,_=n,m,y,v,x,S,w,T,b,D,G;for(y=n;y<s;y+=r){const I=t[y],O=t[y+1];S!==void 0&&(D=I-S,G=O-w,x=Math.sqrt(D*D+G*G),T!==void 0&&(d+=v,m=Math.acos((T*D+b*G)/(v*x)),m>l&&(d>h&&(h=d,o=_,c=y),d=0,_=y-r)),v=x,T=D,b=G),S=I,w=O}return d+=x,d>h?[_,y]:[o,c]}const Cu={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class ZS extends jr{constructor(t,n,s,r){super(t,n,s,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[He]={fillStyle:He},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,n,s){const r=this.textFillState_,o=this.textStrokeState_,c=this.textState_;if(this.text_===""||!c||!r&&!o)return;const h=this.coordinates;let d=h.length;const _=t.getType();let m=null,y=t.getStride();if(c.placement==="line"&&(_=="LineString"||_=="MultiLineString"||_=="Polygon"||_=="MultiPolygon")){if(!qe(this.maxExtent,t.getExtent()))return;let v;if(m=t.getFlatCoordinates(),_=="LineString")v=[m.length];else if(_=="MultiLineString")v=t.getEnds();else if(_=="Polygon")v=t.getEnds().slice(0,1);else if(_=="MultiPolygon"){const T=t.getEndss();v=[];for(let b=0,D=T.length;b<D;++b)v.push(T[b][0])}this.beginGeometry(t,n,s);const x=c.repeat,S=x?void 0:c.textAlign;let w=0;for(let T=0,b=v.length;T<b;++T){let D;x?D=jS(x*this.resolution,m,w,v[T],y):D=[m.slice(w,v[T])];for(let G=0,I=D.length;G<I;++G){const O=D[G];let q=0,K=O.length;if(S==null){const U=HS(c.maxAngle,O,0,O.length,2);q=U[0],K=U[1]}for(let U=q;U<K;U+=y)h.push(O[U],O[U+1]);const Z=h.length;w=v[T],this.drawChars_(d,Z),d=Z}}this.endGeometry(n)}else{let v=c.overflow?null:[];switch(_){case"Point":case"MultiPoint":m=t.getFlatCoordinates();break;case"LineString":m=t.getFlatMidpoint();break;case"Circle":m=t.getCenter();break;case"MultiLineString":m=t.getFlatMidpoints(),y=2;break;case"Polygon":m=t.getFlatInteriorPoint(),c.overflow||v.push(m[2]/this.resolution),y=3;break;case"MultiPolygon":const I=t.getFlatInteriorPoints();m=[];for(let O=0,q=I.length;O<q;O+=3)c.overflow||v.push(I[O+2]/this.resolution),m.push(I[O],I[O+1]);if(m.length===0)return;y=2;break}const x=this.appendFlatPointCoordinates(m,y);if(x===d)return;if(v&&(x-d)/2!==m.length/y){let I=d/2;v=v.filter((O,q)=>{const K=h[(I+q)*2]===m[q*y]&&h[(I+q)*2+1]===m[q*y+1];return K||--I,K})}this.saveTextStates_();const S=c.backgroundFill?this.createFill(this.fillStyleToState(c.backgroundFill)):null,w=c.backgroundStroke?this.createStroke(this.strokeStyleToState(c.backgroundStroke)):null;this.beginGeometry(t,n,s);let T=c.padding;if(T!=qs&&(c.scale[0]<0||c.scale[1]<0)){let I=c.padding[0],O=c.padding[1],q=c.padding[2],K=c.padding[3];c.scale[0]<0&&(O=-O,K=-K),c.scale[1]<0&&(I=-I,q=-q),T=[I,O,q,K]}const b=this.pixelRatio;this.instructions.push([ht.DRAW_IMAGE,d,x,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,T==qs?qs:T.map(function(I){return I*b}),S,w,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,v]);const D=1/b,G=S?S.slice(0):null;G&&(G[1]=He),this.hitDetectionInstructions.push([ht.DRAW_IMAGE,d,x,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[D,D],NaN,this.declutterMode_,this.declutterImageWithText_,T,G,w,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?He:this.fillKey_,this.textOffsetX_,this.textOffsetY_,v]),this.endGeometry(n)}}saveTextStates_(){const t=this.textStrokeState_,n=this.textState_,s=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const o=this.textKey_;o in this.textStates||(this.textStates[o]={font:n.font,textAlign:n.textAlign||Gr,justify:n.justify,textBaseline:n.textBaseline||Tu,scale:n.scale});const c=this.fillKey_;s&&(c in this.fillStates||(this.fillStates[c]={fillStyle:s.fillStyle}))}drawChars_(t,n){const s=this.textStrokeState_,r=this.textState_,o=this.strokeKey_,c=this.textKey_,h=this.fillKey_;this.saveTextStates_();const d=this.pixelRatio,_=Cu[r.textBaseline],m=this.textOffsetY_*d,y=this.text_,v=s?s.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([ht.DRAW_CHARS,t,n,_,r.overflow,h,r.maxAngle,d,m,o,v*d,y,c,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([ht.DRAW_CHARS,t,n,_,r.overflow,h&&He,r.maxAngle,d,m,o,v*d,y,c,1/d,this.declutterMode_,this.textKeepUpright_])}setTextStyle(t,n){let s,r,o;if(!t)this.text_="";else{const c=t.getFill();c?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=Jn(c.getColor()||He)):(r=null,this.textFillState_=r);const h=t.getStroke();if(!h)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);const w=h.getLineDash(),T=h.getLineDashOffset(),b=h.getWidth(),D=h.getMiterLimit();o.lineCap=h.getLineCap()||ua,o.lineDash=w?w.slice():wi,o.lineDashOffset=T===void 0?bi:T,o.lineJoin=h.getLineJoin()||ca,o.lineWidth=b===void 0?Ur:b,o.miterLimit=D===void 0?zr:D,o.strokeStyle=Jn(h.getColor()||Nr)}s=this.textState_;const d=t.getFont()||S1;hS(d);const _=t.getScaleArray();s.overflow=t.getOverflow(),s.font=d,s.maxAngle=t.getMaxAngle(),s.placement=t.getPlacement(),s.textAlign=t.getTextAlign(),s.repeat=t.getRepeat(),s.justify=t.getJustify(),s.textBaseline=t.getTextBaseline()||Tu,s.backgroundFill=t.getBackgroundFill(),s.backgroundStroke=t.getBackgroundStroke(),s.padding=t.getPadding()||qs,s.scale=_===void 0?[1,1]:_;const m=t.getOffsetX(),y=t.getOffsetY(),v=t.getRotateWithView(),x=t.getKeepUpright(),S=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=m===void 0?0:m,this.textOffsetY_=y===void 0?0:y,this.textRotateWithView_=v===void 0?!1:v,this.textKeepUpright_=x===void 0?!0:x,this.textRotation_=S===void 0?0:S,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:Gt(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=s.font+s.scale+(s.textAlign||"?")+(s.repeat||"?")+(s.justify||"?")+(s.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+Gt(r.fillStyle):""}this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}const qS={Circle:uy,Default:jr,Image:FS,LineString:BS,Polygon:uy,Text:ZS};class PS{constructor(t,n,s,r){this.tolerance_=t,this.maxExtent_=n,this.pixelRatio_=r,this.resolution_=s,this.buildersByZIndex_={}}finish(){const t={};for(const n in this.buildersByZIndex_){t[n]=t[n]||{};const s=this.buildersByZIndex_[n];for(const r in s){const o=s[r].finish();t[n][r]=o}}return t}getBuilder(t,n){const s=t!==void 0?t.toString():"0";let r=this.buildersByZIndex_[s];r===void 0&&(r={},this.buildersByZIndex_[s]=r);let o=r[n];if(o===void 0){const c=qS[n];o=new c(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[n]=o}return o}}function VS(l,t,n,s,r,o,c,h,d,_,m,y,v=!0){let x=l[t],S=l[t+1],w=0,T=0,b=0,D=0;function G(){w=x,T=S,t+=s,x=l[t],S=l[t+1],D+=b,b=Math.sqrt((x-w)*(x-w)+(S-T)*(S-T))}do G();while(t<n-s&&D+b<o);let I=b===0?0:(o-D)/b;const O=En(w,x,I),q=En(T,S,I),K=t-s,Z=D,U=o+h*d(_,r,m);for(;t<n-s&&D+b<U;)G();I=b===0?0:(U-D)/b;const V=En(w,x,I),st=En(T,S,I);let lt=!1;if(v)if(y){const J=[O,q,V,st];i1(J,0,4,2,y,J,J),lt=J[0]>J[2]}else lt=O>V;const ot=Math.PI,tt=[],gt=K+s===t;t=K,b=0,D=Z,x=l[t],S=l[t+1];let Y;if(gt){G(),Y=Math.atan2(S-T,x-w),lt&&(Y+=Y>0?-ot:ot);const J=(V+O)/2,W=(st+q)/2;return tt[0]=[J,W,(U-o)/2,Y,r],tt}r=r.replace(/\n/g," ");for(let J=0,W=r.length;J<W;){G();let nt=Math.atan2(S-T,x-w);if(lt&&(nt+=nt>0?-ot:ot),Y!==void 0){let at=nt-Y;if(at+=at>ot?-2*ot:at<-ot?2*ot:0,Math.abs(at)>c)return null}Y=nt;const C=J;let X=0;for(;J<W;++J){const at=lt?W-J-1:J,ct=h*d(_,r[at],m);if(t+s<n&&D+b<o+X+ct/2)break;X+=ct}if(J===C)continue;const k=lt?r.substring(W-C,W-J):r.substring(C,J);I=b===0?0:(o+X/2-D)/b;const et=En(w,x,I),$=En(T,S,I);tt.push([et,$,X/2,nt,k]),o+=X}return tt}class O1{constructor(){f0(this,"pushMethodArgs_",(...t)=>(this.instructions_[this.zIndex+this.offset_].push(t),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Su(),{get:(t,n)=>{if(typeof Su()[n]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n),this.pushMethodArgs_},set:(t,n,s)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n,s),!0)})}pushFunction(t){this.instructions_[this.zIndex+this.offset_].push(t)}getContext(){return this.context_}draw(t){this.instructions_.forEach(n=>{for(let s=0,r=n.length;s<r;++s){const o=n[s];if(typeof o=="function"){o(t);continue}const c=n[++s];if(typeof t[o]=="function")t[o](...c);else{if(typeof c=="function"){t[o]=c(t);continue}t[o]=c}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const Xl=Rn(),es=[],Ei=[],xi=[],ns=[];function cy(l){return l[3].declutterBox}const hy=new RegExp("[-----]");function vf(l,t){return t==="start"?t=hy.test(l)?"right":"left":t==="end"&&(t=hy.test(l)?"left":"right"),Cu[t]}function KS(l,t,n){return n>0&&l.push(`
`,""),l.push(t,""),l}class WS{constructor(t,n,s,r,o){this.overlaps=s,this.pixelRatio=n,this.resolution=t,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=Gn(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=o?new O1:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,n,s,r){const o=t+n+s+r;if(this.labels_[o])return this.labels_[o];const c=r?this.strokeStates[r]:null,h=s?this.fillStates[s]:null,d=this.textStates[n],_=this.pixelRatio,m=[d.scale[0]*_,d.scale[1]*_],y=d.justify?Cu[d.justify]:vf(Array.isArray(t)?t[0]:t,d.textAlign||Gr),v=r&&c.lineWidth?c.lineWidth:0,x=Array.isArray(t)?t:String(t).split(`
`).reduce(KS,[]),{width:S,height:w,widths:T,heights:b,lineWidths:D}=dS(d,x),G=S+v,I=[],O=(G+2)*m[0],q=(w+v)*m[1],K={width:O<0?Math.floor(O):Math.ceil(O),height:q<0?Math.floor(q):Math.ceil(q),contextInstructions:I};(m[0]!=1||m[1]!=1)&&I.push("scale",m),r&&(I.push("strokeStyle",c.strokeStyle),I.push("lineWidth",v),I.push("lineCap",c.lineCap),I.push("lineJoin",c.lineJoin),I.push("miterLimit",c.miterLimit),I.push("setLineDash",[c.lineDash]),I.push("lineDashOffset",c.lineDashOffset)),s&&I.push("fillStyle",h.fillStyle),I.push("textBaseline","middle"),I.push("textAlign","center");const Z=.5-y;let U=y*G+Z*v;const V=[],st=[];let lt=0,ot=0,tt=0,gt=0,Y;for(let J=0,W=x.length;J<W;J+=2){const nt=x[J];if(nt===`
`){ot+=lt,lt=0,U=y*G+Z*v,++gt;continue}const C=x[J+1]||d.font;C!==Y&&(r&&V.push("font",C),s&&st.push("font",C),Y=C),lt=Math.max(lt,b[tt]);const X=[nt,U+Z*T[tt]+y*(T[tt]-D[gt]),.5*(v+lt)+ot];U+=T[tt],r&&V.push("strokeText",X),s&&st.push("fillText",X),++tt}return Array.prototype.push.apply(I,V),Array.prototype.push.apply(I,st),this.labels_[o]=K,K}replayTextBackground_(t,n,s,r,o,c,h){t.beginPath(),t.moveTo.apply(t,n),t.lineTo.apply(t,s),t.lineTo.apply(t,r),t.lineTo.apply(t,o),t.lineTo.apply(t,n),c&&(this.alignAndScaleFill_=c[2],t.fillStyle=c[1],this.fill_(t)),h&&(this.setStrokeStyle_(t,h),t.stroke())}calculateImageOrLabelDimensions_(t,n,s,r,o,c,h,d,_,m,y,v,x,S,w,T){h*=v[0],d*=v[1];let b=s-h,D=r-d;const G=o+_>t?t-_:o,I=c+m>n?n-m:c,O=S[3]+G*v[0]+S[1],q=S[0]+I*v[1]+S[2],K=b-S[3],Z=D-S[0];(w||y!==0)&&(es[0]=K,ns[0]=K,es[1]=Z,Ei[1]=Z,Ei[0]=K+O,xi[0]=Ei[0],xi[1]=Z+q,ns[1]=xi[1]);let U;return y!==0?(U=Mi(Gn(),s,r,1,1,y,-s,-r),me(U,es),me(U,Ei),me(U,xi),me(U,ns),fs(Math.min(es[0],Ei[0],xi[0],ns[0]),Math.min(es[1],Ei[1],xi[1],ns[1]),Math.max(es[0],Ei[0],xi[0],ns[0]),Math.max(es[1],Ei[1],xi[1],ns[1]),Xl)):fs(Math.min(K,K+O),Math.min(Z,Z+q),Math.max(K,K+O),Math.max(Z,Z+q),Xl),x&&(b=Math.round(b),D=Math.round(D)),{drawImageX:b,drawImageY:D,drawImageW:G,drawImageH:I,originX:_,originY:m,declutterBox:{minX:Xl[0],minY:Xl[1],maxX:Xl[2],maxY:Xl[3],value:T},canvasTransform:U,scale:v}}replayImageOrLabel_(t,n,s,r,o,c,h){const d=!!(c||h),_=r.declutterBox,m=h?h[2]*r.scale[0]/2:0;return _.minX-m<=n[0]&&_.maxX+m>=0&&_.minY-m<=n[1]&&_.maxY+m>=0&&(d&&this.replayTextBackground_(t,es,Ei,xi,ns,c,h),gS(t,r.canvasTransform,o,s,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(t){const n=this.alignAndScaleFill_;if(n){const s=me(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.save(),t.translate(s[0]%r,s[1]%r),n!==1&&t.scale(n,n),t.rotate(this.viewRotation_)}t.fill(),n&&t.restore()}setStrokeStyle_(t,n){t.strokeStyle=n[1],t.lineWidth=n[2],t.lineCap=n[3],t.lineJoin=n[4],t.miterLimit=n[5],t.lineDashOffset=n[7],t.setLineDash(n[6])}drawLabelWithPointPlacement_(t,n,s,r){const o=this.textStates[n],c=this.createLabel(t,n,r,s),h=this.strokeStates[s],d=this.pixelRatio,_=vf(Array.isArray(t)?t[0]:t,o.textAlign||Gr),m=Cu[o.textBaseline||Tu],y=h&&h.lineWidth?h.lineWidth:0,v=c.width/d-2*o.scale[0],x=_*v+2*(.5-_)*y,S=m*c.height/d+2*(.5-m)*y;return{label:c,anchorX:x,anchorY:S}}execute_(t,n,s,r,o,c,h,d){const _=this.zIndexContext_;let m;this.pixelCoordinates_&&gs(s,this.renderedTransform_)?m=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),m=hs(this.coordinates,0,this.coordinates.length,2,s,this.pixelCoordinates_),Rx(this.renderedTransform_,s));let y=0;const v=r.length;let x=0,S,w,T,b,D,G,I,O,q,K,Z,U,V,st=0,lt=0;const ot=this.coordinateCache_,tt=this.viewRotation_,gt=Math.round(Math.atan2(-s[1],s[0])*1e12)/1e12,Y={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:tt},J=this.instructions!=r||this.overlaps?0:200;let W,nt,C,X;for(;y<v;){const k=r[y];switch(k[0]){case ht.BEGIN_GEOMETRY:W=k[1],X=k[3],W.getGeometry()?h!==void 0&&!qe(h,X.getExtent())?y=k[2]+1:++y:y=k[2],_&&(_.zIndex=k[4]);break;case ht.BEGIN_PATH:st>J&&(this.fill_(t),st=0),lt>J&&(t.stroke(),lt=0),!st&&!lt&&(t.beginPath(),D=NaN,G=NaN),++y;break;case ht.CIRCLE:x=k[1];const $=m[x],at=m[x+1],ct=m[x+2],Ut=m[x+3],mt=ct-$,Xt=Ut-at,vt=Math.sqrt(mt*mt+Xt*Xt);t.moveTo($+vt,at),t.arc($,at,vt,0,2*Math.PI,!0),++y;break;case ht.CLOSE_PATH:t.closePath(),++y;break;case ht.CUSTOM:x=k[1],S=k[2];const Le=k[3],kn=k[4],We=k[5];Y.geometry=Le,Y.feature=W,y in ot||(ot[y]=[]);const Qe=ot[y];We?We(m,x,S,2,Qe):(Qe[0]=m[x],Qe[1]=m[x+1],Qe.length=2),_&&(_.zIndex=k[6]),kn(Qe,Y),++y;break;case ht.DRAW_IMAGE:x=k[1],S=k[2],q=k[3],w=k[4],T=k[5];let Yn=k[6];const pe=k[7],Ye=k[8],Cn=k[9],wn=k[10];let Xn=k[11];const ti=k[12];let bn=k[13];b=k[14]||"declutter";const ei=k[15];if(!q&&k.length>=20){K=k[19],Z=k[20],U=k[21],V=k[22];const ue=this.drawLabelWithPointPlacement_(K,Z,U,V);q=ue.label,k[3]=q;const ni=k[23];w=(ue.anchorX-ni)*this.pixelRatio,k[4]=w;const Ie=k[24];T=(ue.anchorY-Ie)*this.pixelRatio,k[5]=T,Yn=q.height,k[6]=Yn,bn=q.width,k[13]=bn}let jt;k.length>25&&(jt=k[25]);let ma,_s,ms;k.length>17?(ma=k[16],_s=k[17],ms=k[18]):(ma=qs,_s=null,ms=null),wn&&gt?Xn+=tt:!wn&&!gt&&(Xn-=tt);let nl=0;for(;x<S;x+=2){if(jt&&jt[nl++]<bn/this.pixelRatio)continue;const ue=this.calculateImageOrLabelDimensions_(q.width,q.height,m[x],m[x+1],bn,Yn,w,T,Ye,Cn,Xn,ti,o,ma,!!_s||!!ms,W),ni=[t,n,q,ue,pe,_s,ms];if(d){let Ie,Je,Ce;if(ei){const Pt=S-x;if(!ei[Pt]){ei[Pt]={args:ni,declutterMode:b};continue}const ce=ei[Pt];Ie=ce.args,Je=ce.declutterMode,delete ei[Pt],Ce=cy(Ie)}let ze,An;if(Ie&&(Je!=="declutter"||!d.collides(Ce))&&(ze=!0),(b!=="declutter"||!d.collides(ue.declutterBox))&&(An=!0),Je==="declutter"&&b==="declutter"){const Pt=ze&&An;ze=Pt,An=Pt}ze&&(Je!=="none"&&d.insert(Ce),this.replayImageOrLabel_.apply(this,Ie)),An&&(b!=="none"&&d.insert(ue.declutterBox),this.replayImageOrLabel_.apply(this,ni))}else this.replayImageOrLabel_.apply(this,ni)}++y;break;case ht.DRAW_CHARS:const Pr=k[1],ya=k[2],pa=k[3],Ku=k[4];V=k[5];const ys=k[6],Te=k[7],Vr=k[8];U=k[9];const ln=k[10];K=k[11],Z=k[12];const Re=[k[13],k[13]];b=k[14]||"declutter";const Wu=k[15],va=this.textStates[Z],ps=va.font,Fn=[va.scale[0]*Te,va.scale[1]*Te];let Bn;ps in this.widths_?Bn=this.widths_[ps]:(Bn={},this.widths_[ps]=Bn);const jn=Px(m,Pr,ya,2),vs=Math.abs(Fn[0])*Q0(ps,K,Bn);if(Ku||vs<=jn){const ue=this.textStates[Z].textAlign,ni=(jn-vs)*vf(K,ue),Ie=VS(m,Pr,ya,2,K,ni,ys,Math.abs(Fn[0]),Q0,ps,Bn,gt?0:this.viewRotation_,Wu);t:if(Ie){const Je=[];let Ce,ze,An,Pt,ce;if(U)for(Ce=0,ze=Ie.length;Ce<ze;++Ce){ce=Ie[Ce],An=ce[4],Pt=this.createLabel(An,Z,"",U),w=ce[2]+(Fn[0]<0?-ln:ln),T=pa*Pt.height+(.5-pa)*2*ln*Fn[1]/Fn[0]-Vr;const an=this.calculateImageOrLabelDimensions_(Pt.width,Pt.height,ce[0],ce[1],Pt.width,Pt.height,w,T,0,0,ce[3],Re,!1,qs,!1,W);if(d&&b==="declutter"&&d.collides(an.declutterBox))break t;Je.push([t,n,Pt,an,1,null,null])}if(V)for(Ce=0,ze=Ie.length;Ce<ze;++Ce){ce=Ie[Ce],An=ce[4],Pt=this.createLabel(An,Z,V,""),w=ce[2],T=pa*Pt.height-Vr;const an=this.calculateImageOrLabelDimensions_(Pt.width,Pt.height,ce[0],ce[1],Pt.width,Pt.height,w,T,0,0,ce[3],Re,!1,qs,!1,W);if(d&&b==="declutter"&&d.collides(an.declutterBox))break t;Je.push([t,n,Pt,an,1,null,null])}d&&b!=="none"&&d.load(Je.map(cy));for(let an=0,Kr=Je.length;an<Kr;++an)this.replayImageOrLabel_.apply(this,Je[an])}}++y;break;case ht.END_GEOMETRY:if(c!==void 0){W=k[1];const ue=c(W,X,b);if(ue)return ue}++y;break;case ht.FILL:J?st++:this.fill_(t),++y;break;case ht.MOVE_TO_LINE_TO:for(x=k[1],S=k[2],nt=m[x],C=m[x+1],t.moveTo(nt,C),D=nt+.5|0,G=C+.5|0,x+=2;x<S;x+=2)nt=m[x],C=m[x+1],I=nt+.5|0,O=C+.5|0,(x==S-2||I!==D||O!==G)&&(t.lineTo(nt,C),D=I,G=O);++y;break;case ht.SET_FILL_STYLE:this.alignAndScaleFill_=k[2],st&&(this.fill_(t),st=0,lt&&(t.stroke(),lt=0)),t.fillStyle=k[1],++y;break;case ht.SET_STROKE_STYLE:lt&&(t.stroke(),lt=0),this.setStrokeStyle_(t,k),++y;break;case ht.STROKE:J?lt++:t.stroke(),++y;break;default:++y;break}}st&&this.fill_(t),lt&&t.stroke()}execute(t,n,s,r,o,c){this.viewRotation_=r,this.execute_(t,n,s,this.instructions,o,void 0,void 0,c)}executeHitDetection(t,n,s,r,o){return this.viewRotation_=s,this.execute_(t,[t.canvas.width,t.canvas.height],n,this.hitDetectionInstructions,!0,r,o)}}const Ql=["Polygon","Circle","LineString","Image","Text","Default"],L1=["Image","Text"],QS=Ql.filter(l=>!L1.includes(l));class JS{constructor(t,n,s,r,o,c,h){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=s,this.resolution_=n,this.renderBuffer_=c,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Gn(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(o,h)}clip(t,n){const s=this.getClipCoords(n);t.beginPath(),t.moveTo(s[0],s[1]),t.lineTo(s[2],s[3]),t.lineTo(s[4],s[5]),t.lineTo(s[6],s[7]),t.clip()}createExecutors_(t,n){for(const s in t){let r=this.executorsByZIndex_[s];r===void 0&&(r={},this.executorsByZIndex_[s]=r);const o=t[s];for(const c in o){const h=o[c];r[c]=new WS(this.resolution_,this.pixelRatio_,this.overlaps_,h,n)}}}hasExecutors(t){for(const n in this.executorsByZIndex_){const s=this.executorsByZIndex_[n];for(let r=0,o=t.length;r<o;++r)if(t[r]in s)return!0}return!1}forEachFeatureAtCoordinate(t,n,s,r,o,c){r=Math.round(r);const h=r*2+1,d=Mi(this.hitDetectionTransform_,r+.5,r+.5,1/n,-1/n,-s,-t[0],-t[1]),_=!this.hitDetectionContext_;_&&(this.hitDetectionContext_=ye(h,h,void 0,{willReadFrequently:!0}));const m=this.hitDetectionContext_;m.canvas.width!==h||m.canvas.height!==h?(m.canvas.width=h,m.canvas.height=h):_||m.clearRect(0,0,h,h);let y;this.renderBuffer_!==void 0&&(y=Rn(),wr(y,t),nd(y,n*(this.renderBuffer_+r),y));const v=$S(r);let x;function S(O,q,K){const Z=m.getImageData(0,0,h,h).data;for(let U=0,V=v.length;U<V;U++)if(Z[v[U]]>0){if(!c||K==="none"||x!=="Image"&&x!=="Text"||c.includes(O)){const st=(v[U]-3)/4,lt=r-st%h,ot=r-(st/h|0),tt=o(O,q,lt*lt+ot*ot);if(tt)return tt}m.clearRect(0,0,h,h);break}}const w=Object.keys(this.executorsByZIndex_).map(Number);w.sort(Ci);let T,b,D,G,I;for(T=w.length-1;T>=0;--T){const O=w[T].toString();for(D=this.executorsByZIndex_[O],b=Ql.length-1;b>=0;--b)if(x=Ql[b],G=D[x],G!==void 0&&(I=G.executeHitDetection(m,d,s,S,y),I))return I}}getClipCoords(t){const n=this.maxExtent_;if(!n)return null;const s=n[0],r=n[1],o=n[2],c=n[3],h=[s,r,s,c,o,c,o,r];return hs(h,0,8,2,t,h),h}isEmpty(){return la(this.executorsByZIndex_)}execute(t,n,s,r,o,c,h){const d=Object.keys(this.executorsByZIndex_).map(Number);d.sort(h?LE:Ci),c=c||Ql;const _=Ql.length;for(let m=0,y=d.length;m<y;++m){const v=d[m].toString(),x=this.executorsByZIndex_[v];for(let S=0,w=c.length;S<w;++S){const T=c[S],b=x[T];if(b!==void 0){const D=h===null?void 0:b.getZIndexContext(),G=D?D.getContext():t,I=this.maxExtent_&&T!=="Image"&&T!=="Text";if(I&&(G.save(),this.clip(G,s)),!D||T==="Text"||T==="Image"?b.execute(G,n,s,r,o,h):D.pushFunction(O=>b.execute(O,n,s,r,o,h)),I&&G.restore(),D){D.offset();const O=d[m]*_+S;this.deferredZIndexContexts_[O]||(this.deferredZIndexContexts_[O]=[]),this.deferredZIndexContexts_[O].push(D)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const t=this.deferredZIndexContexts_,n=Object.keys(t).map(Number).sort(Ci);for(let s=0,r=n.length;s<r;++s)t[n[s]].forEach(o=>{o.draw(this.renderedContext_),o.clear()}),t[n[s]].length=0}}const Ef={};function $S(l){if(Ef[l]!==void 0)return Ef[l];const t=l*2+1,n=l*l,s=new Array(n+1);for(let o=0;o<=l;++o)for(let c=0;c<=l;++c){const h=o*o+c*c;if(h>n)break;let d=s[h];d||(d=[],s[h]=d),d.push(((l+o)*t+(l+c))*4+3),o>0&&d.push(((l-o)*t+(l+c))*4+3),c>0&&(d.push(((l+o)*t+(l-c))*4+3),o>0&&d.push(((l-o)*t+(l-c))*4+3))}const r=[];for(let o=0,c=s.length;o<c;++o)s[o]&&r.push(...s[o]);return Ef[l]=r,r}function fy(l,t,n,s){return n!==void 0&&s!==void 0?[n/l,s/t]:n!==void 0?n/l:s!==void 0?s/t:1}let I1=class z1 extends Bu{constructor(t){t=t||{};const n=t.opacity!==void 0?t.opacity:1,s=t.rotation!==void 0?t.rotation:0,r=t.scale!==void 0?t.scale:1,o=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:n,rotation:s,scale:r,displacement:t.displacement!==void 0?t.displacement:[0,0],rotateWithView:o,declutterMode:t.declutterMode}),this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:"top-left",this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:"fraction",this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:"fraction",this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;const c=t.img!==void 0?t.img:null;let h=t.src;zt(!(h!==void 0&&c),"`image` and `src` cannot be provided at the same time"),(h===void 0||h.length===0)&&c&&(h=c.src||Gt(c)),zt(h!==void 0&&h.length>0,"A defined and non-empty `src` or `image` must be provided"),zt(!((t.width!==void 0||t.height!==void 0)&&t.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let d;if(t.src!==void 0?d=St.IDLE:c!==void 0&&("complete"in c?c.complete?d=c.src?St.LOADED:St.IDLE:d=St.LOADING:d=St.LOADED),this.color_=t.color!==void 0?oa(t.color):null,this.iconImage_=Sd(c,h,this.crossOrigin_,d,this.color_),this.offset_=t.offset!==void 0?t.offset:[0,0],this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:"top-left",this.origin_=null,this.size_=t.size!==void 0?t.size:null,this.initialOptions_,t.width!==void 0||t.height!==void 0){let _,m;if(t.size)[_,m]=t.size;else{const y=this.getImage(1);if(y.width&&y.height)_=y.width,m=y.height;else if(y instanceof HTMLImageElement){this.initialOptions_=t;const v=()=>{if(this.unlistenImageChange(v),!this.initialOptions_)return;const x=this.iconImage_.getSize();this.setScale(fy(x[0],x[1],t.width,t.height))};this.listenImageChange(v);return}}_!==void 0&&this.setScale(fy(_,m,t.width,t.height))}}clone(){let t,n,s;return this.initialOptions_?(n=this.initialOptions_.width,s=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new z1({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:n,height:s,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;t=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(t[0]*=r[0]),this.anchorYUnits_=="fraction"&&(t[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(t[0]=-t[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(t[1]=-t[1]+r[1])}this.normalizedAnchor_=t}const n=this.getDisplacement(),s=this.getScaleArray();return[t[0]-n[0]/s[0],t[1]+n[1]/s[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),s=this.iconImage_.getSize();if(!n||!s)return null;t=t.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(t[0]=s[0]-n[0]-t[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(t[1]=s[1]-n[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();if(this.size_)return this.size_[0]*t[0];if(this.iconImage_.getImageState()==St.LOADED)return this.iconImage_.getSize()[0]*t[0]}getHeight(){const t=this.getScaleArray();if(this.size_)return this.size_[1]*t[1];if(this.iconImage_.getImageState()==St.LOADED)return this.iconImage_.getSize()[1]*t[1]}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(pt.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(pt.CHANGE,t)}ready(){return this.iconImage_.ready()}};const Kn=.5;function t2(l,t,n,s,r,o,c,h,d){const _=r,m=l[0]*Kn,y=l[1]*Kn,v=ye(m,y);v.imageSmoothingEnabled=!1;const x=v.canvas,S=new mS(v,Kn,r,null,c,h,null),w=n.length,T=Math.floor((256*256*256-1)/w),b={};for(let G=1;G<=w;++G){const I=n[G-1],O=I.getStyleFunction()||s;if(!O)continue;let q=O(I,o);if(!q)continue;Array.isArray(q)||(q=[q]);const Z=(G*T).toString(16).padStart(7,"#00000");for(let U=0,V=q.length;U<V;++U){const st=q[U],lt=st.getGeometryFunction()(I);if(!lt||!qe(_,lt.getExtent()))continue;const ot=st.clone(),tt=ot.getFill();tt&&tt.setColor(Z);const gt=ot.getStroke();gt&&(gt.setColor(Z),gt.setLineDash(null)),ot.setText(void 0);const Y=st.getImage();if(Y){const C=Y.getImageSize();if(!C)continue;const X=ye(C[0],C[1],void 0,{alpha:!1}),k=X.canvas;X.fillStyle=Z,X.fillRect(0,0,k.width,k.height),ot.setImage(new I1({img:k,anchor:Y.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:Y.getOrigin(),opacity:1,size:Y.getSize(),scale:Y.getScale(),rotation:Y.getRotation(),rotateWithView:Y.getRotateWithView()}))}const J=ot.getZIndex()||0;let W=b[J];W||(W={},b[J]=W,W.Polygon=[],W.Circle=[],W.LineString=[],W.Point=[]);const nt=lt.getType();if(nt==="GeometryCollection"){const C=lt.getGeometriesArrayRecursive();for(let X=0,k=C.length;X<k;++X){const et=C[X];W[et.getType().replace("Multi","")].push(et,ot)}}else W[nt.replace("Multi","")].push(lt,ot)}}const D=Object.keys(b).map(Number).sort(Ci);for(let G=0,I=D.length;G<I;++G){const O=b[D[G]];for(const q in O){const K=O[q];for(let Z=0,U=K.length;Z<U;Z+=2){S.setStyle(K[Z+1]);for(let V=0,st=t.length;V<st;++V)S.setTransform(t[V]),S.drawGeometry(K[Z])}}}return v.getImageData(0,0,x.width,x.height)}function e2(l,t,n){const s=[];if(n){const r=Math.floor(Math.round(l[0])*Kn),o=Math.floor(Math.round(l[1])*Kn),c=(le(r,0,n.width-1)+le(o,0,n.height-1)*n.width)*4,h=n.data[c],d=n.data[c+1],m=n.data[c+2]+256*(d+256*h),y=Math.floor((256*256*256-1)/t.length);m&&m%y===0&&s.push(t[m/y-1])}return s}class N1 extends Di{constructor(t,n,s,r){super(t),this.inversePixelTransform=n,this.frameState=s,this.context=r}}const n2=5;class i2 extends Fr{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.staleKeys_=new Array,this.maxStaleKeys=n2}getStaleKeys(){return this.staleKeys_}prependStaleKey(t){this.staleKeys_.unshift(t),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(t){return Lt()}getData(t){return null}prepareFrame(t){return Lt()}renderFrame(t,n){return Lt()}forEachFeatureAtCoordinate(t,n,s,r,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const n=t.target;(n.getState()===St.LOADED||n.getState()===St.ERROR)&&this.renderIfReadyAndVisible()}loadImage(t){let n=t.getState();return n!=St.LOADED&&n!=St.ERROR&&t.addEventListener(pt.CHANGE,this.boundHandleImageChange_),n==St.IDLE&&(t.load(),n=t.getState()),n==St.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const dy=[];let Pl=null;function s2(){Pl=ye(1,1,void 0,{willReadFrequently:!0})}class G1 extends i2{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=Gn(),this.pixelTransform=Gn(),this.inversePixelTransform=Gn(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(t,n,s){Pl||s2(),Pl.clearRect(0,0,1,1);let r;try{Pl.drawImage(t,n,s,1,1,0,0,1,1),r=Pl.getImageData(0,0,1,1).data}catch{return Pl=null,null}return r}getBackground(t){let s=this.getLayer().getBackground();return typeof s=="function"&&(s=s(t.viewState.resolution)),s||void 0}useContainer(t,n,s){const r=this.getLayer().getClassName();let o,c;if(t&&t.className===r&&(!s||t&&t.style.backgroundColor&&gs(oa(t.style.backgroundColor),oa(s)))){const h=t.firstElementChild;h instanceof HTMLCanvasElement&&(c=h.getContext("2d"))}if(c&&c.canvas.style.transform===n?(this.container=t,this.context=c,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){o=document.createElement("div"),o.className=r;let h=o.style;h.position="absolute",h.width="100%",h.height="100%",c=ye();const d=c.canvas;o.appendChild(d),h=d.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=o,this.context=c}!this.containerReused&&s&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=s)}clipUnrotated(t,n,s){const r=tl(s),o=Gu(s),c=Nu(s),h=zu(s);me(n.coordinateToPixelTransform,r),me(n.coordinateToPixelTransform,o),me(n.coordinateToPixelTransform,c),me(n.coordinateToPixelTransform,h);const d=this.inversePixelTransform;me(d,r),me(d,o),me(d,c),me(d,h),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(c[0]),Math.round(c[1])),t.lineTo(Math.round(h[0]),Math.round(h[1])),t.clip()}prepareContainer(t,n){const s=t.extent,r=t.viewState.resolution,o=t.viewState.rotation,c=t.pixelRatio,h=Math.round(Yt(s)/r*c),d=Math.round(ke(s)/r*c);Mi(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/c,1/c,o,-h/2,-d/2),n1(this.inversePixelTransform,this.pixelTransform);const _=wx(this.pixelTransform);if(this.useContainer(n,_,this.getBackground(t)),!this.containerReused){const m=this.context.canvas;m.width!=h||m.height!=d?(m.width=h,m.height=d):this.context.clearRect(0,0,h,d),_!==m.style.transform&&(m.style.transform=_)}}dispatchRenderEvent_(t,n,s){const r=this.getLayer();if(r.hasListener(t)){const o=new N1(t,this.inversePixelTransform,s,n);r.dispatchEvent(o)}}preRender(t,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(xn.PRERENDER,t,n)}postRender(t,n){n.declutter||this.dispatchRenderEvent_(xn.POSTRENDER,t,n)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new O1),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(xn.PRERENDER,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(xn.POSTRENDER,this.context,t))}getRenderTransform(t,n,s,r,o,c,h){const d=o/2,_=c/2,m=r/n,y=-m,v=-t[0]+h,x=-t[1];return Mi(this.tempTransform,d,_,m,y,-s,v,x)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class l2 extends G1{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Rn(),this.wrappedRenderedExtent_=Rn(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(t,n,s){const r=n.extent,o=n.viewState,c=o.center,h=o.resolution,d=o.projection,_=o.rotation,m=d.getExtent(),y=this.getLayer().getSource(),v=this.getLayer().getDeclutter(),x=n.pixelRatio,S=n.viewHints,w=!(S[De.ANIMATING]||S[De.INTERACTING]),T=this.context,b=Math.round(Yt(r)/h*x),D=Math.round(ke(r)/h*x),G=y.getWrapX()&&d.canWrapX(),I=G?Yt(m):null,O=G?Math.ceil((r[2]-m[2])/I)+1:1;let q=G?Math.floor((r[0]-m[0])/I):0;do{let K=this.getRenderTransform(c,h,0,x,b,D,q*I);n.declutter&&(K=K.slice(0)),t.execute(T,[T.canvas.width,T.canvas.height],K,_,w,s===void 0?Ql:s?L1:QS,s?v&&n.declutter[v]:void 0)}while(++q<O)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=ye(this.context.canvas.width,this.context.canvas.height,dy))}resetDrawContext_(){if(this.opacity_!==1){const t=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=t,Xu(this.context),dy.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,t,!0)}renderDeferredInternal(t){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(t,n){const s=t.layerStatesArray[t.layerIndex];this.opacity_=s.opacity;const r=t.viewState;this.prepareContainer(t,n);const o=this.context,c=this.replayGroup_;let h=c&&!c.isEmpty();if(!h&&!(this.getLayer().hasListener(xn.PRERENDER)||this.getLayer().hasListener(xn.POSTRENDER)))return null;if(this.setDrawContext_(),this.preRender(o,t),r.projection,this.clipped_=!1,h&&s.extent&&this.clipping){const d=os(s.extent);h=qe(d,t.extent),this.clipped_=h&&!vr(d,t.extent),this.clipped_&&this.clipUnrotated(o,t,d)}return h&&this.renderWorlds(c,t,this.getLayer().getDeclutter()?!1:void 0),!t.declutter&&this.clipped_&&o.restore(),this.postRender(o,t),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),t.declutter||this.resetDrawContext_(),this.container}getFeatures(t){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const s=this.frameState.size.slice(),r=this.renderedCenter_,o=this.renderedResolution_,c=this.renderedRotation_,h=this.renderedProjection_,d=this.wrappedRenderedExtent_,_=this.getLayer(),m=[],y=s[0]*Kn,v=s[1]*Kn;m.push(this.getRenderTransform(r,o,c,Kn,y,v,0).slice());const x=_.getSource(),S=h.getExtent();if(x.getWrapX()&&h.canWrapX()&&!vr(S,d)){let w=d[0];const T=Yt(S);let b=0,D;for(;w<S[0];)--b,D=T*b,m.push(this.getRenderTransform(r,o,c,Kn,y,v,D).slice()),w+=T;for(b=0,w=d[2];w>S[2];)++b,D=T*b,m.push(this.getRenderTransform(r,o,c,Kn,y,v,D).slice()),w-=T}this.hitDetectionImageData_=t2(s,m,this.renderedFeatures_,_.getStyleFunction(),d,o,c,J0(o,this.renderedPixelRatio_))}n(e2(t,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(t,n,s,r,o){var v,x;if(!this.replayGroup_)return;const c=n.viewState.resolution,h=n.viewState.rotation,d=this.getLayer(),_={},m=function(S,w,T){const b=Gt(S),D=_[b];if(D){if(D!==!0&&T<D.distanceSq){if(T===0)return _[b]=!0,o.splice(o.lastIndexOf(D),1),r(S,d,w);D.geometry=w,D.distanceSq=T}}else{if(T===0)return _[b]=!0,r(S,d,w);o.push(_[b]={feature:S,layer:d,geometry:w,distanceSq:T,callback:r})}},y=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(t,c,h,s,m,y?(x=(v=n.declutter)==null?void 0:v[y])==null?void 0:x.all().map(S=>S.value):null)}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const n=this.getLayer(),s=n.getSource();if(!s)return!1;const r=t.viewHints[De.ANIMATING],o=t.viewHints[De.INTERACTING],c=n.getUpdateWhileAnimating(),h=n.getUpdateWhileInteracting();if(this.ready&&!c&&r||!h&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const d=t.extent,_=t.viewState,m=_.projection,y=_.resolution,v=t.pixelRatio,x=n.getRevision(),S=n.getRenderBuffer();let w=n.getRenderOrder();w===void 0&&(w=pS);const T=_.center.slice(),b=nd(d,S*y),D=b.slice(),G=[b.slice()],I=m.getExtent();if(s.getWrapX()&&m.canWrapX()&&!vr(I,t.extent)){const tt=Yt(I),gt=Math.max(Yt(b)/2,tt);b[0]=I[0]-gt,b[2]=I[2]+gt,Vy(T,m);const Y=Zy(G[0],m);Y[0]<I[0]&&Y[2]<I[2]?G.push([Y[0]+tt,Y[1],Y[2]+tt,Y[3]]):Y[0]>I[0]&&Y[2]>I[2]&&G.push([Y[0]-tt,Y[1],Y[2]-tt,Y[3]])}if(this.ready&&this.renderedResolution_==y&&this.renderedRevision_==x&&this.renderedRenderOrder_==w&&this.renderedFrameDeclutter_===!!t.declutter&&vr(this.wrappedRenderedExtent_,b))return gs(this.renderedExtent_,D)||(this.hitDetectionImageData_=null,this.renderedExtent_=D),this.renderedCenter_=T,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const O=new PS(C1(y,v),b,y,v);let q;for(let tt=0,gt=G.length;tt<gt;++tt)s.loadFeatures(G[tt],y,m);const K=J0(y,v);let Z=!0;const U=(tt,gt)=>{let Y;const J=tt.getStyleFunction()||n.getStyleFunction();if(J&&(Y=J(tt,y)),Y){const W=this.renderFeature(tt,K,Y,O,q,this.getLayer().getDeclutter(),gt);Z=Z&&!W}},V=e1(b),st=s.getFeaturesInExtent(V);w&&st.sort(w);for(let tt=0,gt=st.length;tt<gt;++tt)U(st[tt],tt);this.renderedFeatures_=st,this.ready=Z;const lt=O.finish(),ot=new JS(b,y,v,s.getOverlaps(),lt,n.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=y,this.renderedRevision_=x,this.renderedRenderOrder_=w,this.renderedFrameDeclutter_=!!t.declutter,this.renderedExtent_=D,this.wrappedRenderedExtent_=b,this.renderedCenter_=T,this.renderedProjection_=m,this.renderedPixelRatio_=v,this.replayGroup_=ot,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,n,s,r,o,c,h){if(!s)return!1;let d=!1;if(Array.isArray(s))for(let _=0,m=s.length;_<m;++_)d=$0(r,t,s[_],n,this.boundHandleStyleImageChange_,o,c,h)||d;else d=$0(r,t,s,n,this.boundHandleStyleImageChange_,o,c,h);return d}}let el=0;const Ue=1<<el++,At=1<<el++,Ze=1<<el++,Nn=1<<el++,$s=1<<el++,Sr=1<<el++,fu=Math.pow(2,el)-1,Cd={[Ue]:"boolean",[At]:"number",[Ze]:"string",[Nn]:"color",[$s]:"number[]",[Sr]:"size"},a2=Object.keys(Cd).map(Number).sort(Ci);function r2(l){return l in Cd}function Tr(l){const t=[];for(const n of a2)Rr(l,n)&&t.push(Cd[n]);return t.length===0?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function Rr(l,t){return(l&t)===t}function is(l,t){return l===t}class oe{constructor(t,n){if(!r2(t))throw new Error(`literal expressions must have a specific type, got ${Tr(t)}`);this.type=t,this.value=n}}class o2{constructor(t,n,...s){this.type=t,this.operator=n,this.args=s}}function U1(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function Se(l,t,n){switch(typeof l){case"boolean":{if(is(t,Ze))return new oe(Ze,l?"true":"false");if(!Rr(t,Ue))throw new Error(`got a boolean, but expected ${Tr(t)}`);return new oe(Ue,l)}case"number":{if(is(t,Sr))return new oe(Sr,Ve(l));if(is(t,Ue))return new oe(Ue,!!l);if(is(t,Ze))return new oe(Ze,l.toString());if(!Rr(t,At))throw new Error(`got a number, but expected ${Tr(t)}`);return new oe(At,l)}case"string":{if(is(t,Nn))return new oe(Nn,Ed(l));if(is(t,Ue))return new oe(Ue,!!l);if(!Rr(t,Ze))throw new Error(`got a string, but expected ${Tr(t)}`);return new oe(Ze,l)}}if(!Array.isArray(l))throw new Error("expression must be an array or a primitive value");if(l.length===0)throw new Error("empty expression");if(typeof l[0]=="string")return v2(l,t,n);for(const s of l)if(typeof s!="number")throw new Error("expected an array of numbers");if(is(t,Sr)){if(l.length!==2)throw new Error(`expected an array of two values for a size, got ${l.length}`);return new oe(Sr,l)}if(is(t,Nn)){if(l.length===3)return new oe(Nn,[...l,1]);if(l.length===4)return new oe(Nn,l);throw new Error(`expected an array of 3 or 4 values for a color, got ${l.length}`)}if(!Rr(t,$s))throw new Error(`got an array of numbers, but expected ${Tr(t)}`);return new oe($s,l)}const j={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},u2={[j.Get]:_t(xt(1,1/0),gy),[j.Var]:_t(xt(1,1),c2),[j.Has]:_t(xt(1,1/0),gy),[j.Id]:_t(h2,Fl),[j.Concat]:_t(xt(2,1/0),Nt(Ze)),[j.GeometryType]:_t(f2,Fl),[j.LineMetric]:_t(Fl),[j.Resolution]:_t(xf,Fl),[j.Zoom]:_t(xf,Fl),[j.Time]:_t(xf,Fl),[j.Any]:_t(xt(2,1/0),Nt(Ue)),[j.All]:_t(xt(2,1/0),Nt(Ue)),[j.Not]:_t(xt(1,1),Nt(Ue)),[j.Equal]:_t(xt(2,2),Nt(fu)),[j.NotEqual]:_t(xt(2,2),Nt(fu)),[j.GreaterThan]:_t(xt(2,2),Nt(At)),[j.GreaterThanOrEqualTo]:_t(xt(2,2),Nt(At)),[j.LessThan]:_t(xt(2,2),Nt(At)),[j.LessThanOrEqualTo]:_t(xt(2,2),Nt(At)),[j.Multiply]:_t(xt(2,1/0),_y),[j.Coalesce]:_t(xt(2,1/0),_y),[j.Divide]:_t(xt(2,2),Nt(At)),[j.Add]:_t(xt(2,1/0),Nt(At)),[j.Subtract]:_t(xt(2,2),Nt(At)),[j.Clamp]:_t(xt(3,3),Nt(At)),[j.Mod]:_t(xt(2,2),Nt(At)),[j.Pow]:_t(xt(2,2),Nt(At)),[j.Abs]:_t(xt(1,1),Nt(At)),[j.Floor]:_t(xt(1,1),Nt(At)),[j.Ceil]:_t(xt(1,1),Nt(At)),[j.Round]:_t(xt(1,1),Nt(At)),[j.Sin]:_t(xt(1,1),Nt(At)),[j.Cos]:_t(xt(1,1),Nt(At)),[j.Atan]:_t(xt(1,2),Nt(At)),[j.Sqrt]:_t(xt(1,1),Nt(At)),[j.Match]:_t(xt(4,1/0),my,g2),[j.Between]:_t(xt(3,3),Nt(At)),[j.Interpolate]:_t(xt(6,1/0),my,_2),[j.Case]:_t(xt(3,1/0),d2,m2),[j.In]:_t(xt(2,2),y2),[j.Number]:_t(xt(1,1/0),Nt(fu)),[j.String]:_t(xt(1,1/0),Nt(fu)),[j.Array]:_t(xt(1,1/0),Nt(At)),[j.Color]:_t(xt(1,4),Nt(At)),[j.Band]:_t(xt(1,3),Nt(At)),[j.Palette]:_t(xt(2,2),p2),[j.ToString]:_t(xt(1,1),Nt(Ue|At|Ze|Nn))};function gy(l,t,n){const s=l.length-1,r=new Array(s);for(let o=0;o<s;++o){const c=l[o+1];switch(typeof c){case"number":{r[o]=new oe(At,c);break}case"string":{r[o]=new oe(Ze,c);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${c}`)}o===0&&n.properties.add(String(c))}return r}function c2(l,t,n){const s=l[1];if(typeof s!="string")throw new Error("expected a string argument for var operation");return n.variables.add(s),[new oe(Ze,s)]}function h2(l,t,n){n.featureId=!0}function f2(l,t,n){n.geometryType=!0}function xf(l,t,n){n.mapState=!0}function Fl(l,t,n){const s=l[0];if(l.length!==1)throw new Error(`expected no arguments for ${s} operation`);return[]}function xt(l,t){return function(n,s,r){const o=n[0],c=n.length-1;if(l===t){if(c!==l){const h=l===1?"":"s";throw new Error(`expected ${l} argument${h} for ${o}, got ${c}`)}}else if(c<l||c>t){const h=t===1/0?`${l} or more`:`${l} to ${t}`;throw new Error(`expected ${h} arguments for ${o}, got ${c}`)}}}function _y(l,t,n){const s=l.length-1,r=new Array(s);for(let o=0;o<s;++o){const c=Se(l[o+1],t,n);r[o]=c}return r}function Nt(l){return function(t,n,s){const r=t.length-1,o=new Array(r);for(let c=0;c<r;++c){const h=Se(t[c+1],l,s);o[c]=h}return o}}function d2(l,t,n){const s=l[0],r=l.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${s}, got ${r} instead`)}function my(l,t,n){const s=l[0],r=l.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${s}, got ${r} instead`)}function g2(l,t,n){const s=l.length-1,r=Ze|At|Ue,o=Se(l[1],r,n),c=Se(l[l.length-1],t,n),h=new Array(s-2);for(let d=0;d<s-2;d+=2){try{const _=Se(l[d+2],o.type,n);h[d]=_}catch(_){throw new Error(`failed to parse argument ${d+1} of match expression: ${_.message}`)}try{const _=Se(l[d+3],c.type,n);h[d+1]=_}catch(_){throw new Error(`failed to parse argument ${d+2} of match expression: ${_.message}`)}}return[o,...h,c]}function _2(l,t,n){const s=l[1];let r;switch(s[0]){case"linear":r=1;break;case"exponential":const d=s[1];if(typeof d!="number"||d<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(d)} instead`);r=d;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(s)}`)}const o=new oe(At,r);let c;try{c=Se(l[2],At,n)}catch(d){throw new Error(`failed to parse argument 1 in interpolate expression: ${d.message}`)}const h=new Array(l.length-3);for(let d=0;d<h.length;d+=2){try{const _=Se(l[d+3],At,n);h[d]=_}catch(_){throw new Error(`failed to parse argument ${d+2} for interpolate expression: ${_.message}`)}try{const _=Se(l[d+4],t,n);h[d+1]=_}catch(_){throw new Error(`failed to parse argument ${d+3} for interpolate expression: ${_.message}`)}}return[o,c,...h]}function m2(l,t,n){const s=Se(l[l.length-1],t,n),r=new Array(l.length-1);for(let o=0;o<r.length-1;o+=2){try{const c=Se(l[o+1],Ue,n);r[o]=c}catch(c){throw new Error(`failed to parse argument ${o} of case expression: ${c.message}`)}try{const c=Se(l[o+2],s.type,n);r[o+1]=c}catch(c){throw new Error(`failed to parse argument ${o+1} of case expression: ${c.message}`)}}return r[r.length-1]=s,r}function y2(l,t,n){let s=l[2];if(!Array.isArray(s))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof s[0]=="string"){if(s[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(s[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');s=s[1],r=Ze}else r=At;const o=new Array(s.length);for(let h=0;h<o.length;h++)try{const d=Se(s[h],r,n);o[h]=d}catch(d){throw new Error(`failed to parse haystack item ${h} for "in" expression: ${d.message}`)}return[Se(l[1],r,n),...o]}function p2(l,t,n){let s;try{s=Se(l[1],At,n)}catch(c){throw new Error(`failed to parse first argument in palette expression: ${c.message}`)}const r=l[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");const o=new Array(r.length);for(let c=0;c<o.length;c++){let h;try{h=Se(r[c],Nn,n)}catch(d){throw new Error(`failed to parse color at index ${c} in palette expression: ${d.message}`)}if(!(h instanceof oe))throw new Error(`the palette color at index ${c} must be a literal value`);o[c]=h}return[s,...o]}function _t(...l){return function(t,n,s){const r=t[0];let o;for(let c=0;c<l.length;c++){const h=l[c](t,n,s);if(c==l.length-1){if(!h)throw new Error("expected last argument validator to return the parsed args");o=h}}return new o2(n,r,...o)}}function v2(l,t,n){const s=l[0],r=u2[s];if(!r)throw new Error(`unknown operator: ${s}`);return r(l,t,n)}function k1(l){if(!l)return"";const t=l.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return k1(l.getGeometries()[0]);default:return""}}function Y1(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Oi(l,t,n){const s=Se(l,t,n);return Un(s)}function Un(l,t){if(l instanceof oe){if(l.type===Nn&&typeof l.value=="string"){const s=Ed(l.value);return function(){return s}}return function(){return l.value}}const n=l.operator;switch(n){case j.Number:case j.String:case j.Coalesce:return E2(l);case j.Get:case j.Var:case j.Has:return x2(l);case j.Id:return s=>s.featureId;case j.GeometryType:return s=>s.geometryType;case j.Concat:{const s=l.args.map(r=>Un(r));return r=>"".concat(...s.map(o=>o(r).toString()))}case j.Resolution:return s=>s.resolution;case j.Any:case j.All:case j.Between:case j.In:case j.Not:return T2(l);case j.Equal:case j.NotEqual:case j.LessThan:case j.LessThanOrEqualTo:case j.GreaterThan:case j.GreaterThanOrEqualTo:return S2(l);case j.Multiply:case j.Divide:case j.Add:case j.Subtract:case j.Clamp:case j.Mod:case j.Pow:case j.Abs:case j.Floor:case j.Ceil:case j.Round:case j.Sin:case j.Cos:case j.Atan:case j.Sqrt:return R2(l);case j.Case:return C2(l);case j.Match:return w2(l);case j.Interpolate:return b2(l);case j.ToString:return A2(l);default:throw new Error(`Unsupported operator ${n}`)}}function E2(l,t){const n=l.operator,s=l.args.length,r=new Array(s);for(let o=0;o<s;++o)r[o]=Un(l.args[o]);switch(n){case j.Coalesce:return o=>{for(let c=0;c<s;++c){const h=r[c](o);if(typeof h<"u"&&h!==null)return h}throw new Error("Expected one of the values to be non-null")};case j.Number:case j.String:return o=>{for(let c=0;c<s;++c){const h=r[c](o);if(typeof h===n)return h}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function x2(l,t){const s=l.args[0].value;switch(l.operator){case j.Get:return r=>{const o=l.args;let c=r.properties[s];for(let h=1,d=o.length;h<d;++h){const m=o[h].value;c=c[m]}return c};case j.Var:return r=>r.variables[s];case j.Has:return r=>{const o=l.args;if(!(s in r.properties))return!1;let c=r.properties[s];for(let h=1,d=o.length;h<d;++h){const m=o[h].value;if(!c||!Object.hasOwn(c,m))return!1;c=c[m]}return!0};default:throw new Error(`Unsupported accessor operator ${l.operator}`)}}function S2(l,t){const n=l.operator,s=Un(l.args[0]),r=Un(l.args[1]);switch(n){case j.Equal:return o=>s(o)===r(o);case j.NotEqual:return o=>s(o)!==r(o);case j.LessThan:return o=>s(o)<r(o);case j.LessThanOrEqualTo:return o=>s(o)<=r(o);case j.GreaterThan:return o=>s(o)>r(o);case j.GreaterThanOrEqualTo:return o=>s(o)>=r(o);default:throw new Error(`Unsupported comparison operator ${n}`)}}function T2(l,t){const n=l.operator,s=l.args.length,r=new Array(s);for(let o=0;o<s;++o)r[o]=Un(l.args[o]);switch(n){case j.Any:return o=>{for(let c=0;c<s;++c)if(r[c](o))return!0;return!1};case j.All:return o=>{for(let c=0;c<s;++c)if(!r[c](o))return!1;return!0};case j.Between:return o=>{const c=r[0](o),h=r[1](o),d=r[2](o);return c>=h&&c<=d};case j.In:return o=>{const c=r[0](o);for(let h=1;h<s;++h)if(c===r[h](o))return!0;return!1};case j.Not:return o=>!r[0](o);default:throw new Error(`Unsupported logical operator ${n}`)}}function R2(l,t){const n=l.operator,s=l.args.length,r=new Array(s);for(let o=0;o<s;++o)r[o]=Un(l.args[o]);switch(n){case j.Multiply:return o=>{let c=1;for(let h=0;h<s;++h)c*=r[h](o);return c};case j.Divide:return o=>r[0](o)/r[1](o);case j.Add:return o=>{let c=0;for(let h=0;h<s;++h)c+=r[h](o);return c};case j.Subtract:return o=>r[0](o)-r[1](o);case j.Clamp:return o=>{const c=r[0](o),h=r[1](o);if(c<h)return h;const d=r[2](o);return c>d?d:c};case j.Mod:return o=>r[0](o)%r[1](o);case j.Pow:return o=>Math.pow(r[0](o),r[1](o));case j.Abs:return o=>Math.abs(r[0](o));case j.Floor:return o=>Math.floor(r[0](o));case j.Ceil:return o=>Math.ceil(r[0](o));case j.Round:return o=>Math.round(r[0](o));case j.Sin:return o=>Math.sin(r[0](o));case j.Cos:return o=>Math.cos(r[0](o));case j.Atan:return s===2?o=>Math.atan2(r[0](o),r[1](o)):o=>Math.atan(r[0](o));case j.Sqrt:return o=>Math.sqrt(r[0](o));default:throw new Error(`Unsupported numeric operator ${n}`)}}function C2(l,t){const n=l.args.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=Un(l.args[r]);return r=>{for(let o=0;o<n-1;o+=2)if(s[o](r))return s[o+1](r);return s[n-1](r)}}function w2(l,t){const n=l.args.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=Un(l.args[r]);return r=>{const o=s[0](r);for(let c=1;c<n;c+=2)if(o===s[c](r))return s[c+1](r);return s[n-1](r)}}function b2(l,t){const n=l.args.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=Un(l.args[r]);return r=>{const o=s[0](r),c=s[1](r);let h,d;for(let _=2;_<n;_+=2){const m=s[_](r);let y=s[_+1](r);const v=Array.isArray(y);if(v&&(y=eS(y)),m>=c)return _===2?y:v?M2(o,c,h,d,m,y):Cr(o,c,h,d,m,y);h=m,d=y}return d}}function A2(l,t){const n=l.operator,s=l.args.length,r=new Array(s);for(let o=0;o<s;++o)r[o]=Un(l.args[o]);switch(n){case j.ToString:return o=>{const c=r[0](o);return l.args[0].type===Nn?xd(c):c.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function Cr(l,t,n,s,r,o){const c=r-n;if(c===0)return s;const h=t-n,d=l===1?h/c:(Math.pow(l,h)-1)/(Math.pow(l,c)-1);return s+d*(o-s)}function M2(l,t,n,s,r,o){if(r-n===0)return s;const h=P0(s),d=P0(o);let _=d[2]-h[2];_>180?_-=360:_<-180&&(_+=360);const m=[Cr(l,t,n,h[0],r,d[0]),Cr(l,t,n,h[1],r,d[1]),h[2]+Cr(l,t,n,0,r,_),Cr(l,t,n,s[3],r,o[3])];return p1(nS(m))}function D2(l){return!0}function O2(l){const t=U1(),n=L2(l,t),s=Y1();return function(r,o){if(s.properties=r.getPropertiesInternal(),s.resolution=o,t.featureId){const c=r.getId();c!==void 0?s.featureId=c:s.featureId=null}return t.geometryType&&(s.geometryType=k1(r.getGeometry())),n(s)}}function yy(l){const t=U1(),n=l.length,s=new Array(n);for(let c=0;c<n;++c)s[c]=jf(l[c],t);const r=Y1(),o=new Array(n);return function(c,h){if(r.properties=c.getPropertiesInternal(),r.resolution=h,t.featureId){const _=c.getId();_!==void 0?r.featureId=_:r.featureId=null}let d=0;for(let _=0;_<n;++_){const m=s[_](r);m&&(o[d]=m,d+=1)}return o.length=d,o}}function L2(l,t){const n=l.length,s=new Array(n);for(let r=0;r<n;++r){const o=l[r],c="filter"in o?Oi(o.filter,Ue,t):D2;let h;if(Array.isArray(o.style)){const d=o.style.length;h=new Array(d);for(let _=0;_<d;++_)h[_]=jf(o.style[_],t)}else h=[jf(o.style,t)];s[r]={filter:c,styles:h}}return function(r){const o=[];let c=!1;for(let h=0;h<n;++h){const d=s[h].filter;if(d(r)&&!(l[h].else&&c)){c=!0;for(const _ of s[h].styles){const m=_(r);m&&o.push(m)}}}return o}}function jf(l,t){const n=kr(l,"",t),s=Yr(l,"",t),r=I2(l,t),o=z2(l,t),c=Pe(l,"z-index",t);if(!n&&!s&&!r&&!o&&!la(l))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(l));const h=new Ai;return function(d){let _=!0;if(n){const m=n(d);m&&(_=!1),h.setFill(m)}if(s){const m=s(d);m&&(_=!1),h.setStroke(m)}if(r){const m=r(d);m&&(_=!1),h.setText(m)}if(o){const m=o(d);m&&(_=!1),h.setImage(m)}return c&&h.setZIndex(c(d)),_?null:h}}function kr(l,t,n){let s;if(t+"fill-pattern-src"in l)s=k2(l,t+"fill-",n);else{if(l[t+"fill-color"]==="none")return o=>null;s=wd(l,t+"fill-color",n)}if(!s)return null;const r=new Js;return function(o){const c=s(o);return c===vd?null:(r.setColor(c),r)}}function Yr(l,t,n){const s=Pe(l,t+"stroke-width",n),r=wd(l,t+"stroke-color",n);if(!s&&!r)return null;const o=Ri(l,t+"stroke-line-cap",n),c=Ri(l,t+"stroke-line-join",n),h=X1(l,t+"stroke-line-dash",n),d=Pe(l,t+"stroke-line-dash-offset",n),_=Pe(l,t+"stroke-miter-limit",n),m=new ha;return function(y){if(r){const v=r(y);if(v===vd)return null;m.setColor(v)}if(s&&m.setWidth(s(y)),o){const v=o(y);if(v!=="butt"&&v!=="round"&&v!=="square")throw new Error("Expected butt, round, or square line cap");m.setLineCap(v)}if(c){const v=c(y);if(v!=="bevel"&&v!=="round"&&v!=="miter")throw new Error("Expected bevel, round, or miter line join");m.setLineJoin(v)}return h&&m.setLineDash(h(y)),d&&m.setLineDashOffset(d(y)),_&&m.setMiterLimit(_(y)),m}}function I2(l,t){const n="text-",s=Ri(l,n+"value",t);if(!s)return null;const r=kr(l,n,t),o=kr(l,n+"background-",t),c=Yr(l,n,t),h=Yr(l,n+"background-",t),d=Ri(l,n+"font",t),_=Pe(l,n+"max-angle",t),m=Pe(l,n+"offset-x",t),y=Pe(l,n+"offset-y",t),v=ea(l,n+"overflow",t),x=Ri(l,n+"placement",t),S=Pe(l,n+"repeat",t),w=Hu(l,n+"scale",t),T=ea(l,n+"rotate-with-view",t),b=Pe(l,n+"rotation",t),D=Ri(l,n+"align",t),G=Ri(l,n+"justify",t),I=Ri(l,n+"baseline",t),O=ea(l,n+"keep-upright",t),q=X1(l,n+"padding",t),K=Zu(l,n+"declutter-mode"),Z=new Rd({declutterMode:K});return function(U){if(Z.setText(s(U)),r&&Z.setFill(r(U)),o&&Z.setBackgroundFill(o(U)),c&&Z.setStroke(c(U)),h&&Z.setBackgroundStroke(h(U)),d&&Z.setFont(d(U)),_&&Z.setMaxAngle(_(U)),m&&Z.setOffsetX(m(U)),y&&Z.setOffsetY(y(U)),v&&Z.setOverflow(v(U)),x){const V=x(U);if(V!=="point"&&V!=="line")throw new Error("Expected point or line for text-placement");Z.setPlacement(V)}if(S&&Z.setRepeat(S(U)),w&&Z.setScale(w(U)),T&&Z.setRotateWithView(T(U)),b&&Z.setRotation(b(U)),D){const V=D(U);if(V!=="left"&&V!=="center"&&V!=="right"&&V!=="end"&&V!=="start")throw new Error("Expected left, right, center, start, or end for text-align");Z.setTextAlign(V)}if(G){const V=G(U);if(V!=="left"&&V!=="right"&&V!=="center")throw new Error("Expected left, right, or center for text-justify");Z.setJustify(V)}if(I){const V=I(U);if(V!=="bottom"&&V!=="top"&&V!=="middle"&&V!=="alphabetic"&&V!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");Z.setTextBaseline(V)}return q&&Z.setPadding(q(U)),O&&Z.setKeepUpright(O(U)),Z}}function z2(l,t){return"icon-src"in l?N2(l,t):"shape-points"in l?G2(l,t):"circle-radius"in l?U2(l,t):null}function N2(l,t){const n="icon-",s=n+"src",r=F1(l[s],s),o=wu(l,n+"anchor",t),c=Hu(l,n+"scale",t),h=Pe(l,n+"opacity",t),d=wu(l,n+"displacement",t),_=Pe(l,n+"rotation",t),m=ea(l,n+"rotate-with-view",t),y=vy(l,n+"anchor-origin"),v=Ey(l,n+"anchor-x-units"),x=Ey(l,n+"anchor-y-units"),S=B2(l,n+"color"),w=X2(l,n+"cross-origin"),T=F2(l,n+"offset"),b=vy(l,n+"offset-origin"),D=bu(l,n+"width"),G=bu(l,n+"height"),I=Y2(l,n+"size"),O=Zu(l,n+"declutter-mode"),q=new I1({src:r,anchorOrigin:y,anchorXUnits:v,anchorYUnits:x,color:S,crossOrigin:w,offset:T,offsetOrigin:b,height:G,width:D,size:I,declutterMode:O});return function(K){return h&&q.setOpacity(h(K)),d&&q.setDisplacement(d(K)),_&&q.setRotation(_(K)),m&&q.setRotateWithView(m(K)),c&&q.setScale(c(K)),o&&q.setAnchor(o(K)),q}}function G2(l,t){const n="shape-",s=n+"points",r=n+"radius",o=Hf(l[s],s),c=Hf(l[r],r),h=kr(l,n,t),d=Yr(l,n,t),_=Hu(l,n+"scale",t),m=wu(l,n+"displacement",t),y=Pe(l,n+"rotation",t),v=ea(l,n+"rotate-with-view",t),x=bu(l,n+"radius2"),S=bu(l,n+"angle"),w=Zu(l,n+"declutter-mode"),T=new ju({points:o,radius:c,radius2:x,angle:S,declutterMode:w});return function(b){return h&&T.setFill(h(b)),d&&T.setStroke(d(b)),m&&T.setDisplacement(m(b)),y&&T.setRotation(y(b)),v&&T.setRotateWithView(v(b)),_&&T.setScale(_(b)),T}}function U2(l,t){const n="circle-",s=kr(l,n,t),r=Yr(l,n,t),o=Pe(l,n+"radius",t),c=Hu(l,n+"scale",t),h=wu(l,n+"displacement",t),d=Pe(l,n+"rotation",t),_=ea(l,n+"rotate-with-view",t),m=Zu(l,n+"declutter-mode"),y=new fa({radius:5,declutterMode:m});return function(v){return o&&y.setRadius(o(v)),s&&y.setFill(s(v)),r&&y.setStroke(r(v)),h&&y.setDisplacement(h(v)),d&&y.setRotation(d(v)),_&&y.setRotateWithView(_(v)),c&&y.setScale(c(v)),y}}function Pe(l,t,n){if(!(t in l))return;const s=Oi(l[t],At,n);return function(r){return Hf(s(r),t)}}function Ri(l,t,n){if(!(t in l))return null;const s=Oi(l[t],Ze,n);return function(r){return F1(s(r),t)}}function k2(l,t,n){const s=Ri(l,t+"pattern-src",n),r=py(l,t+"pattern-offset",n),o=py(l,t+"pattern-size",n),c=wd(l,t+"color",n);return function(h){return{src:s(h),offset:r&&r(h),size:o&&o(h),color:c&&c(h)}}}function ea(l,t,n){if(!(t in l))return null;const s=Oi(l[t],Ue,n);return function(r){const o=s(r);if(typeof o!="boolean")throw new Error(`Expected a boolean for ${t}`);return o}}function wd(l,t,n){if(!(t in l))return null;const s=Oi(l[t],Nn,n);return function(r){return B1(s(r),t)}}function X1(l,t,n){if(!(t in l))return null;const s=Oi(l[t],$s,n);return function(r){return Hr(s(r),t)}}function wu(l,t,n){if(!(t in l))return null;const s=Oi(l[t],$s,n);return function(r){const o=Hr(s(r),t);if(o.length!==2)throw new Error(`Expected two numbers for ${t}`);return o}}function py(l,t,n){if(!(t in l))return null;const s=Oi(l[t],$s,n);return function(r){return j1(s(r),t)}}function Hu(l,t,n){if(!(t in l))return null;const s=Oi(l[t],$s|At,n);return function(r){return j2(s(r),t)}}function bu(l,t){const n=l[t];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${t}`);return n}}function Y2(l,t){const n=l[t];if(n!==void 0){if(typeof n=="number")return Ve(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${t}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${t}`);return n}}function X2(l,t){const n=l[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);return n}}function vy(l,t){const n=l[t];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return n}}function Ey(l,t){const n=l[t];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${t}`);return n}}function F2(l,t){const n=l[t];if(n!==void 0)return Hr(n,t)}function Zu(l,t){const n=l[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${t}`);return n}}function B2(l,t){const n=l[t];if(n!==void 0)return B1(n,t)}function Hr(l,t){if(!Array.isArray(l))throw new Error(`Expected an array for ${t}`);const n=l.length;for(let s=0;s<n;++s)if(typeof l[s]!="number")throw new Error(`Expected an array of numbers for ${t}`);return l}function F1(l,t){if(typeof l!="string")throw new Error(`Expected a string for ${t}`);return l}function Hf(l,t){if(typeof l!="number")throw new Error(`Expected a number for ${t}`);return l}function B1(l,t){if(typeof l=="string")return l;const n=Hr(l,t),s=n.length;if(s<3||s>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return n}function j1(l,t){const n=Hr(l,t);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${t}`);return n}function j2(l,t){return typeof l=="number"?l:j1(l,t)}const In={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function xy(l,t,n){return function(s,r,o,c,h){if(!s)return;if(!r&&!t)return s;const d=t?0:o[0]*r,_=t?0:o[1]*r,m=h?h[0]:0,y=h?h[1]:0;let v=l[0]+d/2+m,x=l[2]-d/2+m,S=l[1]+_/2+y,w=l[3]-_/2+y;v>x&&(v=(x+v)/2,x=v),S>w&&(S=(w+S)/2,w=S);let T=le(s[0],v,x),b=le(s[1],S,w);if(c&&n&&r){const D=30*r;T+=-D*Math.log(1+Math.max(0,v-s[0])/D)+D*Math.log(1+Math.max(0,s[0]-x)/D),b+=-D*Math.log(1+Math.max(0,S-s[1])/D)+D*Math.log(1+Math.max(0,s[1]-w)/D)}return[T,b]}}function H2(l){return l}function H1(l){return Math.pow(l,3)}function da(l){return 1-H1(1-l)}function Z2(l){return 3*l*l-2*l*l*l}function q2(l){return l}function bd(l,t,n,s){const r=Yt(t)/n[0],o=ke(t)/n[1];return s?Math.min(l,Math.max(r,o)):Math.min(l,Math.min(r,o))}function Ad(l,t,n){let s=Math.min(l,t);const r=50;return s*=Math.log(1+r*Math.max(0,l/t-1))/r+1,n&&(s=Math.max(s,n),s/=Math.log(1+r*Math.max(0,n/l-1))/r+1),le(s,n/2,t*2)}function P2(l,t,n,s){return t=t!==void 0?t:!0,function(r,o,c,h){if(r!==void 0){const d=l[0],_=l[l.length-1],m=n?bd(d,n,c,s):d;if(h)return t?Ad(r,m,_):le(r,_,m);const y=Math.min(m,r),v=Math.floor(td(l,y,o));return l[v]>m&&v<l.length-1?l[v+1]:l[v]}}}function V2(l,t,n,s,r,o){return s=s!==void 0?s:!0,n=n!==void 0?n:0,function(c,h,d,_){if(c!==void 0){const m=r?bd(t,r,d,o):t;if(_)return s?Ad(c,m,n):le(c,n,m);const y=1e-9,v=Math.ceil(Math.log(t/m)/Math.log(l)-y),x=-h*(.5-y)+.5,S=Math.min(m,c),w=Math.floor(Math.log(t/S)/Math.log(l)+x),T=Math.max(v,w),b=t/Math.pow(l,T);return le(b,n,m)}}}function Sy(l,t,n,s,r){return n=n!==void 0?n:!0,function(o,c,h,d){if(o!==void 0){const _=s?bd(l,s,h,r):l;return!n||!d?le(o,t,_):Ad(o,_,t)}}}function Md(l){if(l!==void 0)return 0}function Ty(l){if(l!==void 0)return l}function K2(l){const t=2*Math.PI/l;return function(n,s){if(s)return n;if(n!==void 0)return n=Math.floor(n/t+.5)*t,n}}function W2(l){const t=cs(5);return function(n,s){return s||n===void 0?n:Math.abs(n)<=t?0:n}}const Q2=42,Dd=256,Sf=0;class Wn extends $n{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=hd(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&t1(),t.center&&(t.center=Si(t.center,this.projection_)),t.extent&&(t.extent=os(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const n=Object.assign({},t);for(const h in In)delete n[h];this.setProperties(n,!0);const s=$2(t);this.maxResolution_=s.maxResolution,this.minResolution_=s.minResolution,this.zoomFactor_=s.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=s.minZoom;const r=J2(t),o=s.constraint,c=tT(t);this.constraints_={center:r,resolution:o,rotation:c},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let n=this.padding_;this.padding_=t;const s=this.getCenterInternal();if(s){const r=t||[0,0,0,0];n=n||[0,0,0,0];const o=this.getResolution(),c=o/2*(r[3]-n[3]+n[1]-r[1]),h=o/2*(r[0]-n[0]+n[2]-r[2]);this.setCenterInternal([s[0]+c,s[1]-h])}}getUpdatedOptions_(t){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let s=0;s<n.length;++s){let r=arguments[s];r.center&&(r=Object.assign({},r),r.center=Si(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=Si(r.anchor,this.getProjection())),n[s]=r}this.animateInternal.apply(this,n)}animateInternal(t){let n=arguments.length,s;n>1&&typeof arguments[n-1]=="function"&&(s=arguments[n-1],--n);let r=0;for(;r<n&&!this.isDef();++r){const m=arguments[r];m.center&&this.setCenterInternal(m.center),m.zoom!==void 0?this.setZoom(m.zoom):m.resolution&&this.setResolution(m.resolution),m.rotation!==void 0&&this.setRotation(m.rotation)}if(r===n){s&&du(s,!0);return}let o=Date.now(),c=this.targetCenter_.slice(),h=this.targetResolution_,d=this.targetRotation_;const _=[];for(;r<n;++r){const m=arguments[r],y={start:o,complete:!1,anchor:m.anchor,duration:m.duration!==void 0?m.duration:1e3,easing:m.easing||Z2,callback:s};if(m.center&&(y.sourceCenter=c,y.targetCenter=m.center.slice(),c=y.targetCenter),m.zoom!==void 0?(y.sourceResolution=h,y.targetResolution=this.getResolutionForZoom(m.zoom),h=y.targetResolution):m.resolution&&(y.sourceResolution=h,y.targetResolution=m.resolution,h=y.targetResolution),m.rotation!==void 0){y.sourceRotation=d;const v=$l(m.rotation-d+Math.PI,2*Math.PI)-Math.PI;y.targetRotation=d+v,d=y.targetRotation}eT(y)?y.complete=!0:o+=y.duration,_.push(y)}this.animations_.push(_),this.setHint(De.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[De.ANIMATING]>0}getInteracting(){return this.hints_[De.INTERACTING]>0}cancelAnimations(){this.setHint(De.ANIMATING,-this.hints_[De.ANIMATING]);let t;for(let n=0,s=this.animations_.length;n<s;++n){const r=this.animations_[n];if(r[0].callback&&du(r[0].callback,!1),!t)for(let o=0,c=r.length;o<c;++o){const h=r[o];if(!h.complete){t=h.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let n=!1;for(let s=this.animations_.length-1;s>=0;--s){const r=this.animations_[s];let o=!0;for(let c=0,h=r.length;c<h;++c){const d=r[c];if(d.complete)continue;const _=t-d.start;let m=d.duration>0?_/d.duration:1;m>=1?(d.complete=!0,m=1):o=!1;const y=d.easing(m);if(d.sourceCenter){const v=d.sourceCenter[0],x=d.sourceCenter[1],S=d.targetCenter[0],w=d.targetCenter[1];this.nextCenter_=d.targetCenter;const T=v+y*(S-v),b=x+y*(w-x);this.targetCenter_=[T,b]}if(d.sourceResolution&&d.targetResolution){const v=y===1?d.targetResolution:d.sourceResolution+y*(d.targetResolution-d.sourceResolution);if(d.anchor){const x=this.getViewportSize_(this.getRotation()),S=this.constraints_.resolution(v,0,x,!0);this.targetCenter_=this.calculateCenterZoom(S,d.anchor)}this.nextResolution_=d.targetResolution,this.targetResolution_=v,this.applyTargetState_(!0)}if(d.sourceRotation!==void 0&&d.targetRotation!==void 0){const v=y===1?$l(d.targetRotation+Math.PI,2*Math.PI)-Math.PI:d.sourceRotation+y*(d.targetRotation-d.sourceRotation);if(d.anchor){const x=this.constraints_.rotation(v,!0);this.targetCenter_=this.calculateCenterRotate(x,d.anchor)}this.nextRotation_=d.targetRotation,this.targetRotation_=v}if(this.applyTargetState_(!0),n=!0,!d.complete)break}if(o){this.animations_[s]=null,this.setHint(De.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const c=r[0].callback;c&&du(c,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,n){let s;const r=this.getCenterInternal();return r!==void 0&&(s=[r[0]-n[0],r[1]-n[1]],ld(s,t-this.getRotation()),PE(s,n)),s}calculateCenterZoom(t,n){let s;const r=this.getCenterInternal(),o=this.getResolution();if(r!==void 0&&o!==void 0){const c=n[0]-t*(n[0]-r[0])/o,h=n[1]-t*(n[1]-r[1])/o;s=[c,h]}return s}getViewportSize_(t){const n=this.viewportSize_;if(t){const s=n[0],r=n[1];return[Math.abs(s*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(s*Math.sin(t))+Math.abs(r*Math.cos(t))]}return n}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t&&Xf(t,this.getProjection())}getCenterInternal(){return this.get(In.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const n=this.calculateExtentInternal(t);return e1(n,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();zt(n,"The view center is not defined");const s=this.getResolution();zt(s!==void 0,"The view resolution is not defined");const r=this.getRotation();return zt(r!==void 0,"The view rotation is not defined"),Nf(n,s,r,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(In.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,n){return this.getResolutionForExtentInternal(os(t,this.getProjection()),n)}getResolutionForExtentInternal(t,n){n=n||this.getViewportSizeMinusPadding_();const s=Yt(t)/n[0],r=ke(t)/n[1];return Math.max(s,r)}getResolutionForValueFunction(t){t=t||2;const n=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,r=Math.log(n/s)/Math.log(t);return function(o){return n/Math.pow(t,o*r)}}getRotation(){return this.get(In.ROTATION)}getValueForResolutionFunction(t){const n=Math.log(t||2),s=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,o=Math.log(s/r)/n;return function(c){return Math.log(s/c)/n/o}}getViewportSizeMinusPadding_(t){let n=this.getViewportSize_(t);const s=this.padding_;return s&&(n=[n[0]-s[1]-s[3],n[1]-s[0]-s[2]]),n}getState(){const t=this.getProjection(),n=this.getResolution(),s=this.getRotation();let r=this.getCenterInternal();const o=this.padding_;if(o){const c=this.getViewportSizeMinusPadding_();r=Tf(r,this.getViewportSize_(),[c[0]/2+o[3],c[1]/2+o[0]],n,s)}return{center:r.slice(0),projection:t!==void 0?t:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:s,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const n=this.getResolution();return n!==void 0&&(t=this.getZoomForResolution(n)),t}getZoomForResolution(t){let n=this.minZoom_||0,s,r;if(this.resolutions_){const o=td(this.resolutions_,t,1);n=o,s=this.resolutions_[o],o==this.resolutions_.length-1?r=2:r=s/this.resolutions_[o+1]}else s=this.maxResolution_,r=this.zoomFactor_;return n+Math.log(s/t)/Math.log(r)}getResolutionForZoom(t){var n;if((n=this.resolutions_)!=null&&n.length){if(this.resolutions_.length===1)return this.resolutions_[0];const s=le(Math.floor(t),0,this.resolutions_.length-2),r=this.resolutions_[s]/this.resolutions_[s+1];return this.resolutions_[s]/Math.pow(r,le(t-s,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,n){let s;if(zt(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){zt(!Uu(t),"Cannot fit empty extent provided as `geometry`");const r=os(t,this.getProjection());s=j0(r)}else if(t.getType()==="Circle"){const r=os(t.getExtent(),this.getProjection());s=j0(r),s.rotate(this.getRotation(),Qs(r))}else s=t;this.fitInternal(s,n)}rotatedExtentForGeometry(t){const n=this.getRotation(),s=Math.cos(n),r=Math.sin(-n),o=t.getFlatCoordinates(),c=t.getStride();let h=1/0,d=1/0,_=-1/0,m=-1/0;for(let y=0,v=o.length;y<v;y+=c){const x=o[y]*s-o[y+1]*r,S=o[y]*r+o[y+1]*s;h=Math.min(h,x),d=Math.min(d,S),_=Math.max(_,x),m=Math.max(m,S)}return[h,d,_,m]}fitInternal(t,n){n=n||{};let s=n.size;s||(s=this.getViewportSizeMinusPadding_());const r=n.padding!==void 0?n.padding:[0,0,0,0],o=n.nearest!==void 0?n.nearest:!1;let c;n.minResolution!==void 0?c=n.minResolution:n.maxZoom!==void 0?c=this.getResolutionForZoom(n.maxZoom):c=0;const h=this.rotatedExtentForGeometry(t);let d=this.getResolutionForExtentInternal(h,[s[0]-r[1]-r[3],s[1]-r[0]-r[2]]);d=isNaN(d)?c:Math.max(d,c),d=this.getConstrainedResolution(d,o?0:1);const _=this.getRotation(),m=Math.sin(_),y=Math.cos(_),v=Qs(h);v[0]+=(r[1]-r[3])/2*d,v[1]+=(r[0]-r[2])/2*d;const x=v[0]*y-v[1]*m,S=v[1]*y+v[0]*m,w=this.getConstrainedCenter([x,S],d),T=n.callback?n.callback:sa;n.duration!==void 0?this.animateInternal({resolution:d,center:w,duration:n.duration,easing:n.easing},T):(this.targetResolution_=d,this.targetCenter_=w,this.applyTargetState_(!1,!0),du(T,!0))}centerOn(t,n,s){this.centerOnInternal(Si(t,this.getProjection()),n,s)}centerOnInternal(t,n,s){this.setCenterInternal(Tf(t,n,s,this.getResolution(),this.getRotation()))}calculateCenterShift(t,n,s,r){let o;const c=this.padding_;if(c&&t){const h=this.getViewportSizeMinusPadding_(-s),d=Tf(t,r,[h[0]/2+c[3],h[1]/2+c[0]],n,s);o=[t[0]-d[0],t[1]-d[1]]}return o}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){const n=Xf(this.targetCenter_,this.getProjection());this.setCenter([n[0]+t[0],n[1]+t[1]])}adjustCenterInternal(t){const n=this.targetCenter_;this.setCenterInternal([n[0]+t[0],n[1]+t[1]])}adjustResolution(t,n){n=n&&Si(n,this.getProjection()),this.adjustResolutionInternal(t,n)}adjustResolutionInternal(t,n){const s=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,r,s);n&&(this.targetCenter_=this.calculateCenterZoom(o,n)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,n){this.adjustResolution(Math.pow(this.zoomFactor_,-t),n)}adjustRotation(t,n){n&&(n=Si(n,this.getProjection())),this.adjustRotationInternal(t,n)}adjustRotationInternal(t,n){const s=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,s);n&&(this.targetCenter_=this.calculateCenterRotate(r,n)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&Si(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,n){return this.hints_[t]+=n,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,n){const s=this.getAnimating()||this.getInteracting()||n,r=this.constraints_.rotation(this.targetRotation_,s),o=this.getViewportSize_(r),c=this.constraints_.resolution(this.targetResolution_,0,o,s),h=this.constraints_.center(this.targetCenter_,c,o,s,this.calculateCenterShift(this.targetCenter_,c,r,o));this.get(In.ROTATION)!==r&&this.set(In.ROTATION,r),this.get(In.RESOLUTION)!==c&&(this.set(In.RESOLUTION,c),this.set("zoom",this.getZoom(),!0)),(!h||!this.get(In.CENTER)||!yu(this.get(In.CENTER),h))&&this.set(In.CENTER,h),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,n,s){t=t!==void 0?t:200;const r=n||0,o=this.constraints_.rotation(this.targetRotation_),c=this.getViewportSize_(o),h=this.constraints_.resolution(this.targetResolution_,r,c),d=this.constraints_.center(this.targetCenter_,h,c,!1,this.calculateCenterShift(this.targetCenter_,h,o,c));if(t===0&&!this.cancelAnchor_){this.targetResolution_=h,this.targetRotation_=o,this.targetCenter_=d,this.applyTargetState_();return}s=s||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==h||this.getRotation()!==o||!this.getCenterInternal()||!yu(this.getCenterInternal(),d))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:d,resolution:h,duration:t,easing:da,anchor:s}))}beginInteraction(){this.resolveConstraints(0),this.setHint(De.INTERACTING,1)}endInteraction(t,n,s){s=s&&Si(s,this.getProjection()),this.endInteractionInternal(t,n,s)}endInteractionInternal(t,n,s){this.getInteracting()&&(this.setHint(De.INTERACTING,-1),this.resolveConstraints(t,n,s))}getConstrainedCenter(t,n){const s=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,n||this.getResolution(),s)}getConstrainedZoom(t,n){const s=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(s,n))}getConstrainedResolution(t,n){n=n||0;const s=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,s)}}function du(l,t){setTimeout(function(){l(t)},0)}function J2(l){if(l.extent!==void 0){const n=l.smoothExtentConstraint!==void 0?l.smoothExtentConstraint:!0;return xy(l.extent,l.constrainOnlyCenter,n)}const t=hd(l.projection,"EPSG:3857");if(l.multiWorld!==!0&&t.isGlobal()){const n=t.getExtent().slice();return n[0]=-1/0,n[2]=1/0,xy(n,!1,!1)}return H2}function $2(l){let t,n,s,c=l.minZoom!==void 0?l.minZoom:Sf,h=l.maxZoom!==void 0?l.maxZoom:28;const d=l.zoomFactor!==void 0?l.zoomFactor:2,_=l.multiWorld!==void 0?l.multiWorld:!1,m=l.smoothResolutionConstraint!==void 0?l.smoothResolutionConstraint:!0,y=l.showFullExtent!==void 0?l.showFullExtent:!1,v=hd(l.projection,"EPSG:3857"),x=v.getExtent();let S=l.constrainOnlyCenter,w=l.extent;if(!_&&!w&&v.isGlobal()&&(S=!1,w=x),l.resolutions!==void 0){const T=l.resolutions;n=T[c],s=T[h]!==void 0?T[h]:T[T.length-1],l.constrainResolution?t=P2(T,m,!S&&w,y):t=Sy(n,s,m,!S&&w,y)}else{const b=(x?Math.max(Yt(x),ke(x)):360*ad.degrees/v.getMetersPerUnit())/Dd/Math.pow(2,Sf),D=b/Math.pow(2,28-Sf);n=l.maxResolution,n!==void 0?c=0:n=b/Math.pow(d,c),s=l.minResolution,s===void 0&&(l.maxZoom!==void 0?l.maxResolution!==void 0?s=n/Math.pow(d,h):s=b/Math.pow(d,h):s=D),h=c+Math.floor(Math.log(n/s)/Math.log(d)),s=n/Math.pow(d,h-c),l.constrainResolution?t=V2(d,n,s,m,!S&&w,y):t=Sy(n,s,m,!S&&w,y)}return{constraint:t,maxResolution:n,minResolution:s,minZoom:c,zoomFactor:d}}function tT(l){if(l.enableRotation!==void 0?l.enableRotation:!0){const n=l.constrainRotation;return n===void 0||n===!0?W2():n===!1?Ty:typeof n=="number"?K2(n):Ty}return Md}function eT(l){return!(l.sourceCenter&&l.targetCenter&&!yu(l.sourceCenter,l.targetCenter)||l.sourceResolution!==l.targetResolution||l.sourceRotation!==l.targetRotation)}function Tf(l,t,n,s,r){const o=Math.cos(-r);let c=Math.sin(-r),h=l[0]*o-l[1]*c,d=l[1]*o+l[0]*c;h+=(t[0]/2-n[0])*s,d+=(n[1]-t[1]/2)*s,c=-c;const _=h*o-d*c,m=d*o+h*c;return[_,m]}const kt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class Z1 extends $n{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const n=Object.assign({},t);typeof t.properties=="object"&&(delete n.properties,Object.assign(n,t.properties)),n[kt.OPACITY]=t.opacity!==void 0?t.opacity:1,zt(typeof n[kt.OPACITY]=="number","Layer opacity must be a number"),n[kt.VISIBLE]=t.visible!==void 0?t.visible:!0,n[kt.Z_INDEX]=t.zIndex,n[kt.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,n[kt.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,n[kt.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,n[kt.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const n=this.state_||{layer:this,managed:t===void 0?!0:t},s=this.getZIndex();return n.opacity=le(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=s===void 0&&!n.managed?1/0:s,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(t){return Lt()}getLayerStatesArray(t){return Lt()}getExtent(){return this.get(kt.EXTENT)}getMaxResolution(){return this.get(kt.MAX_RESOLUTION)}getMinResolution(){return this.get(kt.MIN_RESOLUTION)}getMinZoom(){return this.get(kt.MIN_ZOOM)}getMaxZoom(){return this.get(kt.MAX_ZOOM)}getOpacity(){return this.get(kt.OPACITY)}getSourceState(){return Lt()}getVisible(){return this.get(kt.VISIBLE)}getZIndex(){return this.get(kt.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(kt.EXTENT,t)}setMaxResolution(t){this.set(kt.MAX_RESOLUTION,t)}setMinResolution(t){this.set(kt.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(kt.MAX_ZOOM,t)}setMinZoom(t){this.set(kt.MIN_ZOOM,t)}setOpacity(t){zt(typeof t=="number","Layer opacity must be a number"),this.set(kt.OPACITY,t)}setVisible(t){this.set(kt.VISIBLE,t)}setZIndex(t){this.set(kt.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}class qu extends Z1{constructor(t){const n=Object.assign({},t);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(kt.SOURCE,this.handleSourcePropertyChange_);const s=t.source?t.source:null;this.setSource(s)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(kt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Vt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=It(t,pt.CHANGE,this.handleSourceChange_,this),t.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0)),this.clearRenderer()),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)}isVisible(t){let n;const s=this.getMapInternal();!t&&s&&(t=s.getView()),t instanceof Wn?n={viewState:t.getState(),extent:t.calculateExtent()}:n=t,!n.layerStatesArray&&s&&(n.layerStatesArray=s.getLayerGroup().getLayerStatesArray());let r;if(n.layerStatesArray){if(r=n.layerStatesArray.find(c=>c.layer===this),!r)return!1}else r=this.getLayerState();const o=this.getExtent();return Od(r,n.viewState)&&(!o||qe(o,n.extent))}getAttributions(t){var o;if(!this.isVisible(t))return[];const n=(o=this.getSource())==null?void 0:o.getAttributions();if(!n)return[];const s=t instanceof Wn?t.getViewStateAndExtent():t;let r=n(s);return Array.isArray(r)||(r=[r]),r}render(t,n){const s=this.getRenderer();return s.prepareFrame(t)?(this.rendered=!0,s.renderFrame(t,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,n){}renderDeferred(t){const n=this.getRenderer();n&&n.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(kt.MAP,t)}getMapInternal(){return this.get(kt.MAP)}setMap(t){this.mapPrecomposeKey_&&(Vt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Vt(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=It(t,xn.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=It(this,pt.CHANGE,t.render,t),this.changed())}handlePrecompose_(t){const n=t.frameState.layerStatesArray,s=this.getLayerState(!1);zt(!n.some(r=>r.layer===s.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(s)}setSource(t){this.set(kt.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function Od(l,t){if(!l.visible)return!1;const n=t.resolution;if(n<l.minResolution||n>=l.maxResolution)return!1;const s=t.zoom;return s>l.minZoom&&s<=l.maxZoom}const Ry={RENDER_ORDER:"renderOrder"};class q1 extends qu{constructor(t){t=t||{};const n=Object.assign({},t);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Ry.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,n){const s=this.getDeclutter();s in t.declutter||(t.declutter[s]=new A1(9)),this.getRenderer().renderDeclutter(t,n)}setRenderOrder(t){this.set(Ry.RENDER_ORDER,t)}setStyle(t){this.style_=t===void 0?D1:t;const n=nT(t);this.styleFunction_=t===null?void 0:YS(n),this.changed()}setDeclutter(t){this.declutter_=t?String(t):void 0,this.changed()}}function nT(l){if(l===void 0)return D1;if(!l)return null;if(typeof l=="function"||l instanceof Ai)return l;if(!Array.isArray(l))return yy([l]);if(l.length===0)return[];const t=l.length,n=l[0];if(n instanceof Ai){const r=new Array(t);for(let o=0;o<t;++o){const c=l[o];if(!(c instanceof Ai))throw new Error("Expected a list of style instances");r[o]=c}return r}if("style"in n){const r=new Array(t);for(let o=0;o<t;++o){const c=l[o];if(!("style"in c))throw new Error("Expected a list of rules with a style property");r[o]=c}return O2(r)}return yy(l)}class Cy extends q1{constructor(t){super(t)}createRenderer(){return new l2(this)}}const ft={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class Ld extends Lu{constructor(t,n,s){super(),s=s||{},this.tileCoord=t,this.state=n,this.key="",this.transition_=s.transition===void 0?250:s.transition,this.transitionStarts_={},this.interpolate=!!s.interpolate}changed(){this.dispatchEvent(pt.CHANGE)}release(){this.setState(ft.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==ft.EMPTY){if(this.state!==ft.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}}load(){Lt()}getAlpha(t,n){if(!this.transition_)return 1;let s=this.transitionStarts_[t];if(!s)s=n,this.transitionStarts_[t]=s;else if(s===-1)return 1;const r=n-s+1e3/60;return r>=this.transition_?1:H1(r/this.transition_)}inTransition(t){return this.transition_?this.transitionStarts_[t]!==-1:!1}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}class P1 extends Ld{constructor(t,n,s,r,o,c){super(t,n,c),this.crossOrigin_=r,this.src_=s,this.key=s,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(t){this.image_=t,this.state=ft.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=ft.ERROR,this.unlistenImage_(),this.image_=iT(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=ft.LOADED:this.state=ft.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==ft.ERROR&&(this.state=ft.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==ft.IDLE&&(this.state=ft.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=lS(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function iT(){const l=ye(1,1);return l.fillStyle="rgba(0,0,0,0)",l.fillRect(0,0,1,1),l.canvas}class sT{constructor(t,n,s){this.decay_=t,this.minVelocity_=n,this.delay_=s,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,n){this.points_.push(t,n,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<t)return!1;let s=n-3;for(;s>0&&this.points_[s+2]>t;)s-=3;const r=this.points_[n+2]-this.points_[s+2];if(r<1e3/60)return!1;const o=this.points_[n]-this.points_[s],c=this.points_[n+1]-this.points_[s+1];return this.angle_=Math.atan2(c,o),this.initialVelocity_=Math.sqrt(o*o+c*c)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class Vl extends Di{constructor(t,n,s){super(t),this.map=n,this.frameState=s!==void 0?s:null}}class ls extends Vl{constructor(t,n,s,r,o,c){super(t,n,o),this.originalEvent=s,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=c}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const te={SINGLECLICK:"singleclick",CLICK:pt.CLICK,DBLCLICK:pt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Zf={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class lT extends Lu{constructor(t,n){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const s=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=s,this.pointerdownListenerKey_=It(s,Zf.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=It(s,Zf.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(pt.TOUCHMOVE,this.boundHandleTouchMove_,m1?{passive:!1}:!1)}emulateClick_(t){let n=new ls(te.CLICK,this.map_,t);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new ls(te.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const s=new ls(te.SINGLECLICK,this.map_,t);this.dispatchEvent(s)},250)}updateActivePointers_(t){const n=t,s=n.pointerId;if(n.type==te.POINTERUP||n.type==te.POINTERCANCEL){delete this.trackedTouches_[s];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==n.target){delete this.trackedTouches_[r];break}}else(n.type==te.POINTERDOWN||n.type==te.POINTERMOVE)&&(this.trackedTouches_[s]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const n=new ls(te.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Vt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);const n=new ls(te.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),this.dragListenerKeys_.length===0){const s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(It(s,te.POINTERMOVE,this.handlePointerMove_,this),It(s,te.POINTERUP,this.handlePointerUp_,this),It(this.element_,te.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(It(this.element_.getRootNode(),te.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const n=new ls(te.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const n=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new ls(te.POINTERMOVE,this.map_,t,n))}handleTouchMove_(t){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Vt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(pt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Vt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Vt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const as={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Me={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Au=1/0;class aT{constructor(t,n){this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Xr(this.queuedElements_)}dequeue(){const t=this.elements_,n=this.priorities_,s=t[0];t.length==1?(t.length=0,n.length=0):(t[0]=t.pop(),n[0]=n.pop(),this.siftUp_(0));const r=this.keyFunction_(s);return delete this.queuedElements_[r],s}enqueue(t){zt(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(t);return n!=Au?(this.elements_.push(t),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const n=this.elements_,s=this.priorities_,r=n.length,o=n[t],c=s[t],h=t;for(;t<r>>1;){const d=this.getLeftChildIndex_(t),_=this.getRightChildIndex_(t),m=_<r&&s[_]<s[d]?_:d;n[t]=n[m],s[t]=s[m],t=m}n[t]=o,s[t]=c,this.siftDown_(h,t)}siftDown_(t,n){const s=this.elements_,r=this.priorities_,o=s[n],c=r[n];for(;n>t;){const h=this.getParentIndex_(n);if(r[h]>c)s[n]=s[h],r[n]=r[h],n=h;else break}s[n]=o,r[n]=c}reprioritize(){const t=this.priorityFunction_,n=this.elements_,s=this.priorities_;let r=0;const o=n.length;let c,h,d;for(h=0;h<o;++h)c=n[h],d=t(c),d==Au?delete this.queuedElements_[this.keyFunction_(c)]:(s[r]=d,n[r++]=c);n.length=r,s.length=r,this.heapify_()}}class rT extends aT{constructor(t,n){super(s=>t.apply(null,s),s=>s[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const n=super.enqueue(t);return n&&t[0].addEventListener(pt.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const n=t.target,s=n.getState();if(s===ft.LOADED||s===ft.ERROR||s===ft.EMPTY){s!==ft.ERROR&&n.removeEventListener(pt.CHANGE,this.boundHandleTileChange_);const r=n.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,n){let s=0;for(;this.tilesLoading_<t&&s<n&&this.getCount()>0;){const r=this.dequeue()[0],o=r.getKey();r.getState()===ft.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++s,r.load())}}}function oT(l,t,n,s,r){if(!l||!(n in l.wantedTiles)||!l.wantedTiles[n][t.getKey()])return Au;const o=l.viewState.center,c=s[0]-o[0],h=s[1]-o[1];return 65536*Math.log(r)+Math.sqrt(c*c+h*h)/r}class Id extends $n{constructor(t){super();const n=t.element;n&&!t.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){var t;(t=this.element)==null||t.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(t){var n;this.map_&&((n=this.element)==null||n.remove());for(let s=0,r=this.listenerKeys.length;s<r;++s)Vt(this.listenerKeys[s]);if(this.listenerKeys.length=0,this.map_=t,t){const s=this.target_??t.getOverlayContainerStopEvent();this.element&&s.appendChild(this.element),this.render!==sa&&this.listenerKeys.push(It(t,as.POSTRENDER,this.render,this)),t.render()}}render(t){}setTarget(t){this.target_=typeof t=="string"?document.getElementById(t):t}}class uT extends Id{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=t.collapsed!==void 0?t.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=t.collapsible!==void 0,this.collapsible_=t.collapsible!==void 0?t.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=t.attributions;const n=t.className!==void 0?t.className:"ol-attribution",s=t.tipLabel!==void 0?t.tipLabel:"Attributions",r=t.expandClassName!==void 0?t.expandClassName:n+"-expand",o=t.collapseLabel!==void 0?t.collapseLabel:"",c=t.collapseClassName!==void 0?t.collapseClassName:n+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=c):this.collapseLabel_=o;const h=t.label!==void 0?t.label:"i";typeof h=="string"?(this.label_=document.createElement("span"),this.label_.textContent=h,this.label_.className=r):this.label_=h;const d=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=s,this.toggleButton_.appendChild(d),this.toggleButton_.addEventListener(pt.CLICK,this.handleClick_.bind(this),!1);const _=n+" "+Fu+" "+Td+(this.collapsed_&&this.collapsible_?" "+K0:"")+(this.collapsible_?"":" ol-uncollapsible"),m=this.element;m.className=_,m.appendChild(this.toggleButton_),m.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const n=this.getMap().getAllLayers(),s=new Set(n.flatMap(r=>r.getAttributions(t)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>s.add(r)):s.add(this.attributions_)),!this.overrideCollapsible_){const r=!n.some(o=>{var c;return((c=o.getSource())==null?void 0:c.getAttributionsCollapsible())===!1});this.setCollapsible(r)}return Array.from(s)}async updateElement_(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(t).map(r=>NE(()=>r))),s=n.length>0;if(this.renderedVisible_!=s&&(this.element.style.display=s?"":"none",this.renderedVisible_=s),!gs(n,this.renderedAttributions_)){iS(this.ulElement_);for(let r=0,o=n.length;r<o;++r){const c=document.createElement("li");c.innerHTML=n[r],this.ulElement_.appendChild(c)}this.renderedAttributions_=n}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(K0),this.collapsed_?V0(this.collapseLabel_,this.label_):V0(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}class cT extends Id{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const n=t.className!==void 0?t.className:"ol-rotate",s=t.label!==void 0?t.label:"",r=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof s=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=s):(this.label_=s,this.label_.classList.add(r));const o=t.tipLabel?t.tipLabel:"Reset rotation",c=document.createElement("button");c.className=n+"-reset",c.setAttribute("type","button"),c.title=o,c.appendChild(this.label_),c.addEventListener(pt.CLICK,this.handleClick_.bind(this),!1);const h=n+" "+Fu+" "+Td,d=this.element;d.className=h,d.appendChild(c),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(ou)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const s=n.getRotation();s!==void 0&&(this.duration_>0&&s%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:da}):n.setRotation(0))}render(t){const n=t.frameState;if(!n)return;const s=n.viewState.rotation;if(s!=this.rotation_){const r="rotate("+s+"rad)";if(this.autoHide_){const o=this.element.classList.contains(ou);!o&&s===0?this.element.classList.add(ou):o&&s!==0&&this.element.classList.remove(ou)}this.label_.style.transform=r}this.rotation_=s}}class hT extends Id{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const n=t.className!==void 0?t.className:"ol-zoom",s=t.delta!==void 0?t.delta:1,r=t.zoomInClassName!==void 0?t.zoomInClassName:n+"-in",o=t.zoomOutClassName!==void 0?t.zoomOutClassName:n+"-out",c=t.zoomInLabel!==void 0?t.zoomInLabel:"+",h=t.zoomOutLabel!==void 0?t.zoomOutLabel:"",d=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",_=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",m=document.createElement("button");m.className=r,m.setAttribute("type","button"),m.title=d,m.appendChild(typeof c=="string"?document.createTextNode(c):c),m.addEventListener(pt.CLICK,this.handleClick_.bind(this,s),!1);const y=document.createElement("button");y.className=o,y.setAttribute("type","button"),y.title=_,y.appendChild(typeof h=="string"?document.createTextNode(h):h),y.addEventListener(pt.CLICK,this.handleClick_.bind(this,-s),!1);const v=n+" "+Fu+" "+Td,x=this.element;x.className=v,x.appendChild(m),x.appendChild(y),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(t,n){n.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const s=this.getMap().getView();if(!s)return;const r=s.getZoom();if(r!==void 0){const o=s.getConstrainedZoom(r+t);this.duration_>0?(s.getAnimating()&&s.cancelAnimations(),s.animate({zoom:o,duration:this.duration_,easing:da})):s.setZoom(o)}}}function fT(l){l=l||{};const t=new Qn;return(l.zoom!==void 0?l.zoom:!0)&&t.push(new hT(l.zoomOptions)),(l.rotate!==void 0?l.rotate:!0)&&t.push(new cT(l.rotateOptions)),(l.attribution!==void 0?l.attribution:!0)&&t.push(new uT(l.attributionOptions)),t}const wy={ACTIVE:"active"};class Zr extends $n{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(wy.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(wy.ACTIVE,t)}setMap(t){this.map_=t}}function dT(l,t,n){const s=l.getCenterInternal();if(s){const r=[s[0]+t[0],s[1]+t[1]];l.animateInternal({duration:n!==void 0?n:250,easing:q2,center:l.getConstrainedCenter(r)})}}function zd(l,t,n,s){const r=l.getZoom();if(r===void 0)return;const o=l.getConstrainedZoom(r+t),c=l.getResolutionForZoom(o);l.getAnimating()&&l.cancelAnimations(),l.animate({resolution:c,anchor:n,duration:s!==void 0?s:250,easing:da})}class gT extends Zr{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let n=!1;if(t.type==te.DBLCLICK){const s=t.originalEvent,r=t.map,o=t.coordinate,c=s.shiftKey?-this.delta_:this.delta_,h=r.getView();zd(h,c,o,this.duration_),s.preventDefault(),n=!0}return!n}}function qf(l){const t=arguments;return function(n){let s=!0;for(let r=0,o=t.length;r<o&&(s=s&&t[r](n),!!s);++r);return s}}const _T=function(l){const t=l.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},mT=function(l){const t=l.map.getTargetElement(),n=t.getRootNode(),s=l.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(s):t.contains(s)},V1=function(l){const t=l.map.getTargetElement(),n=t.getRootNode();return(n instanceof ShadowRoot?n.host:t).hasAttribute("tabindex")?mT(l):!0},yT=br,K1=function(l){const t=l.originalEvent;return t.button==0&&!(Wx&&f1&&t.ctrlKey)},W1=function(l){const t=l.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},pT=function(l){const t=l.originalEvent;return f1?t.metaKey:t.ctrlKey},vT=function(l){const t=l.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Q1=function(l){const t=l.originalEvent,n=t.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!t.target.isContentEditable},Rf=function(l){const t=l.originalEvent;return zt(t!==void 0,"mapBrowserEvent must originate from a pointer event"),t.pointerType=="mouse"},ET=function(l){const t=l.originalEvent;return zt(t!==void 0,"mapBrowserEvent must originate from a pointer event"),t.isPrimary&&t.button===0};class qr extends Zr{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==te.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==te.POINTERUP){const s=this.handleUpEvent(t);this.handlingDownUpSequence=s&&this.targetPointers.length>0}}else if(t.type==te.POINTERDOWN){const s=this.handleDownEvent(t);this.handlingDownUpSequence=s,n=this.stopDown(s)}else t.type==te.POINTERMOVE&&this.handleMoveEvent(t);return!n}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function Nd(l){const t=l.length;let n=0,s=0;for(let r=0;r<t;r++)n+=l[r].clientX,s+=l[r].clientY;return{clientX:n/t,clientY:s/t}}class xT extends qr{constructor(t){super({stopDown:Ou}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=t.condition?t.condition:qf(W1,ET);this.condition_=t.onFocusOnly?qf(V1,n):n,this.noKinetic_=!1}handleDragEvent(t){const n=t.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const s=this.targetPointers,r=n.getEventPixel(Nd(s));if(s.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const o=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],h=t.map.getView();VE(o,h.getResolution()),ld(o,h.getRotation()),h.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=s.length,t.originalEvent.preventDefault()}handleUpEvent(t){const n=t.map,s=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),c=s.getCenterInternal(),h=n.getPixelFromCoordinateInternal(c),d=n.getCoordinateFromPixelInternal([h[0]-r*Math.cos(o),h[1]-r*Math.sin(o)]);s.animateInternal({center:s.getConstrainedCenter(d),duration:500,easing:da})}return this.panning_&&(this.panning_=!1,s.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const s=t.map.getView();return this.lastCentroid=null,s.getAnimating()&&s.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class ST extends qr{constructor(t){t=t||{},super({stopDown:Ou}),this.condition_=t.condition?t.condition:_T,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!Rf(t))return;const n=t.map,s=n.getView();if(s.getConstraints().rotation===Md)return;const r=n.getSize(),o=t.pixel,c=Math.atan2(r[1]/2-o[1],o[0]-r[0]/2);if(this.lastAngle_!==void 0){const h=c-this.lastAngle_;s.adjustRotationInternal(-h)}this.lastAngle_=c}handleUpEvent(t){return Rf(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return Rf(t)&&K1(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class TT extends Du{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,n=this.endPixel_,s="px",r=this.element_.style;r.left=Math.min(t[0],n[0])+s,r.top=Math.min(t[1],n[1])+s,r.width=Math.abs(n[0]-t[0])+s,r.height=Math.abs(n[1]-t[1])+s}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,n){this.startPixel_=t,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const t=this.startPixel_,n=this.endPixel_,r=[t,[t[0],n[1]],n,[n[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new Lr([r])}getGeometry(){return this.geometry_}}const Bl={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class pr extends Di{constructor(t,n,s){super(t),this.coordinate=n,this.mapBrowserEvent=s}}class RT extends qr{constructor(t){super(),this.on,this.once,this.un,t=t??{},this.box_=new TT(t.className||"ol-dragbox"),this.minArea_=t.minArea??64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition??K1,this.boxEndCondition_=t.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(t,n,s){const r=s[0]-n[0],o=s[1]-n[1];return r*r+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.startPixel_&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new pr(Bl.BOXDRAG,t.coordinate,t)))}handleUpEvent(t){if(!this.startPixel_)return!1;const n=this.boxEndCondition_(t,this.startPixel_,t.pixel);return n&&this.onBoxEnd(t),this.dispatchEvent(new pr(n?Bl.BOXEND:Bl.BOXCANCEL,t.coordinate,t)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new pr(Bl.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}setActive(t){t||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new pr(Bl.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(t)}setMap(t){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new pr(Bl.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(t)}}class CT extends RT{constructor(t){t=t||{};const n=t.condition?t.condition:vT;super({condition:n,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){const s=this.getMap().getView();let r=this.getGeometry();if(this.out_){const o=s.rotatedExtentForGeometry(r),c=s.getResolutionForExtentInternal(o),h=s.getResolution()/c;r=r.clone(),r.scale(h*h)}s.fitInternal(r,{duration:this.duration_,easing:da})}}const Bs={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class wT extends Zr{constructor(t){super(),t=t||{},this.defaultCondition_=function(n){return W1(n)&&Q1(n)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let n=!1;if(t.type==pt.KEYDOWN){const s=t.originalEvent,r=s.key;if(this.condition_(t)&&(r==Bs.DOWN||r==Bs.LEFT||r==Bs.RIGHT||r==Bs.UP)){const c=t.map.getView(),h=c.getResolution()*this.pixelDelta_;let d=0,_=0;r==Bs.DOWN?_=-h:r==Bs.LEFT?d=-h:r==Bs.RIGHT?d=h:_=h;const m=[d,_];ld(m,c.getRotation()),dT(c,m,this.duration_),s.preventDefault(),n=!0}}return!n}}class bT extends Zr{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(n){return!pT(n)&&Q1(n)},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let n=!1;if(t.type==pt.KEYDOWN||t.type==pt.KEYPRESS){const s=t.originalEvent,r=s.key;if(this.condition_(t)&&(r==="+"||r==="-")){const o=t.map,c=r==="+"?this.delta_:-this.delta_,h=o.getView();zd(h,c,void 0,this.duration_),s.preventDefault(),n=!0}}return!n}}class AT extends Zr{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;const n=t.condition?t.condition:yT;this.condition_=t.onFocusOnly?qf(V1,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(t){if(!this.condition_(t)||t.type!==pt.WHEEL)return!0;const s=t.map,r=t.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.pixel);let o;if(t.type==pt.WHEEL&&(o=r.deltaY,Vx&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=d1),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),o===0)return!1;this.lastDelta_=o;const c=Date.now();this.startTime_===void 0&&(this.startTime_=c),(!this.mode_||c-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");const h=s.getView();if(this.mode_==="trackpad"&&!(h.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(h.getAnimating()&&h.cancelAnimations(),h.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),h.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_?s.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=c,!1;this.totalDelta_+=o;const d=Math.max(this.timeout_-(c-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,s),d),!1}handleWheelZoom_(t){const n=t.getView();n.getAnimating()&&n.cancelAnimations();let s=-le(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(s=s?s>0?1:-1:0),zd(n,s,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}class MT extends qr{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=Ou),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let n=0;const s=this.targetPointers[0],r=this.targetPointers[1],o=Math.atan2(r.clientY-s.clientY,r.clientX-s.clientX);if(this.lastAngle_!==void 0){const d=o-this.lastAngle_;this.rotationDelta_+=d,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=d}this.lastAngle_=o;const c=t.map,h=c.getView();h.getConstraints().rotation!==Md&&(this.anchor_=c.getCoordinateFromPixelInternal(c.getEventPixel(Nd(this.targetPointers))),this.rotating_&&(c.render(),h.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class DT extends qr{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=Ou),super(n),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let n=1;const s=this.targetPointers[0],r=this.targetPointers[1],o=s.clientX-r.clientX,c=s.clientY-r.clientY,h=Math.sqrt(o*o+c*c);this.lastDistance_!==void 0&&(n=this.lastDistance_/h),this.lastDistance_=h;const d=t.map,_=d.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=d.getCoordinateFromPixelInternal(d.getEventPixel(Nd(this.targetPointers))),d.render(),_.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const s=t.map.getView(),r=this.lastScaleDelta_>1?1:-1;return s.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function OT(l){l=l||{};const t=new Qn,n=new sT(-.005,.05,100);return(l.altShiftDragRotate!==void 0?l.altShiftDragRotate:!0)&&t.push(new ST),(l.doubleClickZoom!==void 0?l.doubleClickZoom:!0)&&t.push(new gT({delta:l.zoomDelta,duration:l.zoomDuration})),(l.dragPan!==void 0?l.dragPan:!0)&&t.push(new xT({onFocusOnly:l.onFocusOnly,kinetic:n})),(l.pinchRotate!==void 0?l.pinchRotate:!0)&&t.push(new MT),(l.pinchZoom!==void 0?l.pinchZoom:!0)&&t.push(new DT({duration:l.zoomDuration})),(l.keyboard!==void 0?l.keyboard:!0)&&(t.push(new wT),t.push(new bT({delta:l.zoomDelta,duration:l.zoomDuration}))),(l.mouseWheelZoom!==void 0?l.mouseWheelZoom:!0)&&t.push(new AT({onFocusOnly:l.onFocusOnly,duration:l.zoomDuration})),(l.shiftDragZoom!==void 0?l.shiftDragZoom:!0)&&t.push(new CT({duration:l.zoomDuration})),t}class rs extends Di{constructor(t,n){super(t),this.layer=n}}const Cf={LAYERS:"layers"};class ga extends Z1{constructor(t){t=t||{};const n=Object.assign({},t);delete n.layers;let s=t.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Cf.LAYERS,this.handleLayersChanged_),s?Array.isArray(s)?s=new Qn(s.slice(),{unique:!0}):zt(typeof s.getArray=="function","Expected `layers` to be an array or a `Collection`"):s=new Qn(void 0,{unique:!0}),this.setLayers(s)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Vt),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(It(t,je.ADD,this.handleLayersAdd_,this),It(t,je.REMOVE,this.handleLayersRemove_,this));for(const s in this.listenerKeys_)this.listenerKeys_[s].forEach(Vt);Xr(this.listenerKeys_);const n=t.getArray();for(let s=0,r=n.length;s<r;s++){const o=n[s];this.registerLayerListeners_(o),this.dispatchEvent(new rs("addlayer",o))}this.changed()}registerLayerListeners_(t){const n=[It(t,ia.PROPERTYCHANGE,this.handleLayerChange_,this),It(t,pt.CHANGE,this.handleLayerChange_,this)];t instanceof ga&&n.push(It(t,"addlayer",this.handleLayerGroupAdd_,this),It(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Gt(t)]=n}handleLayerGroupAdd_(t){this.dispatchEvent(new rs("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new rs("removelayer",t.layer))}handleLayersAdd_(t){const n=t.element;this.registerLayerListeners_(n),this.dispatchEvent(new rs("addlayer",n)),this.changed()}handleLayersRemove_(t){const n=t.element,s=Gt(n);this.listenerKeys_[s].forEach(Vt),delete this.listenerKeys_[s],this.dispatchEvent(new rs("removelayer",n)),this.changed()}getLayers(){return this.get(Cf.LAYERS)}setLayers(t){const n=this.getLayers();if(n){const s=n.getArray();for(let r=0,o=s.length;r<o;++r)this.dispatchEvent(new rs("removelayer",s[r]))}this.set(Cf.LAYERS,t)}getLayersArray(t){return t=t!==void 0?t:[],this.getLayers().forEach(function(n){n.getLayersArray(t)}),t}getLayerStatesArray(t){const n=t!==void 0?t:[],s=n.length;this.getLayers().forEach(function(c){c.getLayerStatesArray(n)});const r=this.getLayerState();let o=r.zIndex;!t&&r.zIndex===void 0&&(o=0);for(let c=s,h=n.length;c<h;c++){const d=n[c];d.opacity*=r.opacity,d.visible=d.visible&&r.visible,d.maxResolution=Math.min(d.maxResolution,r.maxResolution),d.minResolution=Math.max(d.minResolution,r.minResolution),d.minZoom=Math.max(d.minZoom,r.minZoom),d.maxZoom=Math.min(d.maxZoom,r.maxZoom),r.extent!==void 0&&(d.extent!==void 0?d.extent=Ks(d.extent,r.extent):d.extent=r.extent),d.zIndex===void 0&&(d.zIndex=o)}return n}getSourceState(){return"ready"}}class LT extends Du{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,n){Lt()}calculateMatrices2D(t){const n=t.viewState,s=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;Mi(s,t.size[0]/2,t.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),n1(r,s)}forEachFeatureAtCoordinate(t,n,s,r,o,c,h,d){let _;const m=n.viewState;function y(I,O,q,K){return o.call(c,O,I?q:null,K)}const v=m.projection,x=Vy(t.slice(),v),S=[[0,0]];if(v.canWrapX()&&r){const I=v.getExtent(),O=Yt(I);S.push([-O,0],[O,0])}const w=n.layerStatesArray,T=w.length,b=[],D=[];for(let I=0;I<S.length;I++)for(let O=T-1;O>=0;--O){const q=w[O],K=q.layer;if(K.hasRenderer()&&Od(q,m)&&h.call(d,K)){const Z=K.getRenderer(),U=K.getSource();if(Z&&U){const V=U.getWrapX()?x:t,st=y.bind(null,q.managed);D[0]=V[0]+S[I][0],D[1]=V[1]+S[I][1],_=Z.forEachFeatureAtCoordinate(D,n,s,st,b)}if(_)return _}}if(b.length===0)return;const G=1/b.length;return b.forEach((I,O)=>I.distanceSq+=O*G),b.sort((I,O)=>I.distanceSq-O.distanceSq),b.some(I=>_=I.callback(I.feature,I.layer,I.geometry)),_}hasFeatureAtCoordinate(t,n,s,r,o,c){return this.forEachFeatureAtCoordinate(t,n,s,r,br,this,o,c)!==void 0}getMap(){return this.map_}renderFrame(t){Lt()}scheduleExpireIconCache(t){Sn.canExpireCache()&&t.postRenderFunctions.push(IT)}}function IT(l,t){Sn.expire()}class zT extends LT{constructor(t){super(t),this.fontChangeListenerKey_=It(Ti,ia.PROPERTYCHANGE,t.redrawText,t),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=Fu+" ol-layers";const s=t.getViewport();s.insertBefore(this.element_,s.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,n){const s=this.getMap();if(s.hasListener(t)){const r=new N1(t,void 0,n);s.dispatchEvent(r)}}disposeInternal(){Vt(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(xn.PRECOMPOSE,t);const n=t.layerStatesArray.sort((h,d)=>h.zIndex-d.zIndex);n.some(h=>h.layer instanceof q1&&h.layer.getDeclutter())&&(t.declutter={});const r=t.viewState;this.children_.length=0;const o=[];let c=null;for(let h=0,d=n.length;h<d;++h){const _=n[h];t.layerIndex=h;const m=_.layer,y=m.getSourceState();if(!Od(_,r)||y!="ready"&&y!="undefined"){m.unrender();continue}const v=m.render(t,c);v&&(v!==c&&(this.children_.push(v),c=v),o.push(_))}this.declutter(t,o),sS(this.element_,this.children_),this.dispatchRenderEvent(xn.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,n){if(t.declutter){for(let s=n.length-1;s>=0;--s){const r=n[s],o=r.layer;o.getDeclutter()&&o.renderDeclutter(t,r)}n.forEach(s=>s.layer.renderDeferred(t))}}}function J1(l){if(l instanceof qu){l.setMapInternal(null);return}l instanceof ga&&l.getLayers().forEach(J1)}function $1(l,t){if(l instanceof qu){l.setMapInternal(t);return}if(l instanceof ga){const n=l.getLayers().getArray();for(let s=0,r=n.length;s<r;++s)$1(n[s],t)}}let NT=class extends $n{constructor(t){super(),t=t||{},this.on,this.once,this.un;const n=GT(t);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:d1,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Gn(),this.pixelToCoordinateTransform_=Gn(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||fT(),this.interactions=n.interactions||OT({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new rT(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Me.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Me.VIEW,this.handleViewChanged_),this.addChangeListener(Me.SIZE,this.handleSizeChanged_),this.addChangeListener(Me.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const s=this;t.view&&!(t.view instanceof Wn)&&t.view.then(function(r){s.setView(new Wn(r))}),this.controls.addEventListener(je.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(je.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(je.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(je.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(je.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(je.REMOVE,r=>{const o=r.element.getId();o!==void 0&&delete this.overlayIdIndex_[o.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){$1(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const n=t.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,n,s){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(t);s=s!==void 0?s:{};const o=s.hitTolerance!==void 0?s.hitTolerance:0,c=s.layerFilter!==void 0?s.layerFilter:br,h=s.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,o,h,n,null,c,null)}getFeaturesAtPixel(t,n){const s=[];return this.forEachFeatureAtPixel(t,function(r){s.push(r)},n),s}getAllLayers(){const t=[];function n(s){s.forEach(function(r){r instanceof ga?n(r.getLayers()):t.push(r)})}return n(this.getLayers()),t}hasFeatureAtPixel(t,n){if(!this.frameState_||!this.renderer_)return!1;const s=this.getCoordinateFromPixelInternal(t);n=n!==void 0?n:{};const r=n.layerFilter!==void 0?n.layerFilter:br,o=n.hitTolerance!==void 0?n.hitTolerance:0,c=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(s,this.frameState_,o,c,r,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const s=this.viewport_.getBoundingClientRect(),r=this.getSize(),o=s.width/r[0],c=s.height/r[1],h="changedTouches"in t?t.changedTouches[0]:t;return[(h.clientX-s.left)/o,(h.clientY-s.top)/c]}getTarget(){return this.get(Me.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return Xf(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const n=this.frameState_;return n?me(n.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const n=this.overlayIdIndex_[t.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Me.LAYERGROUP)}setLayers(t){const n=this.getLayerGroup();if(t instanceof Qn){n.setLayers(t);return}const s=n.getLayers();s.clear(),s.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let n=0,s=t.length;n<s;++n){const r=t[n];if(!r.visible)continue;const o=r.layer.getRenderer();if(o&&!o.ready)return!0;const c=r.layer.getSource();if(c&&c.loading)return!0}return!1}getPixelFromCoordinate(t){const n=Si(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(t){const n=this.frameState_;return n?me(n.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Me.SIZE)}getView(){return this.get(Me.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,n,s,r){return oT(this.frameState_,t,n,s,r)}handleBrowserEvent(t,n){n=n||t.type;const s=new ls(n,this,t);this.handleMapBrowserEvent(s)}handleMapBrowserEvent(t){if(!this.frameState_)return;const n=t.originalEvent,s=n.type;if(s===Zf.POINTERDOWN||s===pt.WHEEL||s===pt.KEYDOWN){const r=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():r,c=n.target,h=o instanceof ShadowRoot?o.host===c?o.host.ownerDocument:o:o===r?r.documentElement:o;if(this.overlayContainerStopEvent_.contains(c)||!h.contains(c))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){const r=this.getInteractions().getArray().slice();for(let o=r.length-1;o>=0;o--){const c=r[o];if(c.getMap()!==this||!c.getActive()||!this.getTargetElement())continue;if(!c.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let r=this.maxTilesLoading_,o=r;if(t){const c=t.viewHints;if(c[De.ANIMATING]||c[De.INTERACTING]){const h=Date.now()-t.time>8;r=h?0:8,o=h?0:2}}n.getTilesLoading()<r&&(n.reprioritize(),n.loadMoreTiles(r,o))}t&&this.renderer_&&!t.animate&&(this.renderComplete_?(this.hasListener(xn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(xn.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Vl(as.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Vl(as.LOADSTART,this,t))));const s=this.postRenderFunctions_;if(t)for(let r=0,o=s.length;r<o;++r)s[r](this,t);s.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let s=0,r=this.targetChangeHandlerKeys_.length;s<r;++s)Vt(this.targetChangeHandlerKeys_[s]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(pt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(pt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const s=this.targetElement_.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.unobserve(s.host),this.setSize(void 0)}const t=this.getTarget(),n=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new zT(this)),this.mapBrowserEventHandler_=new lT(this,this.moveTolerance_);for(const o in te)this.mapBrowserEventHandler_.addEventListener(te[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(pt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(pt.WHEEL,this.boundHandleBrowserEvent_,m1?{passive:!1}:!1);let s;if(this.keyboardEventTarget_)s=this.keyboardEventTarget_;else{const o=n.getRootNode();s=o instanceof ShadowRoot?o.host:n}this.targetChangeHandlerKeys_=[It(s,pt.KEYDOWN,this.handleBrowserEvent,this),It(s,pt.KEYPRESS,this.handleBrowserEvent,this)];const r=n.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Vt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Vt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=It(t,ia.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=It(t,pt.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Vt),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new rs("addlayer",t)),this.layerGroupPropertyListenerKeys_=[It(t,ia.PROPERTYCHANGE,this.render,this),It(t,pt.CHANGE,this.render,this),It(t,"addlayer",this.handleLayerAdd_,this),It(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let n=0,s=t.length;n<s;++n){const r=t[n].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){J1(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const n=this.getSize(),s=this.getView(),r=this.frameState_;let o=null;if(n!==void 0&&ay(n)&&s&&s.isDef()){const c=s.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=s.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:Nf(h.center,h.resolution,h.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:h,viewHints:c,wantedTiles:{},mapId:Gt(this),renderTargets:{}},h.nextCenter&&h.nextResolution){const d=isNaN(h.nextRotation)?h.rotation:h.nextRotation;o.nextExtent=Nf(h.nextCenter,h.nextResolution,d,n)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),r&&(!this.previousExtent_||!Uu(this.previousExtent_)&&!Ar(o.extent,this.previousExtent_))&&(this.dispatchEvent(new Vl(as.MOVESTART,this,r)),this.previousExtent_=Iu(this.previousExtent_)),this.previousExtent_&&!o.viewHints[De.ANIMATING]&&!o.viewHints[De.INTERACTING]&&!Ar(o.extent,this.previousExtent_)&&(this.dispatchEvent(new Vl(as.MOVEEND,this,o)),ky(o.extent,this.previousExtent_))),this.dispatchEvent(new Vl(as.POSTRENDER,this,o)),this.renderComplete_=(this.hasListener(as.LOADSTART)||this.hasListener(as.LOADEND)||this.hasListener(xn.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new rs("removelayer",n)),this.set(Me.LAYERGROUP,t)}setSize(t){this.set(Me.SIZE,t)}setTarget(t){this.set(Me.TARGET,t)}setView(t){if(!t||t instanceof Wn){this.set(Me.VIEW,t);return}this.set(Me.VIEW,new Wn);const n=this;t.then(function(s){n.setView(new Wn(s))})}updateSize(){const t=this.getTargetElement();let n;if(t){const r=getComputedStyle(t),o=t.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),c=t.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(o)&&!isNaN(c)&&(n=[Math.max(0,o),Math.max(0,c)],!ay(n)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&Py("No map visible because the map container's width or height are 0."))}const s=this.getSize();n&&(!s||!gs(n,s))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(t){const n=this.getView();n&&n.setViewportSize(t)}};function GT(l){let t=null;l.keyboardEventTarget!==void 0&&(t=typeof l.keyboardEventTarget=="string"?document.getElementById(l.keyboardEventTarget):l.keyboardEventTarget);const n={},s=l.layers&&typeof l.layers.getLayers=="function"?l.layers:new ga({layers:l.layers});n[Me.LAYERGROUP]=s,n[Me.TARGET]=l.target,n[Me.VIEW]=l.view instanceof Wn?l.view:new Wn;let r;l.controls!==void 0&&(Array.isArray(l.controls)?r=new Qn(l.controls.slice()):(zt(typeof l.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=l.controls));let o;l.interactions!==void 0&&(Array.isArray(l.interactions)?o=new Qn(l.interactions.slice()):(zt(typeof l.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),o=l.interactions));let c;return l.overlays!==void 0?Array.isArray(l.overlays)?c=new Qn(l.overlays.slice()):(zt(typeof l.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),c=l.overlays):c=new Qn,{controls:r,interactions:o,keyboardEventTarget:t,overlays:c,values:n}}class Gd{constructor(t,n,s,r){this.minX=t,this.maxX=n,this.minY=s,this.maxY=r}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,n){return this.minX<=t&&t<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function jl(l,t,n,s,r){return r!==void 0?(r.minX=l,r.maxX=t,r.minY=n,r.maxY=s,r):new Gd(l,t,n,s)}function Pf(l){return l instanceof Image||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageBitmap?l:null}const UT=new Error("disposed"),kT=[256,256];class by extends Ld{constructor(t){const n=ft.IDLE;super(t.tileCoord,n,{transition:t.transition,interpolate:t.interpolate}),this.loader_=t.loader,this.data_=null,this.error_=null,this.size_=t.size||null,this.controller_=t.controller||null}getSize(){if(this.size_)return this.size_;const t=Pf(this.data_);return t?[t.width,t.height]:kT}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==ft.IDLE&&this.state!==ft.ERROR)return;this.state=ft.LOADING,this.changed();const t=this;this.loader_().then(function(n){t.data_=n,t.state=ft.LOADED,t.changed()}).catch(function(n){t.error_=n,t.state=ft.ERROR,t.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(UT),this.controller_=null),super.disposeInternal()}}let wf;const na=[];function Ay(l,t,n,s,r){l.beginPath(),l.moveTo(0,0),l.lineTo(t,n),l.lineTo(s,r),l.closePath(),l.save(),l.clip(),l.fillRect(0,0,Math.max(t,s)+1,Math.max(n,r)),l.restore()}function bf(l,t){return Math.abs(l[t*4]-210)>2||Math.abs(l[t*4+3]-.75*255)>2}function YT(){if(wf===void 0){const l=ye(6,6,na);l.globalCompositeOperation="lighter",l.fillStyle="rgba(210, 0, 0, 0.75)",Ay(l,4,5,4,0),Ay(l,4,5,0,5);const t=l.getImageData(0,0,3,3).data;wf=bf(t,0)||bf(t,4)||bf(t,8),Xu(l),na.push(l.canvas)}return wf}function My(l,t,n,s){const r=dd(n,t,l);let o=N0(t,s,n);const c=t.getMetersPerUnit();c!==void 0&&(o*=c);const h=l.getMetersPerUnit();h!==void 0&&(o/=h);const d=l.getExtent();if(!d||aa(d,r)){const _=N0(l,o,r)/o;isFinite(_)&&_>0&&(o/=_)}return o}function XT(l,t,n,s){const r=Qs(n);let o=My(l,t,r,s);return(!isFinite(o)||o<=0)&&jy(n,function(c){return o=My(l,t,c,s),isFinite(o)&&o>0}),o}function FT(l,t,n,s,r,o,c,h,d,_,m,y,v,x){const S=ye(Math.round(n*l),Math.round(n*t),na);if(y||(S.imageSmoothingEnabled=!1),d.length===0)return S.canvas;S.scale(n,n);function w(O){return Math.round(O*n)/n}S.globalCompositeOperation="lighter";const T=Rn();d.forEach(function(O,q,K){YE(T,O.extent)});let b;const D=n/s,G=(y?1:1+Math.pow(2,-24))/D;b=ye(Math.round(Yt(T)*D),Math.round(ke(T)*D),na),y||(b.imageSmoothingEnabled=!1),d.forEach(function(O,q,K){if(O.image.width>0&&O.image.height>0){if(O.clipExtent){b.save();const lt=(O.clipExtent[0]-T[0])*D,ot=-(O.clipExtent[3]-T[3])*D,tt=Yt(O.clipExtent)*D,gt=ke(O.clipExtent)*D;b.rect(y?lt:Math.round(lt),y?ot:Math.round(ot),y?tt:Math.round(lt+tt)-Math.round(lt),y?gt:Math.round(ot+gt)-Math.round(ot)),b.clip()}const Z=(O.extent[0]-T[0])*D,U=-(O.extent[3]-T[3])*D,V=Yt(O.extent)*D,st=ke(O.extent)*D;b.drawImage(O.image,_,_,O.image.width-2*_,O.image.height-2*_,y?Z:Math.round(Z),y?U:Math.round(U),y?V:Math.round(Z+V)-Math.round(Z),y?st:Math.round(U+st)-Math.round(U)),O.clipExtent&&b.restore()}});const I=tl(c);return h.getTriangles().forEach(function(O,q,K){const Z=O.source,U=O.target;let V=Z[0][0],st=Z[0][1],lt=Z[1][0],ot=Z[1][1],tt=Z[2][0],gt=Z[2][1];const Y=w((U[0][0]-I[0])/o),J=w(-(U[0][1]-I[1])/o),W=w((U[1][0]-I[0])/o),nt=w(-(U[1][1]-I[1])/o),C=w((U[2][0]-I[0])/o),X=w(-(U[2][1]-I[1])/o),k=V,et=st;V=0,st=0,lt-=k,ot-=et,tt-=k,gt-=et;const $=[[lt,ot,0,0,W-Y],[tt,gt,0,0,C-Y],[0,0,lt,ot,nt-J],[0,0,tt,gt,X-J]],at=ZE($);if(!at)return;if(S.save(),S.beginPath(),YT()||!y){S.moveTo(W,nt);const Ut=4,mt=Y-W,Xt=J-nt;for(let vt=0;vt<Ut;vt++)S.lineTo(W+w((vt+1)*mt/Ut),nt+w(vt*Xt/(Ut-1))),vt!=Ut-1&&S.lineTo(W+w((vt+1)*mt/Ut),nt+w((vt+1)*Xt/(Ut-1)));S.lineTo(C,X)}else S.moveTo(W,nt),S.lineTo(Y,J),S.lineTo(C,X);S.clip(),S.transform(at[0],at[2],at[1],at[3],Y,J),S.translate(T[0]-k,T[3]-et);let ct;if(b)ct=b.canvas,S.scale(G,-G);else{const Ut=d[0],mt=Ut.extent;ct=Ut.image,S.scale(Yt(mt)/ct.width,-ke(mt)/ct.height)}S.drawImage(ct,0,0),S.restore()}),b&&(Xu(b),na.push(b.canvas)),m&&(S.save(),S.globalCompositeOperation="source-over",S.strokeStyle="black",S.lineWidth=1,h.getTriangles().forEach(function(O,q,K){const Z=O.target,U=(Z[0][0]-I[0])/o,V=-(Z[0][1]-I[1])/o,st=(Z[1][0]-I[0])/o,lt=-(Z[1][1]-I[1])/o,ot=(Z[2][0]-I[0])/o,tt=-(Z[2][1]-I[1])/o;S.beginPath(),S.moveTo(st,lt),S.lineTo(U,V),S.lineTo(ot,tt),S.closePath(),S.stroke()}),S.restore()),S.canvas}const BT=10,Dy=.25;class jT{constructor(t,n,s,r,o,c,h){this.sourceProj_=t,this.targetProj_=n;let d={};const _=h?Sx(G=>me(h,dd(G,this.targetProj_,this.sourceProj_))):Eu(this.targetProj_,this.sourceProj_);this.transformInv_=function(G){const I=G[0]+"/"+G[1];return d[I]||(d[I]=_(G)),d[I]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Yt(r)>=Yt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Yt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Yt(this.targetProj_.getExtent()):null;const m=tl(s),y=Gu(s),v=Nu(s),x=zu(s),S=this.transformInv_(m),w=this.transformInv_(y),T=this.transformInv_(v),b=this.transformInv_(x),D=BT+(c?Math.max(0,Math.ceil(Math.log2(zf(s)/(c*c*256*256)))):0);if(this.addQuad_(m,y,v,x,S,w,T,b,D),this.wrapsXInSource_){let G=1/0;this.triangles_.forEach(function(I,O,q){G=Math.min(G,I.source[0][0],I.source[1][0],I.source[2][0])}),this.triangles_.forEach(I=>{if(Math.max(I.source[0][0],I.source[1][0],I.source[2][0])-G>this.sourceWorldWidth_/2){const O=[[I.source[0][0],I.source[0][1]],[I.source[1][0],I.source[1][1]],[I.source[2][0],I.source[2][1]]];O[0][0]-G>this.sourceWorldWidth_/2&&(O[0][0]-=this.sourceWorldWidth_),O[1][0]-G>this.sourceWorldWidth_/2&&(O[1][0]-=this.sourceWorldWidth_),O[2][0]-G>this.sourceWorldWidth_/2&&(O[2][0]-=this.sourceWorldWidth_);const q=Math.min(O[0][0],O[1][0],O[2][0]);Math.max(O[0][0],O[1][0],O[2][0])-q<this.sourceWorldWidth_/2&&(I.source=O)}})}d={}}addTriangle_(t,n,s,r,o,c){this.triangles_.push({source:[r,o,c],target:[t,n,s]})}addQuad_(t,n,s,r,o,c,h,d,_){const m=C0([o,c,h,d]),y=this.sourceWorldWidth_?Yt(m)/this.sourceWorldWidth_:null,v=this.sourceWorldWidth_,x=this.sourceProj_.canWrapX()&&y>.5&&y<1;let S=!1;if(_>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const T=C0([t,n,s,r]);S=Yt(T)/this.targetWorldWidth_>Dy||S}!x&&this.sourceProj_.isGlobal()&&y&&(S=y>Dy||S)}if(!S&&this.maxSourceExtent_&&isFinite(m[0])&&isFinite(m[1])&&isFinite(m[2])&&isFinite(m[3])&&!qe(m,this.maxSourceExtent_))return;let w=0;if(!S&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(h[0])||!isFinite(h[1])||!isFinite(d[0])||!isFinite(d[1]))){if(_>0)S=!0;else if(w=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(c[0])||!isFinite(c[1])?4:0)+(!isFinite(h[0])||!isFinite(h[1])?2:0)+(!isFinite(d[0])||!isFinite(d[1])?1:0),w!=1&&w!=2&&w!=4&&w!=8)return}if(_>0){if(!S){const T=[(t[0]+s[0])/2,(t[1]+s[1])/2],b=this.transformInv_(T);let D;x?D=($l(o[0],v)+$l(h[0],v))/2-$l(b[0],v):D=(o[0]+h[0])/2-b[0];const G=(o[1]+h[1])/2-b[1];S=D*D+G*G>this.errorThresholdSquared_}if(S){if(Math.abs(t[0]-s[0])<=Math.abs(t[1]-s[1])){const T=[(n[0]+s[0])/2,(n[1]+s[1])/2],b=this.transformInv_(T),D=[(r[0]+t[0])/2,(r[1]+t[1])/2],G=this.transformInv_(D);this.addQuad_(t,n,T,D,o,c,b,G,_-1),this.addQuad_(D,T,s,r,G,b,h,d,_-1)}else{const T=[(t[0]+n[0])/2,(t[1]+n[1])/2],b=this.transformInv_(T),D=[(s[0]+r[0])/2,(s[1]+r[1])/2],G=this.transformInv_(D);this.addQuad_(t,T,D,r,o,b,G,d,_-1),this.addQuad_(T,n,s,D,b,c,h,G,_-1)}return}}if(x){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(w&11)==0&&this.addTriangle_(t,s,r,o,h,d),(w&14)==0&&this.addTriangle_(t,s,n,o,h,c),w&&((w&13)==0&&this.addTriangle_(n,r,t,c,d,o),(w&7)==0&&this.addTriangle_(n,r,s,c,d,h))}calculateSourceExtent(){const t=Rn();return this.triangles_.forEach(function(n,s,r){const o=n.source;wr(t,o[0]),wr(t,o[1]),wr(t,o[2])}),t}getTriangles(){return this.triangles_}}const HT=.5;class tp extends Ld{constructor(t,n,s,r,o,c,h,d,_,m,y,v){super(o,ft.IDLE,v),this.renderEdges_=y!==void 0?y:!1,this.pixelRatio_=h,this.gutter_=d,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=r,this.wrappedTileCoord_=c||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;const x=r.getTileCoordExtent(this.wrappedTileCoord_),S=this.targetTileGrid_.getExtent();let w=this.sourceTileGrid_.getExtent();const T=S?Ks(x,S):x;if(zf(T)===0){this.state=ft.EMPTY;return}const b=t.getExtent();b&&(w?w=Ks(w,b):w=b);const D=r.getResolution(this.wrappedTileCoord_[0]),G=XT(t,s,T,D);if(!isFinite(G)||G<=0){this.state=ft.EMPTY;return}const I=m!==void 0?m:HT;if(this.triangulation_=new jT(t,s,T,w,G*I,D),this.triangulation_.getTriangles().length===0){this.state=ft.EMPTY;return}this.sourceZ_=n.getZForResolution(G);let O=this.triangulation_.calculateSourceExtent();if(w&&(t.canWrapX()?(O[1]=le(O[1],w[1],w[3]),O[3]=le(O[3],w[1],w[3])):O=Ks(O,w)),!zf(O))this.state=ft.EMPTY;else{let q=0,K=0;t.canWrapX()&&(q=Yt(b),K=Math.floor((O[0]-b[0])/q)),qy(O.slice(),t,!0).forEach(U=>{const V=n.getTileRangeForExtentAndZ(U,this.sourceZ_);for(let st=V.minX;st<=V.maxX;st++)for(let lt=V.minY;lt<=V.maxY;lt++){const ot=_(this.sourceZ_,st,lt,h);if(ot){const tt=K*q;this.sourceTiles_.push({tile:ot,offset:tt})}}++K}),this.sourceTiles_.length===0&&(this.state=ft.EMPTY)}}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach(n=>{var r;const s=n.tile;if(s&&s.getState()==ft.LOADED){const o=this.sourceTileGrid_.getTileCoordExtent(s.tileCoord);o[0]+=n.offset,o[2]+=n.offset;const c=(r=this.clipExtent_)==null?void 0:r.slice();c&&(c[0]+=n.offset,c[2]+=n.offset),t.push({extent:o,clipExtent:c,image:s.getImage()})}}),this.sourceTiles_.length=0,t.length===0)this.state=ft.ERROR;else{const n=this.wrappedTileCoord_[0],s=this.targetTileGrid_.getTileSize(n),r=typeof s=="number"?s:s[0],o=typeof s=="number"?s:s[1],c=this.targetTileGrid_.getResolution(n),h=this.sourceTileGrid_.getResolution(this.sourceZ_),d=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=FT(r,o,this.pixelRatio_,h,this.sourceTileGrid_.getExtent(),c,d,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=ft.LOADED}this.changed()}load(){if(this.state==ft.IDLE){this.state=ft.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const s=n.getState();if(s==ft.IDLE||s==ft.LOADING){t++;const r=It(n,pt.CHANGE,o=>{const c=n.getState();(c==ft.LOADED||c==ft.ERROR||c==ft.EMPTY)&&(Vt(r),t--,t===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},s,r){n.getState()==ft.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Vt),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Xu(this.canvas_.getContext("2d")),na.push(this.canvas_),this.canvas_=null),super.release()}}class ZT{constructor(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const t=this.pop();t instanceof Du&&t.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let n=this.oldest_;for(;n;)t(n.value_,n.key_,this),n=n.newer}get(t,n){const s=this.entries_[t];return zt(s!==void 0,"Tried to get a value for a key that does not exist in the cache"),s===this.newest_||(s===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(s.newer.older=s.older,s.older.newer=s.newer),s.newer=null,s.older=this.newest_,this.newest_.newer=s,this.newest_=s),s.value_}remove(t){const n=this.entries_[t];return zt(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[t],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let n=0,s;for(s=this.newest_;s;s=s.older)t[n++]=s.key_;return t}getValues(){const t=new Array(this.count_);let n=0,s;for(s=this.newest_;s;s=s.older)t[n++]=s.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){var n;return(n=this.entries_[t])==null?void 0:n.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,n){this.get(t),this.entries_[t].value_=n}set(t,n){zt(!(t in this.entries_),"Tried to set a value for a key that is used already");const s={key_:t,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=s:this.oldest_=s,this.newest_=s,this.entries_[t]=s,++this.count_}setSize(t){this.highWaterMark=t}}function Mu(l,t,n,s){return s!==void 0?(s[0]=l,s[1]=t,s[2]=n,s):[l,t,n]}function qT(l,t,n){return l+"/"+t+"/"+n}function PT(l){return VT(l[0],l[1],l[2])}function VT(l,t,n){return(t<<l)+n}function KT(l,t){const n=l[0],s=l[1],r=l[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;const o=t.getFullTileRange(n);return o?o.containsXY(s,r):!0}function Af(l,t,n,s){return`${l},${qT(t,n,s)}`}function Mf(l,t,n){if(!(n in l))return l[n]=new Set([t]),!0;const s=l[n],r=s.has(t);return r||s.add(t),!r}function WT(l,t,n){const s=l[n];return s?s.delete(t):!1}function Oy(l,t){const n=l.layerStatesArray[l.layerIndex];n.extent&&(t=Ks(t,os(n.extent,l.viewState.projection)));const s=n.layer.getRenderSource();if(!s.getWrapX()){const r=s.getTileGridForProjection(l.viewState.projection).getExtent();r&&(t=Ks(t,r))}return t}class QT extends G1{constructor(t,n){super(t),n=n||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision_,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=Rn(),this.tempTileRange_=new Gd(0,0,0,0),this.tempTileCoord_=Mu(0,0,0);const s=n.cacheSize!==void 0?n.cacheSize:512;this.tileCache_=new ZT(s),this.maxStaleKeys=s*.5}getTileCache(){return this.tileCache_}getOrCreateTile(t,n,s,r){const o=this.tileCache_,h=this.getLayer().getSource(),d=Af(h.getKey(),t,n,s);let _;if(o.containsKey(d))_=o.get(d);else{if(_=h.getTile(t,n,s,r.pixelRatio,r.viewState.projection),!_)return null;o.set(d,_)}return _}getTile(t,n,s,r){const o=this.getOrCreateTile(t,n,s,r);return o||null}getData(t){const n=this.frameState;if(!n)return null;const s=this.getLayer(),r=me(n.pixelToCoordinateTransform,t.slice()),o=s.getExtent();if(o&&!aa(o,r))return null;const c=n.viewState,h=s.getRenderSource(),d=h.getTileGridForProjection(c.projection),_=h.getTilePixelRatio(n.pixelRatio);for(let m=d.getZForResolution(c.resolution);m>=d.getMinZoom();--m){const y=d.getTileCoordForCoordAndZ(r,m),v=this.getTile(m,y[1],y[2],n);if(!v||v.getState()!==ft.LOADED)continue;const x=d.getOrigin(m),S=Ve(d.getTileSize(m)),w=d.getResolution(m);let T;if(v instanceof P1||v instanceof tp)T=v.getImage();else if(v instanceof by){if(T=Pf(v.getData()),!T)continue}else continue;const b=Math.floor(_*((r[0]-x[0])/w-y[1]*S[0])),D=Math.floor(_*((x[1]-r[1])/w-y[2]*S[1])),G=Math.round(_*h.getGutterForProjection(c.projection));return this.getImageData(T,b+G,D+G)}return null}prepareFrame(t){this.renderedProjection?t.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=t.viewState.projection):this.renderedProjection=t.viewState.projection;const n=this.getLayer().getSource();if(!n)return!1;const s=n.getRevision();return this.renderedRevision_?this.renderedRevision_!==s&&(this.renderedRevision_=s,this.renderedSourceKey_===n.getKey()&&this.tileCache_.clear()):this.renderedRevision_=s,!0}enqueueTiles(t,n,s,r,o){const c=t.viewState,h=this.getLayer(),d=h.getRenderSource(),_=d.getTileGridForProjection(c.projection),m=Gt(d);m in t.wantedTiles||(t.wantedTiles[m]={});const y=t.wantedTiles[m],v=h.getMapInternal(),x=Math.max(s-o,_.getMinZoom(),_.getZForResolution(Math.min(h.getMaxResolution(),v?v.getView().getResolutionForZoom(Math.max(h.getMinZoom(),0)):_.getResolution(0)),d.zDirection)),S=c.rotation,w=S?Hy(c.center,c.resolution,S,t.size):void 0;for(let T=s;T>=x;--T){const b=_.getTileRangeForExtentAndZ(n,T,this.tempTileRange_),D=_.getResolution(T);for(let G=b.minX;G<=b.maxX;++G)for(let I=b.minY;I<=b.maxY;++I){if(S&&!_.tileCoordIntersectsViewport([T,G,I],w))continue;const O=this.getTile(T,G,I,t);if(!O||!Mf(r,O,T))continue;const K=O.getKey();if(y[K]=!0,O.getState()===ft.IDLE&&!t.tileQueue.isKeyQueued(K)){const Z=Mu(T,G,I,this.tempTileCoord_);t.tileQueue.enqueue([O,m,_.getTileCoordCenter(Z),D])}}}}findStaleTile_(t,n){const s=this.tileCache_,r=t[0],o=t[1],c=t[2],h=this.getStaleKeys();for(let d=0;d<h.length;++d){const _=Af(h[d],r,o,c);if(s.containsKey(_)){const m=s.peek(_);if(m.getState()===ft.LOADED)return m.endTransition(Gt(this)),Mf(n,m,r),!0}}return!1}findAltTiles_(t,n,s,r){const o=t.getTileRangeForTileCoordAndZ(n,s,this.tempTileRange_);if(!o)return!1;let c=!0;const h=this.tileCache_,_=this.getLayer().getRenderSource().getKey();for(let m=o.minX;m<=o.maxX;++m)for(let y=o.minY;y<=o.maxY;++y){const v=Af(_,s,m,y);let x=!1;if(h.containsKey(v)){const S=h.peek(v);S.getState()===ft.LOADED&&(Mf(r,S,s),x=!0)}x||(c=!1)}return c}renderFrame(t,n){let s=!0;this.renderComplete=!0;const r=t.layerStatesArray[t.layerIndex],o=t.viewState,c=o.projection,h=o.resolution,d=o.center,_=t.pixelRatio,m=this.getLayer(),y=m.getSource(),v=y.getTileGridForProjection(c),x=v.getZForResolution(h,y.zDirection),S=v.getResolution(x),w=y.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==w&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=w):this.renderedSourceKey_=w;let T=t.extent;const b=y.getTilePixelRatio(_);this.prepareContainer(t,n);const D=this.context.canvas.width,G=this.context.canvas.height,I=r.extent&&os(r.extent);I&&(T=Ks(T,os(r.extent)));const O=S*D/2/b,q=S*G/2/b,K=[d[0]-O,d[1]-q,d[0]+O,d[1]+q],Z={};this.renderedTiles.length=0;const U=m.getPreload();if(t.nextExtent){const nt=v.getZForResolution(o.nextResolution,y.zDirection),C=Oy(t,t.nextExtent);this.enqueueTiles(t,C,nt,Z,U)}const V=Oy(t,T);if(this.enqueueTiles(t,V,x,Z,0),U>0&&setTimeout(()=>{this.enqueueTiles(t,V,x-1,Z,U-1)},0),!(x in Z))return this.container;const st=Gt(this),lt=t.time;for(const nt of Z[x]){const C=nt.getState();if(C===ft.EMPTY)continue;const X=nt.tileCoord;if(C===ft.LOADED&&nt.getAlpha(st,lt)===1){nt.endTransition(st);continue}if(C!==ft.IDLE&&(s=!1),C!==ft.ERROR&&(this.renderComplete=!1),this.findStaleTile_(X,Z)){WT(Z,nt,x),t.animate=!0;continue}if(this.findAltTiles_(v,X,x+1,Z))continue;const $=v.getMinZoom();for(let at=x-1;at>=$&&!this.findAltTiles_(v,X,at,Z);--at);}const ot=S/h*_/b,tt=this.getRenderContext(t);Mi(this.tempTransform,D/2,G/2,ot,ot,0,-D/2,-G/2),r.extent&&this.clipUnrotated(tt,t,I),y.getInterpolate()||(tt.imageSmoothingEnabled=!1),this.preRender(tt,t);const gt=Object.keys(Z).map(Number);gt.sort(Ci);let Y;const J=[],W=[];for(let nt=gt.length-1;nt>=0;--nt){const C=gt[nt],X=y.getTilePixelSize(C,_,c),et=v.getResolution(C)/S,$=X[0]*et*ot,at=X[1]*et*ot,ct=v.getTileCoordForCoordAndZ(tl(K),C),Ut=v.getTileCoordExtent(ct),mt=me(this.tempTransform,[b*(Ut[0]-K[0])/S,b*(K[3]-Ut[3])/S]),Xt=b*y.getGutterForProjection(c);for(const vt of Z[C]){if(vt.getState()!==ft.LOADED)continue;const Le=vt.tileCoord,kn=ct[1]-Le[1],We=Math.round(mt[0]-(kn-1)*$),Qe=ct[2]-Le[2],Yn=Math.round(mt[1]-(Qe-1)*at),pe=Math.round(mt[0]-kn*$),Ye=Math.round(mt[1]-Qe*at),Cn=We-pe,wn=Yn-Ye,Xn=gt.length===1;let ti=!1;Y=[pe,Ye,pe+Cn,Ye,pe+Cn,Ye+wn,pe,Ye+wn];for(let bn=0,ei=J.length;bn<ei;++bn)if(!Xn&&C<W[bn]){const jt=J[bn];qe([pe,Ye,pe+Cn,Ye+wn],[jt[0],jt[3],jt[4],jt[7]])&&(ti||(tt.save(),ti=!0),tt.beginPath(),tt.moveTo(Y[0],Y[1]),tt.lineTo(Y[2],Y[3]),tt.lineTo(Y[4],Y[5]),tt.lineTo(Y[6],Y[7]),tt.moveTo(jt[6],jt[7]),tt.lineTo(jt[4],jt[5]),tt.lineTo(jt[2],jt[3]),tt.lineTo(jt[0],jt[1]),tt.clip())}J.push(Y),W.push(C),this.drawTile(vt,t,pe,Ye,Cn,wn,Xt,Xn),ti&&tt.restore(),this.renderedTiles.unshift(vt),this.updateUsedTiles(t.usedTiles,y,vt)}}if(this.renderedResolution=S,this.extentChanged=!this.renderedExtent_||!Ar(this.renderedExtent_,K),this.renderedExtent_=K,this.renderedPixelRatio=_,this.postRender(this.context,t),r.extent&&tt.restore(),tt.imageSmoothingEnabled=!0,this.renderComplete){const nt=(C,X)=>{const k=Gt(y),et=X.wantedTiles[k],$=et?Object.keys(et).length:0;this.updateCacheSize($),this.tileCache_.expireCache()};t.postRenderFunctions.push(nt)}return!this.renderComplete&&!s&&(t.animate=!0),this.container}updateCacheSize(t){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,t*2)}drawTile(t,n,s,r,o,c,h,d){let _;if(t instanceof by){if(_=Pf(t.getData()),!_)throw new Error("Rendering array data is not yet supported")}else _=this.getTileImage(t);if(!_)return;const m=this.getRenderContext(n),y=Gt(this),v=n.layerStatesArray[n.layerIndex],x=v.opacity*(d?t.getAlpha(y,n.time):1),S=x!==m.globalAlpha;S&&(m.save(),m.globalAlpha=x),m.drawImage(_,h,h,_.width-2*h,_.height-2*h,s,r,o,c),S&&m.restore(),x!==v.opacity?n.animate=!0:d&&t.endTransition(y)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}updateUsedTiles(t,n,s){const r=Gt(n);r in t||(t[r]={}),t[r][s.getKey()]=!0}}const gu={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class JT extends qu{constructor(t){t=t||{};const n=Object.assign({},t),s=t.cacheSize;delete t.cacheSize,delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=s,this.setPreload(t.preload!==void 0?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(gu.PRELOAD)}setPreload(t){this.set(gu.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(gu.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(gu.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}class $T extends JT{constructor(t){super(t)}createRenderer(){return new QT(this,{cacheSize:this.getCacheSize()})}}const Hl=[0,0,0],ss=5;class ep{constructor(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,zt(zE(this.resolutions_,(r,o)=>o-r),"`resolutions` must be sorted in descending order");let n;if(!t.origins){for(let r=0,o=this.resolutions_.length-1;r<o;++r)if(!n)n=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,zt(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const s=t.extent;s!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=tl(s)),zt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,zt(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:Dd,zt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=s!==void 0?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map((r,o)=>{const c=new Gd(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(s){const h=this.getTileRangeForExtentAndZ(s,o);c.minX=Math.max(h.minX,c.minX),c.maxX=Math.min(h.maxX,c.maxX),c.minY=Math.max(h.minY,c.minY),c.maxY=Math.min(h.maxY,c.maxY)}return c}):s&&this.calculateTileRanges_(s)}forEachTileCoord(t,n,s){const r=this.getTileRangeForExtentAndZ(t,n);for(let o=r.minX,c=r.maxX;o<=c;++o)for(let h=r.minY,d=r.maxY;h<=d;++h)s([n,o,h])}forEachTileCoordParentTileRange(t,n,s,r){let o,c,h,d=null,_=t[0]-1;for(this.zoomFactor_===2?(c=t[1],h=t[2]):d=this.getTileCoordExtent(t,r);_>=this.minZoom;){if(c!==void 0&&h!==void 0?(c=Math.floor(c/2),h=Math.floor(h/2),o=jl(c,c,h,h,s)):o=this.getTileRangeForExtentAndZ(d,_,s),n(_,o))return!0;--_}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,n,s){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){const o=t[1]*2,c=t[2]*2;return jl(o,o+1,c,c+1,n)}const r=this.getTileCoordExtent(t,s||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,t[0]+1,n)}return null}getTileRangeForTileCoordAndZ(t,n,s){if(n>this.maxZoom||n<this.minZoom)return null;const r=t[0],o=t[1],c=t[2];if(n===r)return jl(o,c,o,c,s);if(this.zoomFactor_){const d=Math.pow(this.zoomFactor_,n-r),_=Math.floor(o*d),m=Math.floor(c*d);if(n<r)return jl(_,_,m,m,s);const y=Math.floor(d*(o+1))-1,v=Math.floor(d*(c+1))-1;return jl(_,y,m,v,s)}const h=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,n,s)}getTileRangeForExtentAndZ(t,n,s){this.getTileCoordForXYAndZ_(t[0],t[3],n,!1,Hl);const r=Hl[1],o=Hl[2];this.getTileCoordForXYAndZ_(t[2],t[1],n,!0,Hl);const c=Hl[1],h=Hl[2];return jl(r,c,o,h,s)}getTileCoordCenter(t){const n=this.getOrigin(t[0]),s=this.getResolution(t[0]),r=Ve(this.getTileSize(t[0]),this.tmpSize_);return[n[0]+(t[1]+.5)*r[0]*s,n[1]-(t[2]+.5)*r[1]*s]}getTileCoordExtent(t,n){const s=this.getOrigin(t[0]),r=this.getResolution(t[0]),o=Ve(this.getTileSize(t[0]),this.tmpSize_),c=s[0]+t[1]*o[0]*r,h=s[1]-(t[2]+1)*o[1]*r,d=c+o[0]*r,_=h+o[1]*r;return fs(c,h,d,_,n)}getTileCoordForCoordAndResolution(t,n,s){return this.getTileCoordForXYAndResolution_(t[0],t[1],n,!1,s)}getTileCoordForXYAndResolution_(t,n,s,r,o){const c=this.getZForResolution(s),h=s/this.getResolution(c),d=this.getOrigin(c),_=Ve(this.getTileSize(c),this.tmpSize_);let m=h*(t-d[0])/s/_[0],y=h*(d[1]-n)/s/_[1];return r?(m=au(m,ss)-1,y=au(y,ss)-1):(m=lu(m,ss),y=lu(y,ss)),Mu(c,m,y,o)}getTileCoordForXYAndZ_(t,n,s,r,o){const c=this.getOrigin(s),h=this.getResolution(s),d=Ve(this.getTileSize(s),this.tmpSize_);let _=(t-c[0])/h/d[0],m=(c[1]-n)/h/d[1];return r?(_=au(_,ss)-1,m=au(m,ss)-1):(_=lu(_,ss),m=lu(m,ss)),Mu(s,_,m,o)}getTileCoordForCoordAndZ(t,n,s){return this.getTileCoordForXYAndZ_(t[0],t[1],n,!1,s)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,n){const s=td(this.resolutions_,t,n||0);return le(s,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,n){return h1(n,0,n.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const n=this.resolutions_.length,s=new Array(n);for(let r=this.minZoom;r<n;++r)s[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=s}}function np(l){let t=l.getDefaultTileGrid();return t||(t=iR(l),l.setDefaultTileGrid(t)),t}function tR(l,t,n){const s=t[0],r=l.getTileCoordCenter(t),o=Ud(n);if(!aa(o,r)){const c=Yt(o),h=Math.ceil((o[0]-r[0])/c);return r[0]+=c*h,l.getTileCoordForCoordAndZ(r,s)}return t}function eR(l,t,n,s){s=s!==void 0?s:"top-left";const r=ip(l,t,n);return new ep({extent:l,origin:FE(l,s),resolutions:r,tileSize:n})}function nR(l){const t=l||{},n=t.extent||Ke("EPSG:3857").getExtent(),s={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:ip(n,t.maxZoom,t.tileSize,t.maxResolution)};return new ep(s)}function ip(l,t,n,s){t=t!==void 0?t:Q2,n=Ve(n!==void 0?n:Dd);const r=ke(l),o=Yt(l);s=s>0?s:Math.max(o/n[0],r/n[1]);const c=t+1,h=new Array(c);for(let d=0;d<c;++d)h[d]=s/Math.pow(2,d);return h}function iR(l,t,n,s){const r=Ud(l);return eR(r,t,n,s)}function Ud(l){l=Ke(l);let t=l.getExtent();if(!t){const n=180*ad.degrees/l.getMetersPerUnit();t=fs(-n,-n,n,n)}return t}const sR=/\{z\}/g,lR=/\{x\}/g,aR=/\{y\}/g,rR=/\{-y\}/g;function oR(l,t,n,s,r){return l.replace(sR,t.toString()).replace(lR,n.toString()).replace(aR,s.toString()).replace(rR,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-s).toString()})}function uR(l){const t=[];let n=/\{([a-z])-([a-z])\}/.exec(l);if(n){const s=n[1].charCodeAt(0),r=n[2].charCodeAt(0);let o;for(o=s;o<=r;++o)t.push(l.replace(n[0],String.fromCharCode(o)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(l),n){const s=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=s;r++)t.push(l.replace(n[0],r.toString()));return t}return t.push(l),t}function cR(l,t){return function(n,s,r){if(!n)return;let o;const c=n[0];if(t){const h=t.getFullTileRange(c);h&&(o=h.getHeight()-1)}return oR(l,c,n[1],n[2],o)}}function hR(l,t){const n=l.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=cR(l[r],t);return fR(s)}function fR(l){return l.length===1?l[0]:function(t,n,s){if(!t)return;const r=PT(t),o=$l(r,l.length);return l[o](t,n,s)}}class dR extends M1{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;const n=[256,256];this.tileGrid&&Ve(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tmpSize=[0,0],this.key_=t.key||Gt(this),this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getResolutions(t){const n=t?this.getTileGridForProjection(t):this.tileGrid;return n?n.getResolutions():null}getTile(t,n,s,r,o){return Lt()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:np(t)}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,n,s){const r=this.getTileGridForProjection(s),o=this.getTilePixelRatio(n),c=Ve(r.getTileSize(t),this.tmpSize);return o==1?c:kS(c,o,this.tmpSize)}getTileCoordForTileUrlFunction(t,n){const s=n!==void 0?n:this.getProjection(),r=n!==void 0?this.getTileGridForProjection(s):this.tileGrid||this.getTileGridForProjection(s);return this.getWrapX()&&s.isGlobal()&&(t=tR(r,t,s)),KT(t,r)?t:null}clear(){}refresh(){this.clear(),super.refresh()}}class gR extends Di{constructor(t,n){super(t),this.tile=n}}const Df={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class kd extends dR{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===kd.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const n=t.target,s=Gt(n),r=n.getState();let o;r==ft.LOADING?(this.tileLoadingKeys_[s]=!0,o=Df.TILELOADSTART):s in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[s],o=r==ft.ERROR?Df.TILELOADERROR:r==ft.LOADED?Df.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new gR(o,n))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,n){this.tileUrlFunction=t,typeof n<"u"?this.setKey(n):this.changed()}setUrl(t){const n=uR(t);this.urls=n,this.setUrls(n)}setUrls(t){this.urls=t;const n=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(hR(t,this.tileGrid),n):this.setKey(n)}tileUrlFunction(t,n,s){}}class _R extends kd{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:mR,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate!==void 0?t.interpolate:!0,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,this.tileClass=t.tileClass!==void 0?t.tileClass:P1,this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(t){return this.getProjection()&&t&&!cf(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getTileGridForProjection(t){const n=this.getProjection();if(this.tileGrid&&(!n||cf(n,t)))return this.tileGrid;const s=Gt(t);return s in this.tileGridForProjection||(this.tileGridForProjection[s]=np(t)),this.tileGridForProjection[s]}createTile_(t,n,s,r,o,c){const h=[t,n,s],d=this.getTileCoordForTileUrlFunction(h,o),_=d?this.tileUrlFunction(d,r,o):void 0,m=new this.tileClass(h,_!==void 0?ft.IDLE:ft.EMPTY,_!==void 0?_:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return m.key=c,m.addEventListener(pt.CHANGE,this.handleTileChange.bind(this)),m}getTile(t,n,s,r,o){const c=this.getProjection();if(!c||!o||cf(c,o))return this.getTileInternal(t,n,s,r,c||o);const h=[t,n,s],d=this.getKey(),_=this.getTileGridForProjection(c),m=this.getTileGridForProjection(o),y=this.getTileCoordForTileUrlFunction(h,o),v=new tp(c,_,o,m,h,y,this.getTilePixelRatio(r),this.getGutter(),(x,S,w,T)=>this.getTileInternal(x,S,w,T,c),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return v.key=d,v}getTileInternal(t,n,s,r,o){const c=this.getKey();return this.createTile_(t,n,s,r,o,c)}setRenderReprojectionEdges(t){this.renderReprojectionEdges_!=t&&(this.renderReprojectionEdges_=t,this.changed())}setTileGridForProjection(t,n){const s=Ke(t);if(s){const r=Gt(s);r in this.tileGridForProjection||(this.tileGridForProjection[r]=n)}}}function mR(l,t){l.getImage().src=t}class yR extends _R{constructor(t){t=t||{};const n=t.projection!==void 0?t.projection:"EPSG:3857",s=t.tileGrid!==void 0?t.tileGrid:nR({extent:Ud(n),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:n,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0}getGutter(){return this.gutter_}}const pR='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class vR extends yR{constructor(t){t=t||{};let n;t.attributions!==void 0?n=t.attributions:n=[pR];const s=t.crossOrigin!==void 0?t.crossOrigin:"anonymous",r=t.url!==void 0?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:s,interpolate:t.interpolate,maxZoom:t.maxZoom!==void 0?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:r,wrapX:t.wrapX,zDirection:t.zDirection})}}const Vf=(l,t)=>t.some(n=>l instanceof n);let Ly,Iy;function ER(){return Ly||(Ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xR(){return Iy||(Iy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kf=new WeakMap,Of=new WeakMap,Pu=new WeakMap;function SR(l){const t=new Promise((n,s)=>{const r=()=>{l.removeEventListener("success",o),l.removeEventListener("error",c)},o=()=>{n(Ws(l.result)),r()},c=()=>{s(l.error),r()};l.addEventListener("success",o),l.addEventListener("error",c)});return Pu.set(t,l),t}function TR(l){if(Kf.has(l))return;const t=new Promise((n,s)=>{const r=()=>{l.removeEventListener("complete",o),l.removeEventListener("error",c),l.removeEventListener("abort",c)},o=()=>{n(),r()},c=()=>{s(l.error||new DOMException("AbortError","AbortError")),r()};l.addEventListener("complete",o),l.addEventListener("error",c),l.addEventListener("abort",c)});Kf.set(l,t)}let Wf={get(l,t,n){if(l instanceof IDBTransaction){if(t==="done")return Kf.get(l);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ws(l[t])},set(l,t,n){return l[t]=n,!0},has(l,t){return l instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in l}};function sp(l){Wf=l(Wf)}function RR(l){return xR().includes(l)?function(...t){return l.apply(Qf(this),t),Ws(this.request)}:function(...t){return Ws(l.apply(Qf(this),t))}}function CR(l){return typeof l=="function"?RR(l):(l instanceof IDBTransaction&&TR(l),Vf(l,ER())?new Proxy(l,Wf):l)}function Ws(l){if(l instanceof IDBRequest)return SR(l);if(Of.has(l))return Of.get(l);const t=CR(l);return t!==l&&(Of.set(l,t),Pu.set(t,l)),t}const Qf=l=>Pu.get(l);function wR(l,t,{blocked:n,upgrade:s,blocking:r,terminated:o}={}){const c=indexedDB.open(l,t),h=Ws(c);return s&&c.addEventListener("upgradeneeded",d=>{s(Ws(c.result),d.oldVersion,d.newVersion,Ws(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",_=>r(_.oldVersion,_.newVersion,_))}).catch(()=>{}),h}const bR=["get","getKey","getAll","getAllKeys","count"],AR=["put","add","delete","clear"],Lf=new Map;function zy(l,t){if(!(l instanceof IDBDatabase&&!(t in l)&&typeof t=="string"))return;if(Lf.get(t))return Lf.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,r=AR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||bR.includes(n)))return;const o=async function(c,...h){const d=this.transaction(c,r?"readwrite":"readonly");let _=d.store;return s&&(_=_.index(h.shift())),(await Promise.all([_[n](...h),r&&d.done]))[0]};return Lf.set(t,o),o}sp(l=>({...l,get:(t,n,s)=>zy(t,n)||l.get(t,n,s),has:(t,n)=>!!zy(t,n)||l.has(t,n)}));const MR=["continue","continuePrimaryKey","advance"],Ny={},Jf=new WeakMap,lp=new WeakMap,DR={get(l,t){if(!MR.includes(t))return l[t];let n=Ny[t];return n||(n=Ny[t]=function(...s){Jf.set(this,lp.get(this)[t](...s))}),n}};async function*OR(...l){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...l)),!t)return;t=t;const n=new Proxy(t,DR);for(lp.set(n,t),Pu.set(n,Qf(t));t;)yield n,t=await(Jf.get(n)||t.continue()),Jf.delete(n)}function Gy(l,t){return t===Symbol.asyncIterator&&Vf(l,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Vf(l,[IDBIndex,IDBObjectStore])}sp(l=>({...l,get(t,n,s){return Gy(t,n)?OR:l.get(t,n,s)},has(t,n){return Gy(t,n)||l.has(t,n)}}));const LR="ArtviewerDB",IR=1,ap=[{key:"artists",keyPath:"artistId",url:"https://artsearcher.app/api/artists",transform:l=>Object.values(l).map(t=>({...t,artistImageUrl:t.artistImageUrl?`https://artsearcher.app${t.artistImageUrl}`:""}))},{key:"artworks",keyPath:"artworkId",url:"https://artsearcher.app/api/artworks_all",transform:l=>Object.values(l).map(t=>({...t,imageUrl:t.imageUrl?`https://artsearcher.app${t.imageUrl}`:"",artistImageUrl:t.artistImageUrl?`https://artsearcher.app${t.artistImageUrl}`:"",artworkYear:parseInt(t.artworkYear)}))},{key:"galleries",keyPath:"galleryId",url:"https://artsearcher.app/api/galleries",transform:l=>Object.values(l).map(t=>({...t}))},{key:"countries",keyPath:"countryId",url:"https://artsearcher.app/api/countries",transform:l=>Object.values(l)}];async function _a(){return wR(LR,IR,{upgrade(l){ap.map(t=>{let n;l.objectStoreNames.contains(t.key)?(n=l.transaction(t.key,"versionchange").objectStore(t.key),Array.from(n.indexNames).includes(t.keyPath)||n.createIndex(t.keyPath,t.keyPath,{unique:!0})):(n=l.createObjectStore(t.key,{keyPath:t.keyPath}),n.createIndex(t.keyPath,t.keyPath,{unique:!0}))})}})}async function zR(l,t,n){try{const s=await _a();if((await s.getAll(l)).length>0){console.log(`${l} already stored`);return}const c=await(await fetch(t)).json();if(typeof c!="object"||c===null)throw new Error(`Invalid data format for ${l}`);const h=n(c),d=s.transaction(l,"readwrite"),_=d.objectStore(l);for(const m of h)await _.put(m);await d.done,console.log(`${l} stored successfully`)}catch(s){console.error(`Error fetching ${l}:`,s)}}function NR(){return Promise.all(ap.map(l=>zR(l.key,l.url,l.transform)))}async function GR(){return(await _a()).getAll("artists")}async function UR(){return(await _a()).getAll("galleries")}async function kR(l){return(await(await _a()).getAll("artworks")).filter(s=>s.artistId===l)}async function YR(l){return(await(await _a()).getAll("artworks")).filter(s=>s.galleryId===l)}async function XR(l){const n=(await _a()).transaction("galleries","readonly"),o=await n.objectStore("galleries").index("galleryId").get(l);return await n.done,o}const rp=wt.createContext(null),FR=({children:l})=>{const[t,n]=wt.useState(null),[s,r]=wt.useState(null),o=d=>{n(d)},c=async d=>{const _=await XR(d);_?r(_):console.warn("Gallery not found")},h=()=>{n(null),r(null)};return Q.jsx(rp.Provider,{value:{artworks:t,gallery:s,showArtworkLocations:o,showGalleryOnMapById:c,clearMapMarkers:h},children:l})},Vu=()=>{const l=wt.useContext(rp);if(l===null)throw new Error("useMap must be used within a MapProvider");return l},BR=()=>{const l=wt.useRef(null),t=wt.useRef(null),{gallery:n,artworks:s}=Vu(),r=wt.useRef(null),o=wt.useRef(null);return wt.useEffect(()=>{l.current&&!t.current&&(t.current=new NT({target:l.current,layers:[new $T({source:new vR})],view:new Wn({center:[0,0],zoom:4})}))},[]),wt.useEffect(()=>{if(n&&t.current){t.current.getView().animate({center:uf([n.galleryLon,n.galleryLat]),zoom:6}),r.current&&t.current.removeLayer(r.current);const h=new mu({geometry:new Or(uf([n.galleryLon,n.galleryLat]))}),d=new Ai({image:new fa({radius:8,fill:new Js({color:"#809fff"}),stroke:new ha({color:"#03123c",width:2})})}),_=new Cy({source:new ly({features:[h]}),style:d});t.current.addLayer(_),r.current=_}else t.current&&r.current&&(t.current.removeLayer(r.current),r.current=null)},[n]),wt.useEffect(()=>{if(s&&s.length>0&&t.current){const c=t.current;o.current&&c.removeLayer(o.current);const h=s.map(v=>new mu({geometry:new Or(uf([v.galleryLon,v.galleryLat]))})),d=new Ai({image:new fa({radius:6,fill:new Js({color:"#ff6666"}),stroke:new ha({color:"#8b0000",width:2})})}),_=new Cy({source:new ly({features:h}),style:d});c.addLayer(_),o.current=_;const m=_.getSource(),y=m==null?void 0:m.getExtent();y&&c.getView().fit(y,{padding:[50,50,50,50],maxZoom:8})}else t.current&&o.current&&(t.current.removeLayer(o.current),o.current=null)},[s]),Q.jsx("div",{ref:l,style:{width:"100%",height:"100%"}})},jR=({message:l})=>Q.jsxs("div",{className:"loading-component",children:[Q.jsx("svg",{className:"spinner",viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg",children:Q.jsx("circle",{className:"spinner-circle",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"5"})}),l&&Q.jsx("span",{className:"loading-message",children:l})]}),HR={artist:["M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0","M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"],gallery:["M5 3h1a1 1 0 0 1 1 1v2h3v-2a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2h3v-2a1 1 0 0 1 1 -1h1a1 1 0 0 1 1 1v4.394a2 2 0 0 1 -.336 1.11l-1.328 1.992a2 2 0 0 0 -.336 1.11v7.394a1 1 0 0 1 -1 1h-10a1 1 0 0 1 -1 -1v-7.394a2 2 0 0 0 -.336 -1.11l-1.328 -1.992a2 2 0 0 1 -.336 -1.11v-4.394a1 1 0 0 1 1 -1z","M10 21v-5a2 2 0 1 1 4 0v5"],map:["M3 7l6 -3l6 3l6 -3v13l-6 3l-6 -3l-6 3v-13","M9 4v13","M15 7v13"],home:["M5 12l-2 0l9 -9l9 9l-2 0","M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7","M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6"],close:["M18 6l-12 12","M6 6l12 12"]},Vs=({icon:l,onClick:t,size:n=24,className:s})=>{const r=HR[l];return r?Q.jsx("svg",{className:s,onClick:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",width:n,height:n,strokeWidth:"1",strokeLinejoin:"round",strokeLinecap:"round",stroke:"currentColor",children:r.map((o,c)=>Q.jsx("path",{d:o},c))}):(console.warn(`No icon found for ${l}`),null)},ZR=Q.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",width:"48",height:"48",strokeWidth:"0.75",children:[Q.jsx("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),Q.jsx("path",{d:"M12 10m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),Q.jsx("path",{d:"M6.168 18.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855"})]}),op=wt.forwardRef(({artworks:l,onGallerySelect:t,onArtistSelect:n},s)=>{const{showGalleryOnMapById:r}=Vu();return Q.jsx("div",{className:"artwork-list",ref:s,children:l.length===0?Q.jsxs("p",{className:"no-artworks-message",children:["No ",t?"artworks":"gallery artworks"," found"]}):l.map(o=>Q.jsxs("div",{className:"artwork-card",children:[Q.jsx("div",{className:"artwork-image-container",children:Q.jsx("img",{loading:"lazy",src:o.imageUrl,alt:o.artworkTitle,className:"artwork-image"})}),Q.jsxs("div",{className:"artwork-info",children:[Q.jsx("h3",{className:"artwork-title",children:o.artworkTitle}),Q.jsxs("h4",{children:[o.artistFirstname," ",o.artistLastname]}),Q.jsx("p",{className:"artwork-year",children:o.artworkYear}),Q.jsx("p",{className:"artwork-medium",children:o.artworkMedium}),Q.jsx("p",{className:"artwork-style",children:o.artworkStyle}),Q.jsx("p",{className:"artwork-dimensions",children:o.artworkDimensions}),Q.jsx("p",{className:"link",onClick:()=>r(o.galleryId),children:o.galleryTitle}),t&&Q.jsxs("p",{className:"link",onFocus:()=>t(o.galleryId),onClick:()=>{t(o.galleryId),r(o.galleryId)},children:["More from ",o.galleryTitle]}),n&&Q.jsxs("p",{className:"link",onClick:()=>{n(o.artistId)},children:["More works by ",o.artistTitle]})]})]},o.artworkId))})}),qR=({ArtistsData:l,onGallerySelect:t,initialArtistId:n})=>{const[s,r]=wt.useState(""),o=wt.useRef(null),c=wt.useRef(null),[h,d]=wt.useState(n),[_,m]=wt.useState([]),{showArtworkLocations:y,clearMapMarkers:v}=Vu(),x=h?l.filter(T=>T.artistId===h):l.filter(T=>T.artistTitle.toLowerCase().includes(s.toLowerCase()));wt.useEffect(()=>{o.current&&(o.current.scrollTop=0)},[s]);function S(T){v(),y(T)}wt.useEffect(()=>{h&&(async()=>{const b=await kR(h);m(b),S(b)})()},[h]),wt.useEffect(()=>{c.current&&(c.current.scrollTop=0)},[_]);const w=T=>{d(T),r("")};return Q.jsxs("div",{children:[Q.jsxs("div",{className:`list ${h?"":"full-height"}`,ref:o,children:[Q.jsx("input",{type:"text",placeholder:"Search artists",className:"search-input",value:s,onChange:T=>r(T.target.value),onFocus:()=>{d(null),m([])}}),x.length===0?Q.jsx("p",{children:"No artist data found."}):x.sort((T,b)=>T.artistTitle.localeCompare(b.artistTitle)).map(T=>Q.jsxs("div",{className:"list-item",onClick:()=>w(T.artistId),children:[Q.jsx("div",{className:"list-image",children:T.artistImageUrl&&T.artistImageUrl!==""?Q.jsx("img",{loading:"lazy",src:T.artistImageUrl,alt:T.artistTitle}):ZR}),Q.jsx("p",{className:"list-title",children:T.artistTitle}),h===T.artistId&&Q.jsx("div",{className:"close-icon-right",children:Q.jsx(Vs,{icon:"close",onClick:b=>{b.stopPropagation(),d(null),m([]),v()}})})]},T.artistId))]}),h&&Q.jsx(op,{artworks:_,ref:c,onGallerySelect:t})]})},PR=({GalleryData:l,initialGalleryId:t,onArtistSelect:n})=>{const{showGalleryOnMapById:s,clearMapMarkers:r}=Vu(),[o,c]=wt.useState([]),[h,d]=wt.useState(""),_=wt.useRef(null),m=wt.useRef(null),[y,v]=wt.useState(t),x=y?l.filter(T=>T.galleryId===y):l.filter(T=>T.galleryTitle.toLowerCase().includes(h.toLowerCase()));wt.useEffect(()=>{_.current&&(_.current.scrollTop=0)},[h]),wt.useEffect(()=>{m.current&&(m.current.scrollTop=0)},[o]),wt.useEffect(()=>{y&&(async()=>{const b=await YR(y);c(b)})()},[y]);const S=T=>{v(T),d("")},w=l.find(T=>T.galleryId===y);return Q.jsxs("div",{children:[y&&w?Q.jsxs("div",{className:"selected-gallery-info",children:[Q.jsxs("div",{className:"selected-gallery-info-header",children:[Q.jsx("h4",{className:"selected-gallery-title",children:Q.jsx("a",{href:w.galleryLink,target:"_blank",rel:"noreferrer",children:w.galleryTitle})}),Q.jsx("div",{className:"selected-gallery-close-icon",children:Q.jsx(Vs,{icon:"close",onClick:()=>{v(null),r(),c([])}})})]}),Q.jsx("p",{children:w.galleryAddress}),Q.jsx("p",{children:w.countryTitle})]}):Q.jsxs("div",{className:`list ${y?"":"full-height"}`,ref:_,children:[Q.jsx("input",{type:"text",placeholder:"Search galleries",className:"search-input",value:h,onChange:T=>d(T.target.value),onFocus:()=>{v(null),c([])}}),x.length===0?Q.jsx("p",{children:"No gallery data found."}):x.sort((T,b)=>T.galleryTitle.localeCompare(b.galleryTitle)).map(T=>Q.jsxs("div",{className:"list-item",onClick:()=>{S(T.galleryId),s(T.galleryId)},children:[Q.jsx("div",{className:"list-image",children:Q.jsx(Vs,{icon:"gallery",className:"list-svg"})}),Q.jsx("p",{className:"list-title",children:T.galleryTitle})]},T.galleryId))]}),y&&Q.jsx(op,{artworks:o,ref:m,onArtistSelect:n})]})},VR=({onClick:l})=>Q.jsxs("div",{className:"home-container",children:[Q.jsx("h1",{children:"Welcome to ArtViewer"}),Q.jsx("p",{children:"Discover and explore an extensive collection of artists and their works."}),Q.jsx("p",{children:"Our platform allows you to browse artists, view detailed profiles, and explore galleries."}),Q.jsx("p",{children:"Whether you're an art enthusiast or a casual admirer, ArtViewer brings the world of art to your fingertips."}),Q.jsx("p",{children:"Click on an artist to view their profile, explore their works, and learn more about their creative journey."}),Q.jsx("div",{className:"buttons",children:Q.jsx("p",{className:"get-started",onClick:l,children:"Get Started"})})]});function KR(){wt.useEffect(()=>{(async()=>{try{await NR();const D=await GR(),G=await UR();o(D),h(G)}catch{s("Error fetching artists from IndexedDB")}finally{t(!1)}})()},[]);const[l,t]=wt.useState(!0),[n,s]=wt.useState(null),[r,o]=wt.useState([]),[c,h]=wt.useState([]),[d,_]=wt.useState("home"),[m,y]=wt.useState(null),[v,x]=wt.useState(null),S=b=>{y(b),_("gallery")},w=b=>{x(b),_("artist")},T=b=>{_(b),y(null),x(null)};return Q.jsx(FR,{children:Q.jsxs("div",{className:"outer-container",children:[Q.jsx("div",{className:"sidebar",children:Q.jsxs("ul",{children:[Q.jsx("li",{onClick:()=>T("home"),className:d==="home"?"active":"",children:Q.jsx(Vs,{icon:"home"})}),Q.jsx("li",{onClick:()=>T("artist"),className:d==="artist"?"active":"",children:Q.jsx(Vs,{icon:"artist"})}),Q.jsx("li",{onClick:()=>T("gallery"),className:d==="gallery"?"active":"",children:Q.jsx(Vs,{icon:"gallery"})}),Q.jsx("li",{children:Q.jsx(Vs,{icon:"map"})})]})}),Q.jsxs("div",{className:"inner-container",children:[l&&Q.jsx(jR,{message:"Loading..."}),Q.jsx("div",{className:"left-section",children:!l&&!n&&Q.jsxs(Q.Fragment,{children:[d==="artist"&&Q.jsx(qR,{ArtistsData:r,onGallerySelect:S,initialArtistId:v}),d==="gallery"&&Q.jsx(PR,{GalleryData:c,initialGalleryId:m,onArtistSelect:w}),d==="home"&&Q.jsx(VR,{onClick:()=>_("artist")})]})}),Q.jsx("div",{className:"right-section",children:Q.jsx("div",{className:"map-placeholder",children:Q.jsx(BR,{})})})]})]})})}DE.createRoot(document.getElementById("root")).render(Q.jsx(wt.StrictMode,{children:Q.jsx(KR,{})}));
